{"version":3,"sources":["webpack:///./node_modules/lodash/times.js","webpack:///./src/main/js/apps/code/code.css","webpack:///./src/main/js/apps/code/code.css?a594","webpack:///./src/main/js/apps/code/components/Truncated.tsx","webpack:///./src/main/js/apps/code/components/ComponentName.tsx","webpack:///./src/main/js/apps/code/components/ComponentMeasure.tsx","webpack:///./src/main/js/apps/code/components/ComponentLink.tsx","webpack:///./src/main/js/components/icons-components/PinIcon.tsx","webpack:///./src/main/js/apps/code/components/ComponentPin.tsx","webpack:///./src/main/js/apps/code/components/Component.tsx","webpack:///./src/main/js/apps/code/components/ComponentsEmpty.tsx","webpack:///./src/main/js/apps/code/components/ComponentsHeader.tsx","webpack:///./src/main/js/apps/code/components/Components.tsx","webpack:///./src/main/js/apps/code/components/Breadcrumbs.tsx","webpack:///./src/main/js/apps/code/components/Search.tsx","webpack:///./src/main/js/apps/code/bucket.ts","webpack:///./src/main/js/apps/code/utils.ts","webpack:///./src/main/js/apps/code/components/App.tsx","webpack:///./src/main/js/app/components/embed-docs-modal/Suggestions.tsx","webpack:///./node_modules/lodash/map.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/lodash/difference.js","webpack:///./node_modules/lodash/orderBy.js","webpack:///./node_modules/lodash/_castArrayLikeObject.js","webpack:///./node_modules/lodash/_baseIntersection.js","webpack:///./node_modules/lodash/intersection.js"],"names":["module","exports","n","iteratee","index","result","Array","__webpack_require__","push","i","content","options","hmr","transform","insertInto","undefined","locals","Truncated","_a","children","title","index_js_exposed","className","ComponentName","props","branchLike","component","rootComponent","previous","canBrowse","prefix","qualifier","strings","sortedStrings","slice","sort","firstString","firstStringLength","length","lastString","charAt","substr","prefixTokens","split","lastPrefixPart","mostCommitPrefix","name","style","color","theme","inner","refKey","es","to","pathname","query","id","QualifierIcon","__assign","key","Object","branches","assign","selected","path","getTooltip","ComponentMeasure","metricKey","metricType","isProject","isReleasability","finalMetricKey","finalMetricType","measure","isArray","measures","find","metric","Measure","value","ComponentLink","l10n","urls","LinkIcon","PinIcon","_b","fill","size","Icon","d","_super","ComponentPin","_this","apply","this","arguments","handleClick","event","preventDefault","currentTarget","blur","context","workspace","openComponent","__extends","prototype","render","href","onClick","contextTypes","prop_types","isRequired","Component","Component_extends","componentDidMount","handleUpdate","componentDidUpdate","setTimeout","handleScroll","node","position","getBoundingClientRect","top","bottom","window","innerHeight","scrollTo","pageYOffset","_c","isPortfolio","includes","isApplication","hideCoverageAndDuplicates","componentAction","components_ComponentPin","columns","type","filter","Boolean","classnames","ref","map","column","ComponentsEmpty","colSpan","ComponentsHeader","baseComponent","Components","components","components_Component","list","Breadcrumbs","breadcrumbs","Search","mounted","state","loading","handleKeyDown","keyCode","handleSelectCurrent","handleSelectPrevious","handleSelectNext","handleSearch","onError_1","onError","setState","qualifiers","api_components","Search_assign","q","s","then","r","results","selectedIndex","catch","e","request","handleQueryChange","Search_extends","componentWillReceiveProps","nextProps","location","componentWillUnmount","router","containerClassName","code-search-with-results","SearchBox","minLength","onChange","onKeyDown","placeholder","bucket","childrenBucket","breadcrumbsBucket","addComponent","addComponentChildren","componentKey","total","page","getComponentChildren","concat","addComponentBreadcrumbs","getComponentBreadcrumbs","METRICS","PORTFOLIO_METRICS","PAGE_SIZE","requestAllChildren","metrics","requestChildren","utils_assign","p","ps","paging","pageSize","pageIndex","moreComponents","expandRootDir","other","__rest","rootDir","rootDirComponents","nextComponents","without_default","nextTotal","Promise","resolve","prepareChildren","skipRootDir","storeChildrenBase","forEach","storeChildrenBreadcrumbs","parentComponentKey","parentBreadcrumbs","child","getMetrics","retrieveComponentBase","existing","getComponent","metricKeys","join","retrieveComponentChildren","retrieveComponent","all","retrieveComponentBreadcrumbs","App_App","App","handleLoadMore","loadMoreChildren","handleError","error","App_extends","handleComponentChange","prevProps","loadComponent","sourceViewer","searchResults","finalKey","shouldShowBreadcrumbs","componentsClassName","new-loading","Suggestions","suggestions","Helmet_default","a","components_Search","ListFooter","count","loadMore","SourceViewer","addSuggestions","removeSuggestions","prop_types__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_0__","arrayMap","baseIteratee","baseMap","collection","baseAssignValue","createAggregator","hasOwnProperty","groupBy","call","baseDifference","baseFlatten","baseRest","isArrayLikeObject","difference","array","values","baseOrderBy","iteratees","orders","guard","SetCache","arrayIncludes","arrayIncludesWith","baseUnary","cacheHas","nativeMin","Math","min","arrays","comparator","othLength","othIndex","caches","maxLength","Infinity","seen","outer","computed","cache","baseIntersection","castArrayLikeObject","intersection","mapped"],"mappings":"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","file":"js/276.72daf029.chunk.js","sourcesContent":["/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".code-breadcrumbs{display:flex;flex-wrap:wrap}.code-breadcrumbs>li{padding:5px 5px 3px}.code-breadcrumbs>li:first-child{padding-left:0}.code-breadcrumbs>li:after{position:relative;top:-1px;padding-left:10px;color:#777;font-size:11px;content:\\\">\\\"}.code-breadcrumbs>li:last-child:after{display:none}.code-components-cell{min-width:80px;padding-left:30px!important;box-sizing:border-box}.code-truncated{display:inline-block;vertical-align:text-top;max-width:50vw;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.code-name-cell{max-width:0}.code-name-cell .code-truncated{max-width:100%}.code-search{margin-bottom:10px}.code-search-with-results+.code-components{display:none}.code-components-header{position:-webkit-sticky;position:sticky;top:95px;background-color:hsla(0,0%,100%,.9)}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./code.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./code.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./code.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\ninterface Props {\n  children: React.ReactNode;\n  title: string;\n}\n\nexport default function Truncated({ children, title }: Props) {\n  return (\n    <span className=\"code-truncated\" title={title}>\n      {children}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport Truncated from './Truncated';\nimport { Component } from '../types';\nimport * as theme from '../../../app/theme';\nimport { BranchLike } from '../../../app/types';\nimport QualifierIcon from '../../../components/icons-components/QualifierIcon';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\n\nfunction getTooltip(component: Component) {\n  const isFile = component.qualifier === 'FIL' || component.qualifier === 'UTS';\n  if (isFile && component.path) {\n    return component.path + '\\n\\n' + component.key;\n  } else {\n    return component.name + '\\n\\n' + component.key;\n  }\n}\n\nfunction mostCommitPrefix(strings: string[]) {\n  const sortedStrings = strings.slice(0).sort();\n  const firstString = sortedStrings[0];\n  const firstStringLength = firstString.length;\n  const lastString = sortedStrings[sortedStrings.length - 1];\n  let i = 0;\n  while (i < firstStringLength && firstString.charAt(i) === lastString.charAt(i)) {\n    i++;\n  }\n  const prefix = firstString.substr(0, i);\n  const prefixTokens = prefix.split(/[\\s\\\\/]/);\n  const lastPrefixPart = prefixTokens[prefixTokens.length - 1];\n  return prefix.substr(0, prefix.length - lastPrefixPart.length);\n}\n\ninterface Props {\n  branchLike?: BranchLike;\n  canBrowse?: boolean;\n  component: Component;\n  previous?: Component;\n  rootComponent: Component;\n}\n\nexport default function ComponentName(props: Props) {\n  const { branchLike, component, rootComponent, previous, canBrowse = false } = props;\n  const areBothDirs = component.qualifier === 'DIR' && previous && previous.qualifier === 'DIR';\n  const prefix =\n    areBothDirs && previous !== undefined\n      ? mostCommitPrefix([component.name + '/', previous.name + '/'])\n      : '';\n  const name = prefix ? (\n    <span>\n      <span style={{ color: theme.secondFontColor }}>{prefix}</span>\n      <span>{component.name.substr(prefix.length)}</span>\n    </span>\n  ) : (\n    component.name\n  );\n\n  let inner = null;\n\n  if (component.refKey && component.qualifier !== 'SVW') {\n    inner = (\n      <Link\n        to={{ pathname: '/dashboard', query: { id: component.refKey } }}\n        className=\"link-with-icon\">\n        <QualifierIcon qualifier={component.qualifier} /> <span>{name}</span>\n      </Link>\n    );\n  } else if (canBrowse) {\n    const query = { id: rootComponent.key, ...getBranchLikeQuery(branchLike) };\n    if (component.key !== rootComponent.key) {\n      Object.assign(query, { selected: component.key });\n    }\n    inner = (\n      <Link to={{ pathname: '/code', query }} className=\"link-with-icon\">\n        <QualifierIcon qualifier={component.qualifier} /> <span>{name}</span>\n      </Link>\n    );\n  } else {\n    inner = (\n      <span>\n        <QualifierIcon qualifier={component.qualifier} /> {name}\n      </span>\n    );\n  }\n\n  return <Truncated title={getTooltip(component)}>{inner}</Truncated>;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Measure from '../../../components/measure/Measure';\nimport { Component } from '../types';\n\ninterface Props {\n  component: Component;\n  metricKey: string;\n  metricType: string;\n}\n\nexport default function ComponentMeasure({ component, metricKey, metricType }: Props) {\n  const isProject = component.qualifier === 'TRK';\n  const isReleasability = metricKey === 'releasability_rating';\n\n  const finalMetricKey = isProject && isReleasability ? 'alert_status' : metricKey;\n  const finalMetricType = isProject && isReleasability ? 'LEVEL' : metricType;\n\n  const measure =\n    Array.isArray(component.measures) &&\n    component.measures.find(measure => measure.metric === finalMetricKey);\n\n  if (!measure) {\n    return <span />;\n  }\n\n  return <Measure value={measure.value} metricKey={finalMetricKey} metricType={finalMetricType} />;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { Component } from '../types';\nimport { BranchLike } from '../../../app/types';\nimport LinkIcon from '../../../components/icons-components/LinkIcon';\nimport { translate } from '../../../helpers/l10n';\nimport { getBranchLikeUrl } from '../../../helpers/urls';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: Component;\n}\n\nexport default function ComponentLink({ component, branchLike }: Props) {\n  return (\n    <Link\n      className=\"link-no-underline\"\n      title={translate('code.open_component_page')}\n      to={getBranchLikeUrl(component.refKey || component.key, branchLike)}>\n      <LinkIcon />\n    </Link>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function PinIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M7.25 7.25v-3.5a.243.243 0 0 0-.07-.18A.243.243 0 0 0 7 3.5a.243.243 0 0 0-.18.07.243.243 0 0 0-.07.18v3.5c0 .073.023.133.07.18.047.047.107.07.18.07a.243.243 0 0 0 .18-.07.243.243 0 0 0 .07-.18zM12.5 10a.482.482 0 0 1-.148.352.482.482 0 0 1-.352.148H8.648l-.398 3.773a.29.29 0 0 1-.082.161.219.219 0 0 1-.16.066H8c-.141 0-.224-.07-.25-.211L7.156 10.5H4a.482.482 0 0 1-.352-.148A.482.482 0 0 1 3.5 10c0-.641.204-1.217.613-1.73.409-.513.871-.77 1.387-.77v-4a.96.96 0 0 1-.703-.297A.96.96 0 0 1 4.5 2.5a.96.96 0 0 1 .297-.703A.96.96 0 0 1 5.5 1.5h5a.96.96 0 0 1 .703.297.96.96 0 0 1 .297.703.96.96 0 0 1-.297.703.96.96 0 0 1-.703.297v4c.516 0 .978.257 1.387.77.409.513.613 1.089.613 1.73z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Component } from '../types';\nimport { BranchLike } from '../../../app/types';\nimport PinIcon from '../../../components/icons-components/PinIcon';\nimport { WorkspaceContext } from '../../../components/workspace/context';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: Component;\n}\n\nexport default class ComponentPin extends React.PureComponent<Props> {\n  context!: { workspace: WorkspaceContext };\n\n  static contextTypes = {\n    workspace: PropTypes.object.isRequired\n  };\n\n  handleClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.context.workspace.openComponent({\n      branchLike: this.props.branchLike,\n      key: this.props.component.key,\n      name: this.props.component.path,\n      qualifier: this.props.component.qualifier\n    });\n  };\n\n  render() {\n    return (\n      <a\n        className=\"link-no-underline\"\n        href=\"#\"\n        onClick={this.handleClick}\n        title={translate('component_viewer.open_in_workspace')}>\n        <PinIcon />\n      </a>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport ComponentName from './ComponentName';\nimport ComponentMeasure from './ComponentMeasure';\nimport ComponentLink from './ComponentLink';\nimport ComponentPin from './ComponentPin';\nimport { Component as IComponent } from '../types';\nimport { BranchLike } from '../../../app/types';\nimport { isShortLivingBranch, isPullRequest } from '../../../helpers/branches';\n\nconst TOP_OFFSET = 200;\nconst BOTTOM_OFFSET = 10;\n\ninterface Props {\n  branchLike?: BranchLike;\n  canBrowse?: boolean;\n  component: IComponent;\n  previous?: IComponent;\n  rootComponent: IComponent;\n  selected?: boolean;\n}\n\nexport default class Component extends React.PureComponent<Props> {\n  node?: HTMLElement | null;\n\n  componentDidMount() {\n    this.handleUpdate();\n  }\n\n  componentDidUpdate() {\n    this.handleUpdate();\n  }\n\n  handleUpdate() {\n    const { selected } = this.props;\n\n    // scroll viewport so the current selected component is visible\n    if (selected) {\n      setTimeout(() => {\n        this.handleScroll();\n      }, 0);\n    }\n  }\n\n  handleScroll() {\n    if (this.node) {\n      const position = this.node.getBoundingClientRect();\n      const { top, bottom } = position;\n      if (bottom > window.innerHeight - BOTTOM_OFFSET) {\n        window.scrollTo(0, bottom - window.innerHeight + window.pageYOffset + BOTTOM_OFFSET);\n      } else if (top < TOP_OFFSET) {\n        window.scrollTo(0, top + window.pageYOffset - TOP_OFFSET);\n      }\n    }\n  }\n\n  render() {\n    const {\n      branchLike,\n      component,\n      rootComponent,\n      selected = false,\n      previous,\n      canBrowse = false\n    } = this.props;\n    const isPortfolio = ['VW', 'SVW'].includes(rootComponent.qualifier);\n    const isApplication = rootComponent.qualifier === 'APP';\n    const hideCoverageAndDuplicates = isShortLivingBranch(branchLike) || isPullRequest(branchLike);\n\n    let componentAction = null;\n\n    if (!component.refKey || component.qualifier === 'SVW') {\n      switch (component.qualifier) {\n        case 'FIL':\n        case 'UTS':\n          componentAction = <ComponentPin branchLike={branchLike} component={component} />;\n          break;\n        default:\n          componentAction = <ComponentLink branchLike={branchLike} component={component} />;\n      }\n    }\n\n    const columns = isPortfolio\n      ? [\n          { metric: 'releasability_rating', type: 'RATING' },\n          { metric: 'reliability_rating', type: 'RATING' },\n          { metric: 'security_rating', type: 'RATING' },\n          { metric: 'sqale_rating', type: 'RATING' },\n          { metric: 'ncloc', type: 'SHORT_INT' }\n        ]\n      : ([\n          isApplication && { metric: 'alert_status', type: 'LEVEL' },\n          { metric: 'ncloc', type: 'SHORT_INT' },\n          { metric: 'bugs', type: 'SHORT_INT' },\n          { metric: 'vulnerabilities', type: 'SHORT_INT' },\n          { metric: 'code_smells', type: 'SHORT_INT' },\n          !hideCoverageAndDuplicates && { metric: 'coverage', type: 'PERCENT' },\n          !hideCoverageAndDuplicates && { metric: 'duplicated_lines_density', type: 'PERCENT' }\n        ].filter(Boolean) as Array<{ metric: string; type: string }>);\n\n    return (\n      <tr className={classNames({ selected })} ref={node => (this.node = node)}>\n        <td className=\"thin nowrap\">\n          <span className=\"spacer-right\">{componentAction}</span>\n        </td>\n        <td className=\"code-name-cell\">\n          <ComponentName\n            branchLike={branchLike}\n            canBrowse={canBrowse}\n            component={component}\n            previous={previous}\n            rootComponent={rootComponent}\n          />\n        </td>\n\n        {columns.map(column => (\n          <td className=\"thin nowrap text-right\" key={column.metric}>\n            <div className=\"code-components-cell\">\n              <ComponentMeasure\n                component={component}\n                metricKey={column.metric}\n                metricType={column.type}\n              />\n            </div>\n          </td>\n        ))}\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\n\nexport default function ComponentsEmpty() {\n  return (\n    <tr>\n      <td colSpan={2}>{translate('no_results')}</td>\n      <td colSpan={6} />\n    </tr>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { translate } from '../../../helpers/l10n';\nimport { Component } from '../types';\nimport { isShortLivingBranch, isPullRequest } from '../../../helpers/branches';\nimport { BranchLike } from '../../../app/types';\n\ninterface Props {\n  branchLike?: BranchLike;\n  baseComponent?: Component;\n  rootComponent: Component;\n}\n\nexport default function ComponentsHeader({ baseComponent, branchLike, rootComponent }: Props) {\n  const isPortfolio = rootComponent.qualifier === 'VW' || rootComponent.qualifier === 'SVW';\n  const isApplication = rootComponent.qualifier === 'APP';\n  const hideCoverageAndDuplicates = isShortLivingBranch(branchLike) || isPullRequest(branchLike);\n\n  const columns = isPortfolio\n    ? [\n        translate('metric_domain.Releasability'),\n        translate('metric_domain.Reliability'),\n        translate('metric_domain.Security'),\n        translate('metric_domain.Maintainability'),\n        translate('metric', 'ncloc', 'name')\n      ]\n    : ([\n        isApplication && translate('metric.alert_status.name'),\n        translate('metric', 'ncloc', 'name'),\n        translate('metric', 'bugs', 'name'),\n        translate('metric', 'vulnerabilities', 'name'),\n        translate('metric', 'code_smells', 'name'),\n        !hideCoverageAndDuplicates && translate('metric', 'coverage', 'name'),\n        !hideCoverageAndDuplicates && translate('metric', 'duplicated_lines_density', 'short_name')\n      ].filter(Boolean) as string[]);\n\n  return (\n    <thead>\n      <tr className=\"code-components-header\">\n        <th className=\"thin nowrap\">&nbsp;</th>\n        <th>&nbsp;</th>\n        {columns.map(column => (\n          <th key={column} className=\"thin nowrap text-right code-components-cell\">\n            {baseComponent && column}\n          </th>\n        ))}\n      </tr>\n    </thead>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Component from './Component';\nimport ComponentsEmpty from './ComponentsEmpty';\nimport ComponentsHeader from './ComponentsHeader';\nimport { Component as IComponent } from '../types';\nimport { BranchLike } from '../../../app/types';\n\ninterface Props {\n  baseComponent?: IComponent;\n  branchLike?: BranchLike;\n  components: IComponent[];\n  rootComponent: IComponent;\n  selected?: IComponent;\n}\n\nexport default function Components(props: Props) {\n  const { baseComponent, branchLike, components, rootComponent, selected } = props;\n  return (\n    <table className=\"data zebra\">\n      <ComponentsHeader\n        baseComponent={baseComponent}\n        branchLike={branchLike}\n        rootComponent={rootComponent}\n      />\n      {baseComponent && (\n        <tbody>\n          <Component\n            branchLike={branchLike}\n            component={baseComponent}\n            key={baseComponent.key}\n            rootComponent={rootComponent}\n          />\n          <tr className=\"blank\">\n            <td colSpan={8}>&nbsp;</td>\n          </tr>\n        </tbody>\n      )}\n      <tbody>\n        {components.length ? (\n          components.map((component, index, list) => (\n            <Component\n              branchLike={branchLike}\n              canBrowse={true}\n              component={component}\n              key={component.key}\n              previous={index > 0 ? list[index - 1] : undefined}\n              rootComponent={rootComponent}\n              selected={component === selected}\n            />\n          ))\n        ) : (\n          <ComponentsEmpty />\n        )}\n      </tbody>\n    </table>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ComponentName from './ComponentName';\nimport { Component } from '../types';\nimport { BranchLike } from '../../../app/types';\n\ninterface Props {\n  branchLike?: BranchLike;\n  breadcrumbs: Component[];\n  rootComponent: Component;\n}\n\nexport default function Breadcrumbs({ branchLike, breadcrumbs, rootComponent }: Props) {\n  return (\n    <ul className=\"code-breadcrumbs\">\n      {breadcrumbs.map((component, index) => (\n        <li key={component.key}>\n          <ComponentName\n            branchLike={branchLike}\n            canBrowse={index < breadcrumbs.length - 1}\n            component={component}\n            rootComponent={rootComponent}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport * as classNames from 'classnames';\nimport Components from './Components';\nimport { Component } from '../types';\nimport { getTree } from '../../../api/components';\nimport { BranchLike } from '../../../app/types';\nimport SearchBox from '../../../components/controls/SearchBox';\nimport { getBranchLikeQuery } from '../../../helpers/branches';\nimport { translate } from '../../../helpers/l10n';\nimport { parseError } from '../../../helpers/request';\nimport { getProjectUrl } from '../../../helpers/urls';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: Component;\n  location: {};\n  onError: (error: string) => void;\n}\n\ninterface State {\n  query: string;\n  loading: boolean;\n  results?: Component[];\n  selectedIndex?: number;\n}\n\nexport default class Search extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  };\n\n  state: State = {\n    query: '',\n    loading: false\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    // if the url has change, reset the current state\n    if (nextProps.location !== this.props.location) {\n      this.setState({\n        query: '',\n        loading: false,\n        results: undefined,\n        selectedIndex: undefined\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSelectNext() {\n    const { selectedIndex, results } = this.state;\n    if (results != null && selectedIndex != null && selectedIndex < results.length - 1) {\n      this.setState({ selectedIndex: selectedIndex + 1 });\n    }\n  }\n\n  handleSelectPrevious() {\n    const { selectedIndex, results } = this.state;\n    if (results != null && selectedIndex != null && selectedIndex > 0) {\n      this.setState({ selectedIndex: selectedIndex - 1 });\n    }\n  }\n\n  handleSelectCurrent() {\n    const { branchLike, component } = this.props;\n    const { results, selectedIndex } = this.state;\n    if (results != null && selectedIndex != null) {\n      const selected = results[selectedIndex];\n\n      if (selected.refKey) {\n        this.context.router.push(getProjectUrl(selected.refKey));\n      } else {\n        this.context.router.push({\n          pathname: '/code',\n          query: { id: component.key, selected: selected.key, ...getBranchLikeQuery(branchLike) }\n        });\n      }\n    }\n  }\n\n  handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    switch (event.keyCode) {\n      case 13:\n        event.preventDefault();\n        this.handleSelectCurrent();\n        break;\n      case 38:\n        event.preventDefault();\n        this.handleSelectPrevious();\n        break;\n      case 40:\n        event.preventDefault();\n        this.handleSelectNext();\n        break;\n      default: // do nothing\n    }\n  };\n\n  handleSearch = (query: string) => {\n    if (this.mounted) {\n      const { branchLike, component, onError } = this.props;\n      this.setState({ loading: true });\n\n      const isPortfolio = ['VW', 'SVW', 'APP'].includes(component.qualifier);\n      const qualifiers = isPortfolio ? 'SVW,TRK' : 'BRC,UTS,FIL';\n\n      getTree(component.key, {\n        q: query,\n        s: 'qualifier,name',\n        qualifiers,\n        ...getBranchLikeQuery(branchLike)\n      })\n        .then(r => {\n          if (this.mounted) {\n            this.setState({\n              results: r.components,\n              selectedIndex: r.components.length > 0 ? 0 : undefined,\n              loading: false\n            });\n          }\n        })\n        .catch(e => {\n          if (this.mounted) {\n            this.setState({ loading: false });\n            parseError(e).then(onError);\n          }\n        });\n    }\n  };\n\n  handleQueryChange = (query: string) => {\n    this.setState({ query });\n    if (query.length === 0) {\n      this.setState({ results: undefined });\n    } else {\n      this.handleSearch(query);\n    }\n  };\n\n  render() {\n    const { component } = this.props;\n    const { loading, selectedIndex, results } = this.state;\n    const selected = selectedIndex != null && results != null ? results[selectedIndex] : undefined;\n    const containerClassName = classNames('code-search', {\n      'code-search-with-results': results != null\n    });\n    const isPortfolio = ['VW', 'SVW', 'APP'].includes(component.qualifier);\n\n    return (\n      <div id=\"code-search\" className={containerClassName}>\n        <SearchBox\n          minLength={3}\n          onChange={this.handleQueryChange}\n          onKeyDown={this.handleKeyDown}\n          placeholder={translate(\n            isPortfolio ? 'code.search_placeholder.portfolio' : 'code.search_placeholder'\n          )}\n          value={this.state.query}\n        />\n        {loading && <i className=\"spinner spacer-left\" />}\n\n        {results != null && (\n          <div className=\"boxed-group boxed-group-inner spacer-top\">\n            <Components\n              branchLike={this.props.branchLike}\n              components={results}\n              rootComponent={component}\n              selected={selected}\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { Breadcrumb, Component } from './types';\n\nlet bucket: { [key: string]: Component } = {};\nlet childrenBucket: {\n  [key: string]: {\n    children: Component[];\n    page: number;\n    total: number;\n  };\n} = {};\nlet breadcrumbsBucket: { [key: string]: Breadcrumb[] } = {};\n\nexport function addComponent(component: Component): void {\n  bucket[component.key] = component;\n}\n\nexport function getComponent(componentKey: string): Component {\n  return bucket[componentKey];\n}\n\nexport function addComponentChildren(\n  componentKey: string,\n  children: Component[],\n  total: number,\n  page: number\n): void {\n  const previous = getComponentChildren(componentKey);\n  if (previous) {\n    children = [...previous.children, ...children];\n  }\n  childrenBucket[componentKey] = { children, total, page };\n}\n\nexport function getComponentChildren(\n  componentKey: string\n): {\n  children: Component[];\n  page: number;\n  total: number;\n} {\n  return childrenBucket[componentKey];\n}\n\nexport function addComponentBreadcrumbs(componentKey: string, breadcrumbs: Breadcrumb[]): void {\n  breadcrumbsBucket[componentKey] = breadcrumbs;\n}\n\nexport function getComponentBreadcrumbs(componentKey: string): Breadcrumb[] {\n  return breadcrumbsBucket[componentKey];\n}\n\nexport function clearBucket(): void {\n  bucket = {};\n  childrenBucket = {};\n  breadcrumbsBucket = {};\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { without } from 'lodash';\nimport {\n  addComponent,\n  getComponent as getComponentFromBucket,\n  addComponentChildren,\n  getComponentChildren,\n  addComponentBreadcrumbs,\n  getComponentBreadcrumbs\n} from './bucket';\nimport { Breadcrumb, Component } from './types';\nimport { getChildren, getComponent, getBreadcrumbs } from '../../api/components';\nimport { BranchLike } from '../../app/types';\nimport { getBranchLikeQuery } from '../../helpers/branches';\n\nconst METRICS = [\n  'ncloc',\n  'code_smells',\n  'bugs',\n  'vulnerabilities',\n  'coverage',\n  'duplicated_lines_density',\n  'alert_status'\n];\n\nconst PORTFOLIO_METRICS = [\n  'releasability_rating',\n  'alert_status',\n  'reliability_rating',\n  'security_rating',\n  'sqale_rating',\n  'ncloc'\n];\n\nconst PAGE_SIZE = 100;\n\nfunction requestChildren(\n  componentKey: string,\n  metrics: string[],\n  page: number,\n  branchLike?: BranchLike\n): Promise<Component[]> {\n  return getChildren(componentKey, metrics, {\n    p: page,\n    ps: PAGE_SIZE,\n    ...getBranchLikeQuery(branchLike)\n  }).then(r => {\n    if (r.paging.total > r.paging.pageSize * r.paging.pageIndex) {\n      return requestChildren(componentKey, metrics, page + 1, branchLike).then(moreComponents => {\n        return [...r.components, ...moreComponents];\n      });\n    }\n    return r.components;\n  });\n}\n\nfunction requestAllChildren(\n  componentKey: string,\n  metrics: string[],\n  branchLike?: BranchLike\n): Promise<Component[]> {\n  return requestChildren(componentKey, metrics, 1, branchLike);\n}\n\ninterface Children {\n  components: Component[];\n  page: number;\n  total: number;\n}\n\ninterface ExpandRootDirFunc {\n  (children: Children): Promise<Children>;\n}\n\nfunction expandRootDir(metrics: string[], branchLike?: BranchLike): ExpandRootDirFunc {\n  return function({ components, total, ...other }) {\n    const rootDir = components.find(\n      (component: Component) => component.qualifier === 'DIR' && component.name === '/'\n    );\n    if (rootDir) {\n      return requestAllChildren(rootDir.key, metrics, branchLike).then(rootDirComponents => {\n        const nextComponents = without([...rootDirComponents, ...components], rootDir);\n        const nextTotal = total + rootDirComponents.length - /* root dir */ 1;\n        return { components: nextComponents, total: nextTotal, ...other };\n      });\n    } else {\n      return Promise.resolve({ components, total, ...other });\n    }\n  };\n}\n\nfunction prepareChildren(r: any): Children {\n  return {\n    components: r.components,\n    total: r.paging.total,\n    page: r.paging.pageIndex\n  };\n}\n\nfunction skipRootDir(breadcrumbs: Component[]) {\n  return breadcrumbs.filter(component => {\n    return !(component.qualifier === 'DIR' && component.name === '/');\n  });\n}\n\nfunction storeChildrenBase(children: Component[]) {\n  children.forEach(addComponent);\n}\n\nfunction storeChildrenBreadcrumbs(parentComponentKey: string, children: Breadcrumb[]) {\n  const parentBreadcrumbs = getComponentBreadcrumbs(parentComponentKey);\n  if (parentBreadcrumbs) {\n    children.forEach(child => {\n      const breadcrumbs = [...parentBreadcrumbs, child];\n      addComponentBreadcrumbs(child.key, breadcrumbs);\n    });\n  }\n}\n\nfunction getMetrics(isPortfolio: boolean) {\n  return isPortfolio ? PORTFOLIO_METRICS : METRICS;\n}\n\nfunction retrieveComponentBase(\n  componentKey: string,\n  isPortfolio: boolean,\n  branchLike?: BranchLike\n) {\n  const existing = getComponentFromBucket(componentKey);\n  if (existing) {\n    return Promise.resolve(existing);\n  }\n\n  const metrics = getMetrics(isPortfolio);\n\n  return getComponent({\n    componentKey,\n    metricKeys: metrics.join(),\n    ...getBranchLikeQuery(branchLike)\n  }).then(component => {\n    addComponent(component);\n    return component;\n  });\n}\n\nexport function retrieveComponentChildren(\n  componentKey: string,\n  isPortfolio: boolean,\n  branchLike?: BranchLike\n): Promise<{ components: Component[]; page: number; total: number }> {\n  const existing = getComponentChildren(componentKey);\n  if (existing) {\n    return Promise.resolve({\n      components: existing.children,\n      total: existing.total,\n      page: existing.page\n    });\n  }\n\n  const metrics = getMetrics(isPortfolio);\n\n  return getChildren(componentKey, metrics, {\n    ps: PAGE_SIZE,\n    s: 'qualifier,name',\n    ...getBranchLikeQuery(branchLike)\n  })\n    .then(prepareChildren)\n    .then(expandRootDir(metrics, branchLike))\n    .then(r => {\n      addComponentChildren(componentKey, r.components, r.total, r.page);\n      storeChildrenBase(r.components);\n      storeChildrenBreadcrumbs(componentKey, r.components);\n      return r;\n    });\n}\n\nfunction retrieveComponentBreadcrumbs(\n  component: string,\n  branchLike?: BranchLike\n): Promise<Breadcrumb[]> {\n  const existing = getComponentBreadcrumbs(component);\n  if (existing) {\n    return Promise.resolve(existing);\n  }\n\n  return getBreadcrumbs({ component, ...getBranchLikeQuery(branchLike) })\n    .then(skipRootDir)\n    .then(breadcrumbs => {\n      addComponentBreadcrumbs(component, breadcrumbs);\n      return breadcrumbs;\n    });\n}\n\nexport function retrieveComponent(\n  componentKey: string,\n  isPortfolio: boolean,\n  branchLike?: BranchLike\n): Promise<{\n  breadcrumbs: Component[];\n  component: Component;\n  components: Component[];\n  page: number;\n  total: number;\n}> {\n  return Promise.all([\n    retrieveComponentBase(componentKey, isPortfolio, branchLike),\n    retrieveComponentChildren(componentKey, isPortfolio, branchLike),\n    retrieveComponentBreadcrumbs(componentKey, branchLike)\n  ]).then(r => {\n    return {\n      component: r[0],\n      components: r[1].components,\n      total: r[1].total,\n      page: r[1].page,\n      breadcrumbs: r[2]\n    };\n  });\n}\n\nexport function loadMoreChildren(\n  componentKey: string,\n  page: number,\n  isPortfolio: boolean,\n  branchLike?: BranchLike\n): Promise<Children> {\n  const metrics = getMetrics(isPortfolio);\n\n  return getChildren(componentKey, metrics, {\n    ps: PAGE_SIZE,\n    p: page,\n    ...getBranchLikeQuery(branchLike)\n  })\n    .then(prepareChildren)\n    .then(expandRootDir(metrics, branchLike))\n    .then(r => {\n      addComponentChildren(componentKey, r.components, r.total, r.page);\n      storeChildrenBase(r.components);\n      storeChildrenBreadcrumbs(componentKey, r.components);\n      return r;\n    });\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as classNames from 'classnames';\nimport * as React from 'react';\nimport Helmet from 'react-helmet';\nimport Components from './Components';\nimport Breadcrumbs from './Breadcrumbs';\nimport Search from './Search';\nimport { addComponent, addComponentBreadcrumbs, clearBucket } from '../bucket';\nimport { Component as CodeComponent } from '../types';\nimport { retrieveComponentChildren, retrieveComponent, loadMoreChildren } from '../utils';\nimport { Component, BranchLike } from '../../../app/types';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport SourceViewer from '../../../components/SourceViewer/SourceViewer';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport { isSameBranchLike } from '../../../helpers/branches';\nimport { translate } from '../../../helpers/l10n';\nimport { parseError } from '../../../helpers/request';\nimport '../code.css';\n\ninterface Props {\n  branchLike?: BranchLike;\n  component: Component;\n  location: { query: { [x: string]: string } };\n}\n\ninterface State {\n  baseComponent?: CodeComponent;\n  breadcrumbs: Array<CodeComponent>;\n  components?: Array<CodeComponent>;\n  error?: string;\n  loading: boolean;\n  page: number;\n  searchResults?: Array<CodeComponent>;\n  sourceViewer?: CodeComponent;\n  total: number;\n}\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = {\n    loading: true,\n    breadcrumbs: [],\n    total: 0,\n    page: 0\n  };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.handleComponentChange();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (\n      prevProps.component !== this.props.component ||\n      !isSameBranchLike(prevProps.branchLike, this.props.branchLike)\n    ) {\n      this.handleComponentChange();\n    } else if (prevProps.location !== this.props.location) {\n      this.handleUpdate();\n    }\n  }\n\n  componentWillUnmount() {\n    clearBucket();\n    this.mounted = false;\n  }\n\n  handleComponentChange() {\n    const { branchLike, component } = this.props;\n\n    // we already know component's breadcrumbs,\n    addComponentBreadcrumbs(component.key, component.breadcrumbs);\n\n    this.setState({ loading: true });\n    const isPortfolio = ['VW', 'SVW'].includes(component.qualifier);\n    retrieveComponentChildren(component.key, isPortfolio, branchLike)\n      .then(() => {\n        addComponent(component);\n        if (this.mounted) {\n          this.handleUpdate();\n        }\n      })\n      .catch(e => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n          parseError(e).then(this.handleError);\n        }\n      });\n  }\n\n  loadComponent(componentKey: string) {\n    this.setState({ loading: true });\n\n    const isPortfolio = ['VW', 'SVW'].includes(this.props.component.qualifier);\n    retrieveComponent(componentKey, isPortfolio, this.props.branchLike)\n      .then(r => {\n        if (this.mounted) {\n          if (['FIL', 'UTS'].includes(r.component.qualifier)) {\n            this.setState({\n              loading: false,\n              sourceViewer: r.component,\n              breadcrumbs: r.breadcrumbs,\n              searchResults: undefined\n            });\n          } else {\n            this.setState({\n              loading: false,\n              baseComponent: r.component,\n              components: r.components,\n              breadcrumbs: r.breadcrumbs,\n              total: r.total,\n              page: r.page,\n              sourceViewer: undefined,\n              searchResults: undefined\n            });\n          }\n        }\n      })\n      .catch(e => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n          parseError(e).then(this.handleError);\n        }\n      });\n  }\n\n  handleUpdate() {\n    const { component, location } = this.props;\n    const { selected } = location.query;\n    const finalKey = selected || component.key;\n\n    this.loadComponent(finalKey);\n  }\n\n  handleLoadMore = () => {\n    const { baseComponent, components, page } = this.state;\n    if (!baseComponent || !components) {\n      return;\n    }\n    const isPortfolio = ['VW', 'SVW'].includes(this.props.component.qualifier);\n    loadMoreChildren(baseComponent.key, page + 1, isPortfolio, this.props.branchLike)\n      .then(r => {\n        if (this.mounted) {\n          this.setState({\n            components: [...components, ...r.components],\n            page: r.page,\n            total: r.total\n          });\n        }\n      })\n      .catch(e => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n          parseError(e).then(this.handleError);\n        }\n      });\n  };\n\n  handleError = (error: string) => {\n    if (this.mounted) {\n      this.setState({ error });\n    }\n  };\n\n  render() {\n    const { branchLike, component, location } = this.props;\n    const {\n      loading,\n      error,\n      baseComponent,\n      components,\n      breadcrumbs,\n      total,\n      sourceViewer\n    } = this.state;\n    const shouldShowBreadcrumbs = breadcrumbs.length > 1;\n\n    const componentsClassName = classNames('boxed-group', 'boxed-group-inner', 'spacer-top', {\n      'new-loading': loading\n    });\n\n    return (\n      <div className=\"page page-limited\">\n        <Suggestions suggestions=\"code\" />\n        <Helmet title={sourceViewer !== undefined ? sourceViewer.name : translate('code.page')} />\n\n        {error && <div className=\"alert alert-danger\">{error}</div>}\n\n        <Search\n          branchLike={branchLike}\n          component={component}\n          location={location}\n          onError={this.handleError}\n        />\n\n        <div className=\"code-components\">\n          {shouldShowBreadcrumbs && (\n            <Breadcrumbs\n              branchLike={branchLike}\n              breadcrumbs={breadcrumbs}\n              rootComponent={component}\n            />\n          )}\n\n          {sourceViewer === undefined &&\n            components !== undefined && (\n              <div className={componentsClassName}>\n                <Components\n                  baseComponent={baseComponent}\n                  branchLike={branchLike}\n                  components={components}\n                  rootComponent={component}\n                />\n              </div>\n            )}\n\n          {sourceViewer === undefined &&\n            components !== undefined && (\n              <ListFooter count={components.length} total={total} loadMore={this.handleLoadMore} />\n            )}\n\n          {sourceViewer !== undefined && (\n            <div className=\"spacer-top\">\n              <SourceViewer branchLike={branchLike} component={sourceViewer.key} />\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { SuggestionsContext } from './SuggestionsContext';\n\ninterface Props {\n  suggestions: string;\n}\n\nexport default class Suggestions extends React.PureComponent<Props> {\n  context!: { suggestions: SuggestionsContext };\n\n  static contextTypes = {\n    suggestions: PropTypes.object.isRequired\n  };\n\n  componentDidMount() {\n    this.context.suggestions.addSuggestions(this.props.suggestions);\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.suggestions !== this.props.suggestions) {\n      this.context.suggestions.removeSuggestions(this.props.suggestions);\n      this.context.suggestions.addSuggestions(prevProps.suggestions);\n    }\n  }\n\n  componentWillUnmount() {\n    this.context.suggestions.removeSuggestions(this.props.suggestions);\n  }\n\n  render() {\n    return null;\n  }\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n"],"sourceRoot":""}