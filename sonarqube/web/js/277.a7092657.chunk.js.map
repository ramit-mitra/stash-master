{"version":3,"sources":["webpack:///./src/main/js/components/controls/DayPicker.css","webpack:///./src/main/js/components/controls/DayPicker.css?dbfd","webpack:///./node_modules/date-fns/sub_months/index.js","webpack:///./node_modules/date-fns/set_year/index.js","webpack:///./node_modules/date-fns/set_month/index.js","webpack:///./node_modules/lodash/_baseRange.js","webpack:///./node_modules/lodash/_createRange.js","webpack:///./node_modules/lodash/range.js","webpack:///./src/main/js/apps/quality-profiles/components/BuiltInQualityProfileBadge.tsx","webpack:///./src/main/js/components/facet/FacetFooter.tsx","webpack:///./src/main/js/components/controls/SearchSelect.tsx","webpack:///./src/main/js/components/common/FiltersHeader.tsx","webpack:///./src/main/js/components/shared/TypeHelper.tsx","webpack:///./src/main/js/components/common/PageCounter.tsx","webpack:///./node_modules/lodash/_baseFilter.js","webpack:///./node_modules/lodash/filter.js","webpack:///./src/main/js/apps/coding-rules/components/BulkChangeModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/BulkChange.tsx","webpack:///./src/main/js/apps/coding-rules/components/Facet.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationSeverityFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/AvailableSinceFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/DefaultSeverityFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/InheritanceFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/LanguageFacetFooter.tsx","webpack:///./src/main/js/apps/coding-rules/components/LanguageFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/ProfileFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/RepositoryFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/StatusFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TagFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TemplateFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/TypeFacet.tsx","webpack:///./src/main/js/apps/coding-rules/components/FacetsList.tsx","webpack:///./src/main/js/apps/coding-rules/components/PageActions.tsx","webpack:///./src/main/js/helpers/latinize.ts","webpack:///./src/main/js/apps/coding-rules/components/CustomRuleFormModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/CustomRuleButton.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsCustomRules.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsIssues.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsParameters.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationFormModal.tsx","webpack:///./src/main/js/apps/coding-rules/components/ActivationButton.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleInheritanceIcon.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetailsProfiles.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleDetails.tsx","webpack:///./src/main/js/apps/coding-rules/components/RuleListItem.tsx","webpack:///./src/main/js/apps/coding-rules/components/App.tsx","webpack:///./src/main/js/api/quality-profiles.ts","webpack:///./node_modules/lodash/map.js","webpack:///./src/main/js/components/controls/ModalButton.tsx","webpack:///./src/main/js/components/controls/ConfirmModal.tsx","webpack:///./node_modules/lodash/difference.js","webpack:///./src/main/js/components/icons-components/ChevronRightcon.tsx","webpack:///./src/main/js/helpers/csv.ts","webpack:///./node_modules/lodash/orderBy.js","webpack:///./src/main/js/components/controls/ConfirmButton.tsx","webpack:///./node_modules/date-fns/get_days_in_month/index.js","webpack:///./node_modules/date-fns/add_months/index.js","webpack:///./src/main/js/components/controls/styles.css","webpack:///./src/main/js/components/controls/styles.css?e95d","webpack:///./src/main/js/components/icons-components/CalendarIcon.tsx","webpack:///./src/main/js/components/icons-components/ChevronLeftIcon.tsx","webpack:///./src/main/js/components/controls/DateInput.tsx"],"names":["module","exports","__webpack_require__","push","i","content","options","hmr","transform","insertInto","undefined","locals","addMonths","dirtyDate","dirtyAmount","amount","Number","parse","dirtyYear","date","year","setFullYear","getDaysInMonth","dirtyMonth","month","getFullYear","day","getDate","dateWithDesiredMonth","Date","setHours","daysInMonth","setMonth","Math","min","nativeCeil","ceil","nativeMax","max","start","end","step","fromRight","index","length","result","Array","baseRange","isIterateeCall","toFinite","range","createRange","BuiltInQualityProfileBadge","_a","className","_b","tooltip","badge","react__WEBPACK_IMPORTED_MODULE_0__","classnames__WEBPACK_IMPORTED_MODULE_1__","Object","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","_components_docs_DocTooltip__WEBPACK_IMPORTED_MODULE_2__","doc","FacetFooter","props","_controls_SearchSelect__WEBPACK_IMPORTED_MODULE_1__","__assign","autofocus","SearchSelect","_super","_this","call","this","mounted","handleSearch","query","currentQuery","onSearch","then","setState","state","loading","handleChange","option","isArray","onMultiSelect","onSelect","handleInputChange","minimumQueryLength","defaultOptions","handleFilterOption","lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default","__extends","prototype","componentDidMount","componentWillUnmount","defineProperty","resetOnBlur","render","Component","canCreate","_components_controls_Select__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_1__","autoFocus","clearable","escapeClearsValue","filterOption","isLoading","multi","noResultsText","onBlurResetsInput","onChange","onInputChange","optionRenderer","renderOption","placeholder","promptTextCreator","searchable","value","valueRenderer","FiltersHeader","displayReset","onReset","_ui_buttons__WEBPACK_IMPORTED_MODULE_1__","id","onClick","_helpers_l10n__WEBPACK_IMPORTED_MODULE_2__","TypeHelper","_ui_IssueTypeIcon__WEBPACK_IMPORTED_MODULE_1__","type","PageCounter","current","label","total","_helpers_measures__WEBPACK_IMPORTED_MODULE_2__","baseEach","collection","predicate","arrayFilter","baseFilter","baseIteratee","BulkChangeModal","handleProfileSelect","selectedProfiles","map","getAvailableQualityProfiles","referencedProfiles","profiles","values","languages","filter","profile","includes","language","actions","edit","isBuiltIn","processResponse","response","result_1","failed","succeeded","results","concat","sendRequests","looper","Promise","resolve","data","coding_rules_query","method","action","quality_profiles","organization","targetKey","_i","profiles_1","key","handleFormSubmit","event","preventDefault","submitting","finished","renderResult","profileKey","index_js_exposed","classnames","alert-warning","alert-success","l10n","name","renderProfileSelect","languageName","Select","availableProfiles","header","measures","Modal","contentLabel","onRequestClose","onClose","onSubmit","htmlFor","buttons","disabled","BulkChange","apply","arguments","modal","getSelectedProfile","closeModal","handleActivateClick","currentTarget","blur","handleActivateInProfileClick","handleDeactivateClick","handleDeactivateInProfileClick","BulkChange_extends","some","Boolean","activation","canChangeProfile","allowActivateOnProfile","allowDeactivateOnProfile","Dropdown","overlay","href","components_BulkChangeModal","Facet","handleItemClick","itemValue","multiple","newValue","singleSelection","orderBy_default","without_default","property","handleHeaderClick","onToggle","handleClear","getStat","stats","renderItem","active","stat","renderName","defaultRenderName","FacetItem","halfWidth","Facet_extends","renderTextName","items","sortBy_default","keys","toLowerCase","FacetBox","search-navigator-facet-box-forbidden","FacetHeader","Tooltip","disabledHelper","onClear","open","children","FacetItemsList","renderFooter","ActivationSeverityFacet","severity","SeverityHelper","ActivationSeverityFacet_extends","components_Facet","ActivationSeverityFacet_assign","constants","AvailableSinceFacet","availableSince","handlePeriodChange","getValues","context","intl","formatDate","DateFormatter","AvailableSinceFacet_extends","DateInput","contextTypes","index_es","DefaultSeverityFacet","DefaultSeverityFacet_extends","DefaultSeverityFacet_assign","InheritanceFacet","InheritanceFacet_extends","__rest","InheritanceFacet_assign","types","LanguageFacetFooter","LanguageFacetFooter_extends","difference_default","referencedLanguages","selected","LanguageFacet_LanguageFacet","LanguageFacet","getLanguageName","handleSelect","uniq_default","components_LanguageFacetFooter","LanguageFacet_extends","facetProps","LanguageFacet_rest","LanguageFacet_assign","components_LanguageFacet","es","rootReducer","ProfileFacet","compareToProfile","activationSeverities","inheritance","handleActiveClick","stopPropagation","handleInactiveClick","getTextValue","renderActivation","isCompare","aria-checked","facet-toggle-active","role","tabIndex","ProfileFacet_extends","DocTooltip","RepositoryFacet_RepositoryFacet","RepositoryFacet","languageKey","repositoryKey","repository","referencedRepositories","RepositoryFacet_extends","RepositoryFacet_rest","RepositoryFacet_assign","components_RepositoryFacet","StatusFacet","status","StatusFacet_extends","StatusFacet_assign","TagFacet","api_rules","ps","q","tags","tag","TagsIcon","fill","theme","TagFacet_extends","TagFacet_rest","TagFacet_assign","TemplateFacet","changes","template","TemplateFacet_assign","TemplateFacet_extends","TemplateFacet_rest","String","TypeFacet","IssueTypeIcon","TypeFacet_extends","TypeFacet_assign","FacetsList","inheritanceDisabled","selectedProfile","isInherited","activationSeverityDisabled","onFilterChange","onFacetToggle","openFacets","facets","components_TypeFacet","components_TagFacet","repositories","components_DefaultSeverityFacet","severities","components_StatusFacet","statuses","components_AvailableSinceFacet","organizationsEnabled","components_TemplateFacet","components_ProfileFacet","components_InheritanceFacet","components_ActivationSeverityFacet","PageActions","Shortcuts","DeferredSpinner","ReloadButton","onReload","paging","selectedIndex","defaultDiacriticsRemovalap","base","letters","diacriticsMap","split","j","CustomRuleFormModal","prepareRequest","customRule","templateRule","params","csv","join","ruleData","markdown_description","description","CustomRuleFormModal_assign","custom_key","prevent_reactivation","reactivating","template_key","newRuleDetails","onDone","handleNameChange","str","change","keyModifiedByUser","replace","a","handleKeyChange","handleDescriptionChange","handleTypeChange","handleSeverityChange","handleStatusChange","handleParameterChange","renderNameField","required","renderKeyField","title","renderDescriptionField","rows","MarkdownTips","renderTypeOption","renderTypeField","renderSeverityOption","renderSeverityField","renderStatusField","renderParameterField","param","defaultValue","dangerouslySetInnerHTML","__html","htmlDesc","extra","renderSubmitButton","mdDesc","CustomRuleFormModal_extends","_c","CustomRuleButton","handleClick","handleModalClose","handleDone","CustomRuleButton_extends","components_CustomRuleFormModal","RuleDetailsCustomRules","fetchRules","f","ruleDetails","rules","handleRuleCreate","handleRuleDelete","ruleKey","rule","renderRule","data-rule","react_router_es","to","urls","canChange","ConfirmButton","confirmButtonText","confirmData","isDestructive","modalBody","modalHeader","onConfirm","RuleDetailsCustomRules_extends","componentDidUpdate","prevProps","components_CustomRuleButton","RuleDetailsIssues","fetchIssues","issues","resolved","facet","components","projects","item","project","find","component","uuid","val","count","facet_1","renderTotal","path","totalItem","branchesEnabled","renderProject","projectUuids","RuleDetailsIssues_extends","colSpan","prop_types","RuleDetailsParameters","renderParameter","RuleDetailsParameters_extends","ActivationFormModal","getParams","_d","_e","getQualityProfilesWithDepth","utils","lang","ActivationFormModal_assign","depth","handleProfileChange","profilesWithDepth","ActivationFormModal_extends","isCustomRule","templateKey","activeInAllProfiles","isUpdateMode","repeat","ActivationButton","handleButtonClick","handleCloseModal","ActivationButton_extends","buttonText","components_ActivationFormModal","updateMode","RuleInheritanceIcon","other","RuleInheritanceIcon_rest","Overridden","RuleInheritanceIcon_assign","height","version","viewBox","width","xmlSpace","xmlnsXlink","d","style","fillRule","RuleDetailsProfiles","fetchProfiles","handleActivate","onActivate","handleDeactivate","onDeactivate","handleRevert","reset","renderInheritedProfile","parentName","profilePath","inherit","Inherited","renderSeverity","parentActivation","originalParam","p","originalValue","renderParameters","renderActions","canEdit","hasParent","NotInherited","parentKey","isTemplate","components_ActivationButton","activations","qProfile","x","data-profile","RuleDetailsProfiles_extends","canActivate","InstanceMessage","message","filter_default","RuleDetails","fetchRuleDetails","actives","handleRuleChange","handleTagsChange","oldTags","RuleDetails_assign","catch","handleDelete","onDelete","RuleDetails_extends","allowCustomRules","canWrite","isCustom","isEditable","RuleDetailsMeta","onTagsChange","RuleDetailsDescription","components_RuleDetailsParameters","components_RuleDetailsCustomRules","components_RuleDetailsProfiles","components_RuleDetailsIssues","RuleListItem","data_1","SeverityIcon","renderDeactivateButton","RuleListItem_extends","allTags","sysTags","langName","SimilarRulesFilter","PAGE_SIZE","LIMIT_BEFORE_LOAD_MORE","App_App","App","attachShortcuts","keymaster","selectPreviousRule","selectNextRule","openSelectedRule","closeRule","detachShortcuts","getOpenRule","location","getFacetsToFetch","getFieldsToFetch","fields","getSearchParameters","App_assign","s","stopLoading","fetchInitialData","all","keyBy_default","fetchFirstRules","makeFetchRequest","rawActives","rawFacets","entries","activations_1","parseActives","rawFacets_1","rawFacet","rawValue","parseFacets","pageIndex","pageSize","openRule","fetchMoreRules","nextPage","fetchFacet","getSelectedIndex","findIndex","getRulePath","pathname","router","scrollToSelectedRule","smooth","element","document","querySelector","scrolling","topOffset","bottomOffset","getRuleActivation","closeFacet","handleBack","handleFilterChange","handleFacetToggle","handleReload","handleReset","pickRuleAround","handleRuleActivate","handleRuleDeactivate","searchQuery","isFiltered","App_extends","body","classList","add","documentElement","footer","getElementById","componentWillReceiveProps","nextProps","prevState","remove","Suggestions","suggestions","Helmet","ScreenPositionHelper","top","SearchBox","minLength","components_BulkChange","components_RuleDetails","components_RuleListItem","ListFooter","loadMore","ready","isRequired","searchQualityProfiles","parameters","_helpers_request__WEBPACK_IMPORTED_MODULE_2__","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_3__","getQualityProfile","createQualityProfile","setMethod","setData","submit","restoreQualityProfile","getProfileProjects","getProfileInheritance","setDefaultProfile","renameProfile","copyProfile","fromKey","toName","deleteProfile","changeProfileParent","getImporters","r","importers","getExporters","exporters","getProfileChangelog","compareProfiles","leftKey","rightKey","associateProject","projectKey","dissociateProject","searchUsers","searchGroups","addUser","removeUser","addGroup","removeGroup","bulkActivateRules","bulkDeactivateRules","activateRule","lodash_map__WEBPACK_IMPORTED_MODULE_0___default","_helpers_csv__WEBPACK_IMPORTED_MODULE_1__","deactivateRule","arrayMap","baseMap","iteratee","ModalButton","onFormSubmit","ConfirmModal","handleSubmit","renderModalContent","onCloseClick","confirmDisable","_common_DeferredSpinner__WEBPACK_IMPORTED_MODULE_2__","_ui_buttons__WEBPACK_IMPORTED_MODULE_4__","_SimpleModal__WEBPACK_IMPORTED_MODULE_1__","baseDifference","baseFlatten","baseRest","isArrayLikeObject","difference","array","ChevronRightIcon","size","_Icon__WEBPACK_IMPORTED_MODULE_1__","csvEscape","baseOrderBy","iteratees","orders","guard","renderConfirmModal","_ConfirmModal__WEBPACK_IMPORTED_MODULE_2__","_ModalButton__WEBPACK_IMPORTED_MODULE_1__","monthIndex","getMonth","lastDayOfMonth","desiredMonth","CalendarIcon","Icon","ChevronLeftIcon","DateInput_DayPicker","lazyLoad","e","__esModule","assign","default","DateInput_DateInput","focus","input","openCalendar","handleResetClick","closeCalendar","currentMonth","lastHovered","handleDayClick","modifiers","handleDayMouseEnter","handleCurrentMonthChange","set_month","handleCurrentYearChange","set_year","handlePreviousMonthClick","sub_months","handleNextMonthClick","add_months","highlightFrom","highlightTo","minDate","formattedValue","after","maxDate","months","range_default","years","selectedDays","lastHoveredOrValue","highlighted","from","weekdaysLong","weekdaysShort","OutsideClickHandler","onClickOutside","inputClassName","is-filled","onFocus","readOnly","ref","node","color","ClearIcon","ChevronRightcon","captionElement","NullComponent","disabledDays","before","firstDayOfWeek","navbarElement","onDayClick","onDayMouseEnter"],"mappings":"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","file":"js/277.a7092657.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".DayPicker{display:inline-block}.DayPicker-wrapper{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding-bottom:8px;flex-direction:row}.DayPicker-Months{display:flex;flex-wrap:wrap;justify-content:center}.DayPicker-Month{display:table;border-collapse:collapse;border-spacing:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin:0 8px;margin-top:8px}.DayPicker-Weekdays{display:table-header-group}.DayPicker-WeekdaysRow{display:table-row}.DayPicker-Weekday{display:table-cell;padding:8px;font-size:12px;text-align:center;color:#999}.DayPicker-Weekday abbr[title]{border-bottom:none;text-decoration:none}.DayPicker-Body{display:table-row-group}.DayPicker-Week{display:table-row}.DayPicker-Day{display:table-cell;line-height:15px;padding:8px;text-align:center;cursor:pointer;vertical-align:top;outline:none}.DayPicker--interactionDisabled .DayPicker-Day{cursor:default}.DayPicker-Footer{padding-top:8px}.DayPicker-Day--today{font-weight:700}.DayPicker-Day--outside{cursor:default;color:#8b9898}.DayPicker-Day--disabled{color:#cdcdcd;cursor:not-allowed}.DayPicker-Day--sunday{background-color:#f7f8f8}.DayPicker-Day--sunday:not(.DayPicker-Day--today){color:#dce0e0}.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside){background-color:#4b9fd5;color:#fff}.DayPicker:not(.DayPicker--interactionDisabled) .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--highlighted):not(.DayPicker-Day--outside):hover{background-color:#f3f3f3}.DayPicker-Day--highlighted:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside){background-color:#cae3f2}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./DayPicker.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./DayPicker.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./DayPicker.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","var addMonths = require('../add_months/index.js')\n\n/**\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be subtracted\n * @returns {Date} the new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * var result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nfunction subMonths (dirtyDate, dirtyAmount) {\n  var amount = Number(dirtyAmount)\n  return addMonths(dirtyDate, -amount)\n}\n\nmodule.exports = subMonths\n","var parse = require('../parse/index.js')\n\n/**\n * @category Year Helpers\n * @summary Set the year to the given date.\n *\n * @description\n * Set the year to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} year - the year of the new date\n * @returns {Date} the new date with the year setted\n *\n * @example\n * // Set year 2013 to 1 September 2014:\n * var result = setYear(new Date(2014, 8, 1), 2013)\n * //=> Sun Sep 01 2013 00:00:00\n */\nfunction setYear (dirtyDate, dirtyYear) {\n  var date = parse(dirtyDate)\n  var year = Number(dirtyYear)\n  date.setFullYear(year)\n  return date\n}\n\nmodule.exports = setYear\n","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Set the month to the given date.\n *\n * @description\n * Set the month to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} month - the month of the new date\n * @returns {Date} the new date with the month setted\n *\n * @example\n * // Set February to 1 September 2014:\n * var result = setMonth(new Date(2014, 8, 1), 1)\n * //=> Sat Feb 01 2014 00:00:00\n */\nfunction setMonth (dirtyDate, dirtyMonth) {\n  var date = parse(dirtyDate)\n  var month = Number(dirtyMonth)\n  var year = date.getFullYear()\n  var day = date.getDate()\n\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(year, month, 15)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(month, Math.min(day, daysInMonth))\n  return date\n}\n\nmodule.exports = setMonth\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  tooltip?: boolean;\n}\n\nexport default function BuiltInQualityProfileBadge({ className, tooltip = true }: Props) {\n  const badge = (\n    <div className={classNames('outline-badge', className)}>\n      {translate('quality_profiles.built_in')}\n    </div>\n  );\n\n  if (tooltip) {\n    return <DocTooltip doc=\"quality-profiles/built-in-quality-profile\">{badge}</DocTooltip>;\n  }\n  return badge;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SearchSelect from '../controls/SearchSelect';\n\ntype Option = { label: string; value: string };\n\ninterface Props {\n  minimumQueryLength?: number;\n  onSearch: (query: string) => Promise<Option[]>;\n  onSelect: (option: Option) => void;\n  renderOption?: (option: Object) => JSX.Element;\n}\n\nexport default function FacetFooter(props: Props) {\n  return (\n    <div className=\"search-navigator-facet-footer\">\n      <SearchSelect autofocus={false} {...props} />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { debounce } from 'lodash';\nimport Select, { Creatable } from '../../components/controls/Select';\nimport { translate, translateWithParameters } from '../../helpers/l10n';\n\ninterface Props<T> {\n  autofocus?: boolean;\n  canCreate?: boolean;\n  clearable?: boolean;\n  defaultOptions?: T[];\n  minimumQueryLength?: number;\n  multi?: boolean;\n  onSearch: (query: string) => Promise<T[]>;\n  onSelect?: (option: T) => void;\n  onMultiSelect?: (options: T[]) => void;\n  promptTextCreator?: (label: string) => string;\n  renderOption?: (option: T) => JSX.Element;\n  resetOnBlur?: boolean;\n  value?: T | T[];\n}\n\ninterface State<T> {\n  loading: boolean;\n  options: T[];\n  query: string;\n}\n\nexport default class SearchSelect<T extends { value: string }> extends React.PureComponent<\n  Props<T>,\n  State<T>\n> {\n  mounted = false;\n\n  constructor(props: Props<T>) {\n    super(props);\n    this.state = { loading: false, options: props.defaultOptions || [], query: '' };\n    this.handleSearch = debounce(this.handleSearch, 250);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  get autofocus() {\n    return this.props.autofocus !== undefined ? this.props.autofocus : true;\n  }\n\n  get minimumQueryLength() {\n    return this.props.minimumQueryLength !== undefined ? this.props.minimumQueryLength : 2;\n  }\n\n  get resetOnBlur() {\n    return this.props.resetOnBlur !== undefined ? this.props.resetOnBlur : true;\n  }\n\n  handleSearch = (query: string) => {\n    // Ignore the result if the query changed\n    const currentQuery = query;\n    this.props.onSearch(currentQuery).then(\n      options => {\n        if (this.mounted) {\n          this.setState(state => ({\n            loading: false,\n            options: state.query === currentQuery ? options : state.options\n          }));\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleChange = (option: T | T[]) => {\n    if (Array.isArray(option)) {\n      if (this.props.onMultiSelect) {\n        this.props.onMultiSelect(option);\n      }\n    } else if (this.props.onSelect) {\n      this.props.onSelect(option);\n    }\n  };\n\n  handleInputChange = (query: string) => {\n    if (query.length >= this.minimumQueryLength) {\n      this.setState({ loading: true, query });\n      this.handleSearch(query);\n    } else {\n      // `onInputChange` is called with an empty string after a user selects a value\n      // in this case we shouldn't reset `options`, because it also resets select value :(\n      const options = (query.length === 0 && this.props.defaultOptions) || [];\n      this.setState({ options, query });\n    }\n  };\n\n  // disable internal filtering\n  handleFilterOption = () => true;\n\n  render() {\n    const Component = this.props.canCreate ? Creatable : Select;\n    return (\n      <Component\n        autoFocus={this.autofocus}\n        className=\"input-super-large\"\n        clearable={this.props.clearable}\n        escapeClearsValue={false}\n        filterOption={this.handleFilterOption}\n        isLoading={this.state.loading}\n        multi={this.props.multi}\n        noResultsText={\n          this.state.query.length < this.minimumQueryLength\n            ? translateWithParameters('select2.tooShort', this.minimumQueryLength)\n            : translate('select2.noMatches')\n        }\n        onBlurResetsInput={this.resetOnBlur}\n        onChange={this.handleChange}\n        onInputChange={this.handleInputChange}\n        optionRenderer={this.props.renderOption}\n        options={this.state.options}\n        placeholder={translate('search_verb')}\n        promptTextCreator={this.props.promptTextCreator}\n        searchable={true}\n        value={this.props.value}\n        valueRenderer={this.props.renderOption}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Button } from '../ui/buttons';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  displayReset: boolean;\n  onReset: () => void;\n}\n\nexport default function FiltersHeader({ displayReset, onReset }: Props) {\n  return (\n    <div className=\"search-navigator-filters-header\">\n      {displayReset && (\n        <div className=\"pull-right\">\n          <Button className=\"button-red\" id=\"coding-rules-clear-all-filters\" onClick={onReset}>\n            {translate('clear_all_filters')}\n          </Button>\n        </div>\n      )}\n\n      <h3>{translate('filters')}</h3>\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport IssueTypeIcon from '../ui/IssueTypeIcon';\nimport { translate } from '../../helpers/l10n';\n\ninterface Props {\n  className?: string;\n  type: string;\n}\n\nexport default function TypeHelper(props: Props) {\n  return (\n    <span className={props.className}>\n      <IssueTypeIcon className=\"little-spacer-right\" query={props.type} />\n      {translate('issue.type', props.type)}\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { formatMeasure } from '../../helpers/measures';\n\ninterface Props {\n  className?: string;\n  current?: number;\n  label: string;\n  total: number;\n}\n\nexport default function PageCounter({ className, current, label, total }: Props) {\n  return (\n    <div className={classNames('display-inline-block', className)}>\n      <strong className=\"little-spacer-right\">\n        {current !== undefined && formatMeasure(current + 1, 'INT') + ' / '}\n        <span className=\"js-page-counter-total\">{formatMeasure(total, 'INT')}</span>\n      </strong>\n      {label}\n    </div>\n  );\n}\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Query, serializeQuery } from '../query';\nimport { Profile, bulkActivateRules, bulkDeactivateRules } from '../../../api/quality-profiles';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\n\ninterface Props {\n  action: string;\n  onClose: () => void;\n  organization: string | undefined;\n  referencedProfiles: { [profile: string]: Profile };\n  profile?: Profile;\n  query: Query;\n  total: number;\n}\n\ninterface ActivationResult {\n  failed: number;\n  profile: string;\n  succeeded: number;\n}\n\ninterface State {\n  finished: boolean;\n  results: ActivationResult[];\n  selectedProfiles: any[];\n  submitting: boolean;\n}\n\nexport default class BulkChangeModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n\n    // if there is only one possible option for profile, select it immediately\n    const selectedProfiles = [];\n    const availableProfiles = this.getAvailableQualityProfiles(props);\n    if (availableProfiles.length === 1) {\n      selectedProfiles.push(availableProfiles[0].key);\n    }\n\n    this.state = { finished: false, results: [], selectedProfiles, submitting: false };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleProfileSelect = (options: { value: string }[]) => {\n    const selectedProfiles = options.map(option => option.value);\n    this.setState({ selectedProfiles });\n  };\n\n  getAvailableQualityProfiles = ({ query, referencedProfiles } = this.props) => {\n    let profiles = Object.values(referencedProfiles);\n    if (query.languages.length > 0) {\n      profiles = profiles.filter(profile => query.languages.includes(profile.language));\n    }\n    return profiles\n      .filter(profile => profile.actions && profile.actions.edit)\n      .filter(profile => !profile.isBuiltIn);\n  };\n\n  processResponse = (profile: string, response: any) => {\n    if (this.mounted) {\n      const result: ActivationResult = {\n        failed: response.failed || 0,\n        profile,\n        succeeded: response.succeeded || 0\n      };\n      this.setState(state => ({ results: [...state.results, result] }));\n    }\n  };\n\n  sendRequests = () => {\n    let looper = Promise.resolve();\n\n    // serialize the query, but delete the `profile`\n    const data = serializeQuery(this.props.query);\n    delete data.profile;\n\n    const method = this.props.action === 'activate' ? bulkActivateRules : bulkDeactivateRules;\n\n    // if a profile is selected in the facet, pick it\n    // otherwise take all profiles selected in the dropdown\n    const profiles: string[] = this.props.profile\n      ? [this.props.profile.key]\n      : this.state.selectedProfiles;\n\n    for (const profile of profiles) {\n      looper = looper.then(() =>\n        method({ ...data, organization: this.props.organization, targetKey: profile }).then(\n          response => this.processResponse(profile, response)\n        )\n      );\n    }\n    return looper;\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    this.sendRequests().then(\n      () => {\n        if (this.mounted) {\n          this.setState({ finished: true, submitting: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n        }\n      }\n    );\n  };\n\n  renderResult = (result: ActivationResult) => {\n    const { profile: profileKey } = result;\n    const profile = this.props.referencedProfiles[profileKey];\n    if (!profile) {\n      return null;\n    }\n    return (\n      <div\n        className={classNames('alert', {\n          'alert-warning': result.failed > 0,\n          'alert-success': result.failed === 0\n        })}\n        key={result.profile}>\n        {result.failed\n          ? translateWithParameters(\n              'coding_rules.bulk_change.warning',\n              profile.name,\n              profile.language,\n              result.succeeded,\n              result.failed\n            )\n          : translateWithParameters(\n              'coding_rules.bulk_change.success',\n              profile.name,\n              profile.language,\n              result.succeeded\n            )}\n      </div>\n    );\n  };\n\n  renderProfileSelect = () => {\n    const profiles = this.getAvailableQualityProfiles();\n    const options = profiles.map(profile => ({\n      label: `${profile.name} - ${profile.languageName}`,\n      value: profile.key\n    }));\n    return (\n      <Select\n        multi={true}\n        onChange={this.handleProfileSelect}\n        options={options}\n        value={this.state.selectedProfiles}\n      />\n    );\n  };\n\n  render() {\n    const { action, profile, total } = this.props;\n    const header =\n      // prettier-ignore\n      action === 'activate'\n        ? `${translate('coding_rules.activate_in_quality_profile')} (${formatMeasure(total, 'INT')} ${translate('coding_rules._rules')})`\n        : `${translate('coding_rules.deactivate_in_quality_profile')} (${formatMeasure(total, 'INT')} ${translate('coding_rules._rules')})`;\n\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <header className=\"modal-head\">\n            <h2>{header}</h2>\n          </header>\n\n          <div className=\"modal-body\">\n            {this.state.results.map(this.renderResult)}\n\n            {!this.state.finished &&\n              !this.state.submitting && (\n                <div className=\"modal-field\">\n                  <h3>\n                    <label htmlFor=\"coding-rules-bulk-change-profile\">\n                      {action === 'activate'\n                        ? translate('coding_rules.activate_in')\n                        : translate('coding_rules.deactivate_in')}\n                    </label>\n                  </h3>\n                  {profile ? (\n                    <h3 className=\"readonly-field\">\n                      {profile.name}\n                      {'  '}\n                      {translate('are_you_sure')}\n                    </h3>\n                  ) : (\n                    this.renderProfileSelect()\n                  )}\n                </div>\n              )}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {this.state.submitting && <i className=\"spinner spacer-right\" />}\n            {!this.state.finished && (\n              <SubmitButton disabled={this.state.submitting} id=\"coding-rules-submit-bulk-change\">\n                {translate('apply')}\n              </SubmitButton>\n            )}\n            <ResetButtonLink onClick={this.props.onClose}>\n              {this.state.finished ? translate('close') : translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport BulkChangeModal from './BulkChangeModal';\nimport { Query } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport Dropdown from '../../../components/controls/Dropdown';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  organization: string | undefined;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  total: number;\n}\n\ninterface State {\n  action?: string;\n  modal: boolean;\n  profile?: Profile;\n}\n\nexport default class BulkChange extends React.PureComponent<Props, State> {\n  state: State = { modal: false };\n\n  getSelectedProfile = () => {\n    const { profile } = this.props.query;\n    return (profile && this.props.referencedProfiles[profile]) || undefined;\n  };\n\n  closeModal = () => this.setState({ action: undefined, modal: false, profile: undefined });\n\n  handleActivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'activate', modal: true, profile: undefined });\n  };\n\n  handleActivateInProfileClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'activate', modal: true, profile: this.getSelectedProfile() });\n  };\n\n  handleDeactivateClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'deactivate', modal: true, profile: undefined });\n  };\n\n  handleDeactivateInProfileClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.setState({ action: 'deactivate', modal: true, profile: this.getSelectedProfile() });\n  };\n\n  render() {\n    // show \"Bulk Change\" button only if user has at least one QP which he administrates\n    const canBulkChange = Object.values(this.props.referencedProfiles).some(profile =>\n      Boolean(profile.actions && profile.actions.edit)\n    );\n    if (!canBulkChange) {\n      return null;\n    }\n\n    const { activation } = this.props.query;\n    const profile = this.getSelectedProfile();\n    const canChangeProfile = Boolean(\n      profile && !profile.isBuiltIn && profile.actions && profile.actions.edit\n    );\n    const allowActivateOnProfile = canChangeProfile && activation === false;\n    const allowDeactivateOnProfile = canChangeProfile && activation === true;\n\n    return (\n      <>\n        <Dropdown\n          className=\"pull-left\"\n          overlay={\n            <ul className=\"menu\">\n              <li>\n                <a href=\"#\" onClick={this.handleActivateClick}>\n                  {translate('coding_rules.activate_in')}\n                </a>\n              </li>\n              {allowActivateOnProfile &&\n                profile && (\n                  <li>\n                    <a href=\"#\" onClick={this.handleActivateInProfileClick}>\n                      {translate('coding_rules.activate_in')} <strong>{profile.name}</strong>\n                    </a>\n                  </li>\n                )}\n              <li>\n                <a href=\"#\" onClick={this.handleDeactivateClick}>\n                  {translate('coding_rules.deactivate_in')}\n                </a>\n              </li>\n              {allowDeactivateOnProfile &&\n                profile && (\n                  <li>\n                    <a href=\"#\" onClick={this.handleDeactivateInProfileClick}>\n                      {translate('coding_rules.deactivate_in')} <strong>{profile.name}</strong>\n                    </a>\n                  </li>\n                )}\n            </ul>\n          }>\n          <Button className=\"js-bulk-change\">{translate('bulk_change')}</Button>\n        </Dropdown>\n        {this.state.modal &&\n          this.state.action && (\n            <BulkChangeModal\n              action={this.state.action}\n              onClose={this.closeModal}\n              organization={this.props.organization}\n              profile={this.state.profile}\n              query={this.props.query}\n              referencedProfiles={this.props.referencedProfiles}\n              total={this.props.total}\n            />\n          )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { orderBy, without, sortBy } from 'lodash';\nimport * as classNames from 'classnames';\nimport { FacetKey } from '../query';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\nimport { formatMeasure } from '../../../helpers/measures';\n\nexport interface BasicProps {\n  onChange: (changes: { [x: string]: string | string[] | undefined }) => void;\n  onToggle: (facet: FacetKey) => void;\n  open: boolean;\n  stats?: { [x: string]: number };\n  values: string[];\n}\n\ninterface Props extends BasicProps {\n  children?: React.ReactNode;\n  disabled?: boolean;\n  disabledHelper?: string;\n  halfWidth?: boolean;\n  options?: string[];\n  property: FacetKey;\n  renderFooter?: () => React.ReactNode;\n  renderName?: (value: string) => React.ReactNode;\n  renderTextName?: (value: string) => string;\n  singleSelection?: boolean;\n}\n\nexport default class Facet extends React.PureComponent<Props> {\n  handleItemClick = (itemValue: string, multiple: boolean) => {\n    const { values } = this.props;\n    let newValue;\n    if (this.props.singleSelection) {\n      const value = values.length ? values[0] : undefined;\n      newValue = itemValue === value ? undefined : itemValue;\n    } else if (multiple) {\n      newValue = orderBy(\n        values.includes(itemValue) ? without(values, itemValue) : [...values, itemValue]\n      );\n    } else {\n      newValue = values.includes(itemValue) && values.length < 2 ? [] : [itemValue];\n    }\n    this.props.onChange({ [this.props.property]: newValue });\n  };\n\n  handleHeaderClick = () => this.props.onToggle(this.props.property);\n\n  handleClear = () => this.props.onChange({ [this.props.property]: [] });\n\n  getStat = (value: string) => this.props.stats && this.props.stats[value];\n\n  renderItem = (value: string) => {\n    const active = this.props.values.includes(value);\n    const stat = this.getStat(value);\n    const { renderName = defaultRenderName } = this.props;\n\n    return (\n      <FacetItem\n        active={active}\n        disabled={stat === 0 && !active}\n        halfWidth={this.props.halfWidth}\n        key={value}\n        name={renderName(value)}\n        onClick={this.handleItemClick}\n        stat={stat && formatMeasure(stat, 'SHORT_INT')}\n        tooltip={this.props.values.length === 1 && !active}\n        value={value}\n      />\n    );\n  };\n\n  render() {\n    const { renderTextName = defaultRenderName, stats } = this.props;\n    const values = this.props.values.map(renderTextName);\n    const items =\n      this.props.options ||\n      (stats &&\n        sortBy(Object.keys(stats), key => -stats[key], key => renderTextName(key).toLowerCase()));\n\n    return (\n      <FacetBox\n        className={classNames({ 'search-navigator-facet-box-forbidden': this.props.disabled })}\n        property={this.props.property}>\n        <FacetHeader\n          name={\n            <Tooltip overlay={this.props.disabled ? this.props.disabledHelper : undefined}>\n              <span>{translate('coding_rules.facet', this.props.property)}</span>\n            </Tooltip>\n          }\n          onClear={this.handleClear}\n          onClick={this.props.disabled ? undefined : this.handleHeaderClick}\n          open={this.props.open && !this.props.disabled}\n          values={values}>\n          {this.props.children}\n        </FacetHeader>\n\n        {this.props.open &&\n          items !== undefined && <FacetItemsList>{items.map(this.renderItem)}</FacetItemsList>}\n\n        {this.props.open && this.props.renderFooter !== undefined && this.props.renderFooter()}\n      </FacetBox>\n    );\n  }\n}\n\nfunction defaultRenderName(value: string) {\n  return value;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends BasicProps {\n  disabled: boolean;\n}\n\nexport default class ActivationSeverityFacet extends React.PureComponent<Props> {\n  renderName = (severity: string) => <SeverityHelper severity={severity} />;\n\n  renderTextName = (severity: string) => translate('severity', severity);\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.active_severity.inactive')}\n        halfWidth={true}\n        options={SEVERITIES}\n        property=\"activationSeverities\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { intlShape } from 'react-intl';\nimport { Query } from '../query';\nimport DateInput from '../../../components/controls/DateInput';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport { longFormatterOption } from '../../../components/intl/DateFormatter';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (property: keyof Query) => void;\n  open: boolean;\n  value?: Date;\n}\n\nexport default class AvailableSinceFacet extends React.PureComponent<Props> {\n  static contextTypes = {\n    intl: intlShape\n  };\n\n  handleHeaderClick = () => this.props.onToggle('availableSince');\n\n  handleClear = () => this.props.onChange({ availableSince: undefined });\n\n  handlePeriodChange = (date: Date | undefined) => {\n    this.props.onChange({ availableSince: date });\n  };\n\n  getValues = () =>\n    this.props.value\n      ? [this.context.intl.formatDate(this.props.value, longFormatterOption)]\n      : undefined;\n\n  render() {\n    return (\n      <FacetBox property=\"availableSince\">\n        <FacetHeader\n          name={translate('coding_rules.facet.available_since')}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getValues()}\n        />\n\n        {this.props.open && (\n          <DateInput\n            name=\"available-since\"\n            onChange={this.handlePeriodChange}\n            placeholder={translate('date')}\n            value={this.props.value}\n          />\n        )}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class DefaultSeverityFacet extends React.PureComponent<BasicProps> {\n  renderName = (severity: string) => <SeverityHelper severity={severity} />;\n\n  renderTextName = (severity: string) => translate('severity', severity);\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        halfWidth={true}\n        options={SEVERITIES}\n        property=\"severities\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport { RuleInheritance, Omit } from '../../../app/types';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends Omit<BasicProps, 'values'> {\n  disabled: boolean;\n  value: RuleInheritance | undefined;\n}\n\nexport default class InheritanceFacet extends React.PureComponent<Props> {\n  renderName = (value: RuleInheritance) =>\n    translate('coding_rules.filters.inheritance', value.toLowerCase());\n\n  render() {\n    const { value, ...props } = this.props;\n\n    return (\n      <Facet\n        {...props}\n        disabled={this.props.disabled}\n        disabledHelper={translate('coding_rules.filters.inheritance.inactive')}\n        options={Object.values(RuleInheritance)}\n        property=\"inheritance\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n        singleSelection={true}\n        values={value ? [value] : []}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { difference } from 'lodash';\nimport Select from '../../../components/controls/Select';\nimport { translate } from '../../../helpers/l10n';\n\ntype Option = { label: string; value: string };\n\ninterface Props {\n  referencedLanguages: { [language: string]: { key: string; name: string } };\n  onSelect: (value: string) => void;\n  selected: string[];\n}\n\nexport default class LanguageFacetFooter extends React.PureComponent<Props> {\n  handleChange = (option: Option) => this.props.onSelect(option.value);\n\n  render() {\n    const options = difference(\n      Object.keys(this.props.referencedLanguages),\n      this.props.selected\n    ).map(key => ({\n      label: this.props.referencedLanguages[key].name,\n      value: key\n    }));\n\n    if (options.length === 0) {\n      return null;\n    }\n\n    return (\n      <div className=\"search-navigator-facet-footer\">\n        <Select\n          className=\"input-super-large\"\n          clearable={false}\n          noResultsText={translate('select2.noMatches')}\n          onChange={this.handleChange}\n          options={options}\n          placeholder={translate('search.search_for_languages')}\n          searchable={true}\n        />\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport { uniq } from 'lodash';\nimport Facet, { BasicProps } from './Facet';\nimport LanguageFacetFooter from './LanguageFacetFooter';\nimport { getLanguages } from '../../../store/rootReducer';\n\ninterface StateProps {\n  referencedLanguages: { [language: string]: { key: string; name: string } };\n}\n\ninterface Props extends BasicProps, StateProps {}\n\nclass LanguageFacet extends React.PureComponent<Props> {\n  getLanguageName = (language: string) => {\n    const { referencedLanguages } = this.props;\n    return referencedLanguages[language] ? referencedLanguages[language].name : language;\n  };\n\n  handleSelect = (language: string) => {\n    const { values } = this.props;\n    this.props.onChange({ languages: uniq([...values, language]) });\n  };\n\n  renderFooter = () => {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return (\n      <LanguageFacetFooter\n        onSelect={this.handleSelect}\n        referencedLanguages={this.props.referencedLanguages}\n        selected={Object.keys(this.props.stats)}\n      />\n    );\n  };\n\n  render() {\n    const { referencedLanguages, ...facetProps } = this.props;\n    return (\n      <Facet\n        {...facetProps}\n        property=\"languages\"\n        renderFooter={this.renderFooter}\n        renderName={this.getLanguageName}\n        renderTextName={this.getLanguageName}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: any): StateProps => ({\n  referencedLanguages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(LanguageFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { sortBy } from 'lodash';\nimport * as classNames from 'classnames';\nimport { Query, FacetKey } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport FacetBox from '../../../components/facet/FacetBox';\nimport FacetHeader from '../../../components/facet/FacetHeader';\nimport FacetItem from '../../../components/facet/FacetItem';\nimport FacetItemsList from '../../../components/facet/FacetItemsList';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  activation: boolean | undefined;\n  compareToProfile: string | undefined;\n  languages: string[];\n  onChange: (changes: Partial<Query>) => void;\n  onToggle: (facet: FacetKey) => void;\n  open: boolean;\n  referencedProfiles: { [profile: string]: Profile };\n  value: string | undefined;\n}\n\nexport default class ProfileFacet extends React.PureComponent<Props> {\n  handleItemClick = (selected: string) => {\n    const newValue = this.props.value === selected ? '' : selected;\n    this.props.onChange({\n      activation: this.props.activation === undefined ? true : this.props.activation,\n      compareToProfile: undefined,\n      profile: newValue\n    });\n  };\n\n  handleHeaderClick = () => this.props.onToggle('profile');\n\n  handleClear = () =>\n    this.props.onChange({\n      activation: undefined,\n      activationSeverities: [],\n      compareToProfile: undefined,\n      inheritance: undefined,\n      profile: undefined\n    });\n\n  handleActiveClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    this.stopPropagation(event);\n    this.props.onChange({ activation: true, compareToProfile: undefined });\n  };\n\n  handleInactiveClick = (event: React.SyntheticEvent<HTMLElement>) => {\n    this.stopPropagation(event);\n    this.props.onChange({ activation: false, compareToProfile: undefined });\n  };\n\n  stopPropagation = (event: React.SyntheticEvent<HTMLElement>) => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.currentTarget.blur();\n  };\n\n  getTextValue = () => {\n    const { referencedProfiles, value } = this.props;\n    if (value) {\n      const profile = referencedProfiles[value];\n      const name = (profile && `${profile.name} ${profile.languageName}`) || value;\n      return [name];\n    } else {\n      return [];\n    }\n  };\n\n  renderName = (profile: Profile) => (\n    <>\n      {profile.name}\n      <span className=\"note little-spacer-left\">\n        {profile.languageName}\n        {profile.isBuiltIn && ` (${translate('quality_profiles.built_in')})`}\n      </span>\n    </>\n  );\n\n  renderActivation = (profile: Profile) => {\n    const isCompare = profile.key === this.props.compareToProfile;\n    const activation = isCompare ? true : this.props.activation;\n    return (\n      <>\n        <span\n          aria-checked={activation}\n          className={classNames('js-active', 'facet-toggle', 'facet-toggle-green', {\n            'facet-toggle-active': activation\n          })}\n          onClick={isCompare ? this.stopPropagation : this.handleActiveClick}\n          role=\"radio\"\n          tabIndex={-1}>\n          active\n        </span>\n        <span\n          aria-checked={!activation}\n          className={classNames('js-inactive', 'facet-toggle', 'facet-toggle-red', {\n            'facet-toggle-active': !activation\n          })}\n          onClick={isCompare ? this.stopPropagation : this.handleInactiveClick}\n          role=\"radio\"\n          tabIndex={-1}>\n          inactive\n        </span>\n      </>\n    );\n  };\n\n  renderItem = (profile: Profile) => {\n    const active = [this.props.value, this.props.compareToProfile].includes(profile.key);\n\n    return (\n      <FacetItem\n        active={active}\n        className={this.props.compareToProfile === profile.key ? 'compare' : undefined}\n        key={profile.key}\n        name={this.renderName(profile)}\n        onClick={this.handleItemClick}\n        stat={this.renderActivation(profile)}\n        value={profile.key}\n      />\n    );\n  };\n\n  render() {\n    const { languages, referencedProfiles } = this.props;\n    let profiles = Object.values(referencedProfiles);\n    if (languages.length > 0) {\n      profiles = profiles.filter(profile => languages.includes(profile.language));\n    }\n    profiles = sortBy(\n      profiles,\n      profile => profile.name.toLowerCase(),\n      profile => profile.languageName\n    );\n\n    return (\n      <FacetBox property=\"profile\">\n        <FacetHeader\n          name={translate('coding_rules.facet.qprofile')}\n          onClear={this.handleClear}\n          onClick={this.handleHeaderClick}\n          open={this.props.open}\n          values={this.getTextValue()}>\n          <DocTooltip className=\"spacer-left\" doc=\"rules/rules-quality-profiles\" />\n        </FacetHeader>\n\n        {this.props.open && <FacetItemsList>{profiles.map(this.renderItem)}</FacetItemsList>}\n      </FacetBox>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { connect } from 'react-redux';\nimport Facet, { BasicProps } from './Facet';\nimport { getLanguages } from '../../../store/rootReducer';\n\ninterface StateProps {\n  referencedLanguages: { [language: string]: { key: string; name: string } };\n}\n\ninterface Props extends BasicProps, StateProps {\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n}\n\nclass RepositoryFacet extends React.PureComponent<Props> {\n  getLanguageName = (languageKey: string) => {\n    const { referencedLanguages } = this.props;\n    const language = referencedLanguages[languageKey];\n    return (language && language.name) || languageKey;\n  };\n\n  renderName = (repositoryKey: string) => {\n    const { referencedRepositories } = this.props;\n    const repository = referencedRepositories[repositoryKey];\n    return repository ? (\n      <>\n        {repository.name}\n        <span className=\"note little-spacer-left\">{this.getLanguageName(repository.language)}</span>\n      </>\n    ) : (\n      repositoryKey\n    );\n  };\n\n  renderTextName = (repositoryKey: string) => {\n    const { referencedRepositories } = this.props;\n    const repository = referencedRepositories[repositoryKey];\n    return (repository && repository.name) || repositoryKey;\n  };\n\n  render() {\n    const { referencedLanguages, referencedRepositories, ...facetProps } = this.props;\n    return (\n      <Facet\n        {...facetProps}\n        property=\"repositories\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state: any): StateProps => ({\n  referencedLanguages: getLanguages(state)\n});\n\nexport default connect(mapStateToProps)(RepositoryFacet);\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport { RULE_STATUSES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class StatusFacet extends React.PureComponent<BasicProps> {\n  renderName = (status: string) => translate('rules.status', status.toLowerCase());\n\n  render() {\n    return (\n      <Facet\n        {...this.props}\n        options={RULE_STATUSES}\n        property=\"statuses\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { uniq } from 'lodash';\nimport Facet, { BasicProps } from './Facet';\nimport { getRuleTags } from '../../../api/rules';\nimport * as theme from '../../../app/theme';\nimport FacetFooter from '../../../components/facet/FacetFooter';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\n\ninterface Props extends BasicProps {\n  organization: string | undefined;\n}\n\nexport default class TagFacet extends React.PureComponent<Props> {\n  handleSearch = (query: string) => {\n    return getRuleTags({ organization: this.props.organization, ps: 50, q: query }).then(tags =>\n      tags.map(tag => ({ label: tag, value: tag }))\n    );\n  };\n\n  handleSelect = (option: { value: string }) => {\n    this.props.onChange({ tags: uniq([...this.props.values, option.value]) });\n  };\n\n  renderName = (tag: string) => (\n    <>\n      <TagsIcon className=\"little-spacer-right\" fill={theme.gray60} />\n      {tag}\n    </>\n  );\n\n  renderFooter = () => {\n    if (!this.props.stats) {\n      return null;\n    }\n\n    return <FacetFooter onSearch={this.handleSearch} onSelect={this.handleSelect} />;\n  };\n\n  render() {\n    const { organization, ...facetProps } = this.props;\n    return (\n      <Facet\n        {...facetProps}\n        property=\"tags\"\n        renderFooter={this.renderFooter}\n        renderName={this.renderName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport { Omit } from '../../../app/types';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props extends Omit<BasicProps, 'onChange' | 'values'> {\n  onChange: (changes: { template: boolean | undefined }) => void;\n  value: boolean | undefined;\n}\n\nexport default class TemplateFacet extends React.PureComponent<Props> {\n  handleChange = (changes: { template: string | any[] }) => {\n    const template =\n      // empty array is returned when a user cleared the facet\n      // otherwise `\"true\"`, `\"false\"` or `undefined` can be returned\n      Array.isArray(changes.template) || changes.template === undefined\n        ? undefined\n        : changes.template === 'true';\n    this.props.onChange({ ...changes, template });\n  };\n\n  renderName = (template: string) =>\n    template === 'true'\n      ? translate('coding_rules.filters.template.is_template')\n      : translate('coding_rules.filters.template.is_not_template');\n\n  render() {\n    const { onChange, value, ...props } = this.props;\n\n    return (\n      <Facet\n        {...props}\n        onChange={this.handleChange}\n        options={['true', 'false']}\n        property=\"template\"\n        renderName={this.renderName}\n        renderTextName={this.renderName}\n        singleSelection={true}\n        values={value !== undefined ? [String(value)] : []}>\n        <DocTooltip className=\"spacer-left\" doc=\"rules/rule-templates\" />\n      </Facet>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Facet, { BasicProps } from './Facet';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate } from '../../../helpers/l10n';\n\nexport default class TypeFacet extends React.PureComponent<BasicProps> {\n  renderName = (type: string) => (\n    <>\n      <IssueTypeIcon className=\"little-spacer-right\" query={type} />\n      {translate('issue.type', type)}\n    </>\n  );\n\n  renderTextName = (type: string) => translate('issue.type', type);\n\n  render() {\n    const options = ['BUG', 'VULNERABILITY', 'CODE_SMELL'];\n\n    return (\n      <Facet\n        {...this.props}\n        options={options}\n        property=\"types\"\n        renderName={this.renderName}\n        renderTextName={this.renderTextName}\n      />\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActivationSeverityFacet from './ActivationSeverityFacet';\nimport AvailableSinceFacet from './AvailableSinceFacet';\nimport DefaultSeverityFacet from './DefaultSeverityFacet';\nimport InheritanceFacet from './InheritanceFacet';\nimport LanguageFacet from './LanguageFacet';\nimport ProfileFacet from './ProfileFacet';\nimport RepositoryFacet from './RepositoryFacet';\nimport StatusFacet from './StatusFacet';\nimport TagFacet from './TagFacet';\nimport TemplateFacet from './TemplateFacet';\nimport TypeFacet from './TypeFacet';\nimport { Facets, Query, FacetKey, OpenFacets } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\n\ninterface Props {\n  facets?: Facets;\n  onFacetToggle: (facet: FacetKey) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  openFacets: OpenFacets;\n  organization: string | undefined;\n  organizationsEnabled?: boolean;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  selectedProfile?: Profile;\n}\n\nexport default function FacetsList(props: Props) {\n  const inheritanceDisabled =\n    props.query.compareToProfile !== undefined ||\n    props.selectedProfile === undefined ||\n    !props.selectedProfile.isInherited;\n\n  const activationSeverityDisabled =\n    props.query.compareToProfile !== undefined ||\n    props.selectedProfile === undefined ||\n    !props.query.activation;\n\n  return (\n    <div className=\"search-navigator-facets-list\">\n      <LanguageFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.languages}\n        stats={props.facets && props.facets.languages}\n        values={props.query.languages}\n      />\n      <TypeFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.types}\n        stats={props.facets && props.facets.types}\n        values={props.query.types}\n      />\n      <TagFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        organization={props.organization}\n        open={!!props.openFacets.tags}\n        stats={props.facets && props.facets.tags}\n        values={props.query.tags}\n      />\n      <RepositoryFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.repositories}\n        stats={props.facets && props.facets.repositories}\n        referencedRepositories={props.referencedRepositories}\n        values={props.query.repositories}\n      />\n      <DefaultSeverityFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.severities}\n        stats={props.facets && props.facets.severities}\n        values={props.query.severities}\n      />\n      <StatusFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.statuses}\n        stats={props.facets && props.facets.statuses}\n        values={props.query.statuses}\n      />\n      <AvailableSinceFacet\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.availableSince}\n        value={props.query.availableSince}\n      />\n      {!props.organizationsEnabled && (\n        <TemplateFacet\n          onChange={props.onFilterChange}\n          onToggle={props.onFacetToggle}\n          open={!!props.openFacets.template}\n          value={props.query.template}\n        />\n      )}\n      <ProfileFacet\n        activation={props.query.activation}\n        compareToProfile={props.query.compareToProfile}\n        languages={props.query.languages}\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.profile}\n        referencedProfiles={props.referencedProfiles}\n        value={props.query.profile}\n      />\n      <InheritanceFacet\n        disabled={inheritanceDisabled}\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.inheritance}\n        value={props.query.inheritance}\n      />\n      <ActivationSeverityFacet\n        disabled={activationSeverityDisabled}\n        onChange={props.onFilterChange}\n        onToggle={props.onFacetToggle}\n        open={!!props.openFacets.activationSeverities}\n        stats={props.facets && props.facets.activationSeverities}\n        values={props.query.activationSeverities}\n      />\n    </div>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Paging } from '../../../app/types';\nimport { translate } from '../../../helpers/l10n';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport PageCounter from '../../../components/common/PageCounter';\nimport ReloadButton from '../../../components/controls/ReloadButton';\n\ninterface Props {\n  loading: boolean;\n  onReload: () => void;\n  paging?: Paging;\n  selectedIndex?: number;\n}\n\nexport default function PageActions(props: Props) {\n  return (\n    <div className=\"pull-right\">\n      <Shortcuts />\n\n      <DeferredSpinner loading={props.loading}>\n        <ReloadButton onClick={props.onReload} />\n      </DeferredSpinner>\n\n      {props.paging && (\n        <PageCounter\n          className=\"spacer-left flash flash-heavy\"\n          current={props.selectedIndex}\n          label={translate('coding_rules._rules')}\n          total={props.paging.total}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction Shortcuts() {\n  return (\n    <span className=\"note big-spacer-right\">\n      <span className=\"big-spacer-right\">\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        {translate('coding_rules.to_select_rules')}\n      </span>\n\n      <span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        <span className=\"shortcut-button little-spacer-right\"></span>\n        {translate('issues.to_navigate')}\n      </span>\n    </span>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n/*\n * Latinize string by removing all diacritics\n * From http://stackoverflow.com/questions/990904/javascript-remove-accents-in-strings\n */\nconst defaultDiacriticsRemovalap = [\n  {\n    base: 'A',\n    letters:\n      '\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F'\n  },\n  {\n    base: 'AA',\n    letters: '\\uA732'\n  },\n  {\n    base: 'AE',\n    letters: '\\u00C6\\u01FC\\u01E2'\n  },\n  {\n    base: 'AO',\n    letters: '\\uA734'\n  },\n  {\n    base: 'AU',\n    letters: '\\uA736'\n  },\n  {\n    base: 'AV',\n    letters: '\\uA738\\uA73A'\n  },\n  {\n    base: 'AY',\n    letters: '\\uA73C'\n  },\n  {\n    base: 'B',\n    letters: '\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181'\n  },\n  {\n    base: 'C',\n    letters: '\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E'\n  },\n  {\n    base: 'D',\n    letters: '\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779'\n  },\n  {\n    base: 'DZ',\n    letters: '\\u01F1\\u01C4'\n  },\n  {\n    base: 'Dz',\n    letters: '\\u01F2\\u01C5'\n  },\n  {\n    base: 'E',\n    letters:\n      '\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E'\n  },\n  {\n    base: 'F',\n    letters: '\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B'\n  },\n  {\n    base: 'G',\n    letters:\n      '\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E'\n  },\n  {\n    base: 'H',\n    letters: '\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D'\n  },\n  {\n    base: 'I',\n    letters:\n      '\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197'\n  },\n  {\n    base: 'J',\n    letters: '\\u004A\\u24BF\\uFF2A\\u0134\\u0248'\n  },\n  {\n    base: 'K',\n    letters: '\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2'\n  },\n  {\n    base: 'L',\n    letters:\n      '\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780'\n  },\n  {\n    base: 'LJ',\n    letters: '\\u01C7'\n  },\n  {\n    base: 'Lj',\n    letters: '\\u01C8'\n  },\n  {\n    base: 'M',\n    letters: '\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C'\n  },\n  {\n    base: 'N',\n    letters:\n      '\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4'\n  },\n  {\n    base: 'NJ',\n    letters: '\\u01CA'\n  },\n  {\n    base: 'Nj',\n    letters: '\\u01CB'\n  },\n  {\n    base: 'O',\n    letters:\n      '\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C'\n  },\n  {\n    base: 'OI',\n    letters: '\\u01A2'\n  },\n  {\n    base: 'OO',\n    letters: '\\uA74E'\n  },\n  {\n    base: 'OU',\n    letters: '\\u0222'\n  },\n  {\n    base: 'OE',\n    letters: '\\u008C\\u0152'\n  },\n  {\n    base: 'oe',\n    letters: '\\u009C\\u0153'\n  },\n  {\n    base: 'P',\n    letters: '\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754'\n  },\n  {\n    base: 'Q',\n    letters: '\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A'\n  },\n  {\n    base: 'R',\n    letters:\n      '\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782'\n  },\n  {\n    base: 'S',\n    letters:\n      '\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784'\n  },\n  {\n    base: 'T',\n    letters:\n      '\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786'\n  },\n  {\n    base: 'TZ',\n    letters: '\\uA728'\n  },\n  {\n    base: 'U',\n    letters:\n      '\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244'\n  },\n  {\n    base: 'V',\n    letters: '\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245'\n  },\n  {\n    base: 'VY',\n    letters: '\\uA760'\n  },\n  {\n    base: 'W',\n    letters: '\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72'\n  },\n  {\n    base: 'X',\n    letters: '\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C'\n  },\n  {\n    base: 'Y',\n    letters:\n      '\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE'\n  },\n  {\n    base: 'Z',\n    letters: '\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762'\n  },\n  {\n    base: 'a',\n    letters:\n      '\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250'\n  },\n  {\n    base: 'aa',\n    letters: '\\uA733'\n  },\n  {\n    base: 'ae',\n    letters: '\\u00E6\\u01FD\\u01E3'\n  },\n  {\n    base: 'ao',\n    letters: '\\uA735'\n  },\n  {\n    base: 'au',\n    letters: '\\uA737'\n  },\n  {\n    base: 'av',\n    letters: '\\uA739\\uA73B'\n  },\n  {\n    base: 'ay',\n    letters: '\\uA73D'\n  },\n  {\n    base: 'b',\n    letters: '\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253'\n  },\n  {\n    base: 'c',\n    letters: '\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184'\n  },\n  {\n    base: 'd',\n    letters: '\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A'\n  },\n  {\n    base: 'dz',\n    letters: '\\u01F3\\u01C6'\n  },\n  {\n    base: 'e',\n    letters:\n      '\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD'\n  },\n  {\n    base: 'f',\n    letters: '\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C'\n  },\n  {\n    base: 'g',\n    letters:\n      '\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F'\n  },\n  {\n    base: 'h',\n    letters:\n      '\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265'\n  },\n  {\n    base: 'hv',\n    letters: '\\u0195'\n  },\n  {\n    base: 'i',\n    letters:\n      '\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131'\n  },\n  {\n    base: 'j',\n    letters: '\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249'\n  },\n  {\n    base: 'k',\n    letters: '\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3'\n  },\n  {\n    base: 'l',\n    letters:\n      '\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747'\n  },\n  {\n    base: 'lj',\n    letters: '\\u01C9'\n  },\n  {\n    base: 'm',\n    letters: '\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F'\n  },\n  {\n    base: 'n',\n    letters:\n      '\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5'\n  },\n  {\n    base: 'nj',\n    letters: '\\u01CC'\n  },\n  {\n    base: 'o',\n    letters:\n      '\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275'\n  },\n  {\n    base: 'oi',\n    letters: '\\u01A3'\n  },\n  {\n    base: 'ou',\n    letters: '\\u0223'\n  },\n  {\n    base: 'oo',\n    letters: '\\uA74F'\n  },\n  {\n    base: 'p',\n    letters: '\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755'\n  },\n  {\n    base: 'q',\n    letters: '\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759'\n  },\n  {\n    base: 'r',\n    letters:\n      '\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783'\n  },\n  {\n    base: 's',\n    letters:\n      '\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B'\n  },\n  {\n    base: 't',\n    letters:\n      '\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787'\n  },\n  {\n    base: 'tz',\n    letters: '\\uA729'\n  },\n  {\n    base: 'u',\n    letters:\n      '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289'\n  },\n  {\n    base: 'v',\n    letters: '\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C'\n  },\n  {\n    base: 'vy',\n    letters: '\\uA761'\n  },\n  {\n    base: 'w',\n    letters: '\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73'\n  },\n  {\n    base: 'x',\n    letters: '\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D'\n  },\n  {\n    base: 'y',\n    letters:\n      '\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF'\n  },\n  {\n    base: 'z',\n    letters: '\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763'\n  }\n];\n\nconst diacriticsMap: { [x: string]: string } = {};\nfor (let i = 0; i < defaultDiacriticsRemovalap.length; i++) {\n  const letters = defaultDiacriticsRemovalap[i].letters.split('');\n  for (let j = 0; j < letters.length; j++) {\n    diacriticsMap[letters[j]] = defaultDiacriticsRemovalap[i].base;\n  }\n}\n\n// \"what?\" version ... http://jsperf.com/diacritics/12\nexport default function removeDiacritics(str: string): string {\n  // eslint-disable-next-line no-control-regex\n  return str.replace(/[^\\u0000-\\u007E]/g, a => diacriticsMap[a] || a);\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { RuleDetails, RuleParameter } from '../../../app/types';\nimport Modal from '../../../components/controls/Modal';\nimport { translate } from '../../../helpers/l10n';\nimport MarkdownTips from '../../../components/common/MarkdownTips';\nimport { SEVERITIES, TYPES, RULE_STATUSES } from '../../../helpers/constants';\nimport latinize from '../../../helpers/latinize';\nimport Select from '../../../components/controls/Select';\nimport TypeHelper from '../../../components/shared/TypeHelper';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { createRule, updateRule } from '../../../api/rules';\nimport { csvEscape } from '../../../helpers/csv';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\n\ninterface Props {\n  customRule?: RuleDetails;\n  onClose: () => void;\n  onDone: (newRuleDetails: RuleDetails) => void;\n  organization: string | undefined;\n  templateRule: RuleDetails;\n}\n\ninterface State {\n  description: string;\n  key: string;\n  keyModifiedByUser: boolean;\n  name: string;\n  params: { [p: string]: string };\n  reactivating: boolean;\n  severity: string;\n  status: string;\n  submitting: boolean;\n  type: string;\n}\n\nexport default class CustomRuleFormModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const params: { [p: string]: string } = {};\n    if (props.customRule && props.customRule.params) {\n      for (const param of props.customRule.params) {\n        params[param.key] = param.defaultValue || '';\n      }\n    }\n    this.state = {\n      description: (props.customRule && props.customRule.mdDesc) || '',\n      key: '',\n      keyModifiedByUser: false,\n      name: (props.customRule && props.customRule.name) || '',\n      params,\n      reactivating: false,\n      severity: (props.customRule && props.customRule.severity) || props.templateRule.severity,\n      status: (props.customRule && props.customRule.status) || props.templateRule.status,\n      submitting: false,\n      type: (props.customRule && props.customRule.type) || props.templateRule.type\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  prepareRequest = () => {\n    /* eslint-disable camelcase */\n    const { customRule, organization, templateRule } = this.props;\n    const params = Object.keys(this.state.params)\n      .map(key => `${key}=${csvEscape(this.state.params[key])}`)\n      .join(';');\n    const ruleData = {\n      markdown_description: this.state.description,\n      name: this.state.name,\n      organization,\n      params,\n      severity: this.state.severity,\n      status: this.state.status\n    };\n    return customRule\n      ? updateRule({ ...ruleData, key: customRule.key })\n      : createRule({\n          ...ruleData,\n          custom_key: this.state.key,\n          prevent_reactivation: !this.state.reactivating,\n          template_key: templateRule.key,\n          type: this.state.type\n        });\n    /* eslint-enable camelcase */\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    this.prepareRequest().then(\n      newRuleDetails => {\n        if (this.mounted) {\n          this.setState({ submitting: false });\n          this.props.onDone(newRuleDetails);\n        }\n      },\n      (response: Response) => {\n        if (this.mounted) {\n          this.setState({ reactivating: response.status === 409, submitting: false });\n        }\n      }\n    );\n  };\n\n  handleNameChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const { value: name } = event.currentTarget;\n    this.setState((state: State) => {\n      const change: Partial<State> = { name };\n      if (!state.keyModifiedByUser) {\n        change.key = latinize(name).replace(/[^A-Za-z0-9]/g, '_');\n      }\n      return change;\n    });\n  };\n\n  handleKeyChange = (event: React.SyntheticEvent<HTMLInputElement>) =>\n    this.setState({ key: event.currentTarget.value, keyModifiedByUser: true });\n\n  handleDescriptionChange = (event: React.SyntheticEvent<HTMLTextAreaElement>) =>\n    this.setState({ description: event.currentTarget.value });\n\n  handleTypeChange = ({ value }: { value: string }) => this.setState({ type: value });\n\n  handleSeverityChange = ({ value }: { value: string }) => this.setState({ severity: value });\n\n  handleStatusChange = ({ value }: { value: string }) => this.setState({ status: value });\n\n  handleParameterChange = (event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState((state: State) => ({ params: { ...state.params, [name]: value } }));\n  };\n\n  renderNameField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>\n          {translate('name')} <em className=\"mandatory\">*</em>\n        </h3>\n      </th>\n      <td>\n        <input\n          autoFocus={true}\n          className=\"coding-rules-name-key\"\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-name\"\n          onChange={this.handleNameChange}\n          required={true}\n          type=\"text\"\n          value={this.state.name}\n        />\n      </td>\n    </tr>\n  );\n\n  renderKeyField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>\n          {translate('key')} {!this.props.customRule && <em className=\"mandatory\">*</em>}\n        </h3>\n      </th>\n      <td>\n        {this.props.customRule ? (\n          <span className=\"coding-rules-detail-custom-rule-key\" title={this.props.customRule.key}>\n            {this.props.customRule.key}\n          </span>\n        ) : (\n          <input\n            className=\"coding-rules-name-key\"\n            disabled={this.state.submitting}\n            id=\"coding-rules-custom-rule-creation-key\"\n            onChange={this.handleKeyChange}\n            required={true}\n            type=\"text\"\n            value={this.state.key}\n          />\n        )}\n      </td>\n    </tr>\n  );\n\n  renderDescriptionField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>\n          {translate('description')} <em className=\"mandatory\">*</em>\n        </h3>\n      </th>\n      <td>\n        <textarea\n          className=\"coding-rules-markdown-description\"\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-html-description\"\n          onChange={this.handleDescriptionChange}\n          required={true}\n          rows={5}\n          value={this.state.description}\n        />\n        <span className=\"text-right\">\n          <MarkdownTips />\n        </span>\n      </td>\n    </tr>\n  );\n\n  renderTypeOption = ({ value }: { value: string }) => <TypeHelper type={value} />;\n\n  renderTypeField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>{translate('type')}</h3>\n      </th>\n      <td>\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={this.state.submitting}\n          onChange={this.handleTypeChange}\n          optionRenderer={this.renderTypeOption}\n          options={TYPES.map(type => ({\n            label: translate('issue.type', type),\n            value: type\n          }))}\n          searchable={false}\n          value={this.state.type}\n          valueRenderer={this.renderTypeOption}\n        />\n      </td>\n    </tr>\n  );\n\n  renderSeverityOption = ({ value }: { value: string }) => <SeverityHelper severity={value} />;\n\n  renderSeverityField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>{translate('severity')}</h3>\n      </th>\n      <td>\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={this.state.submitting}\n          onChange={this.handleSeverityChange}\n          optionRenderer={this.renderSeverityOption}\n          options={SEVERITIES.map(severity => ({\n            label: translate('severity', severity),\n            value: severity\n          }))}\n          searchable={false}\n          value={this.state.severity}\n          valueRenderer={this.renderSeverityOption}\n        />\n      </td>\n    </tr>\n  );\n\n  renderStatusField = () => (\n    <tr className=\"property\">\n      <th className=\"nowrap\">\n        <h3>{translate('coding_rules.filters.status')}</h3>\n      </th>\n      <td>\n        <Select\n          className=\"input-medium\"\n          clearable={false}\n          disabled={this.state.submitting}\n          onChange={this.handleStatusChange}\n          options={RULE_STATUSES.map(status => ({\n            label: translate('rules.status', status),\n            value: status\n          }))}\n          searchable={false}\n          value={this.state.status}\n        />\n      </td>\n    </tr>\n  );\n\n  renderParameterField = (param: RuleParameter) => (\n    <tr className=\"property\" key={param.key}>\n      <th className=\"nowrap\">\n        <h3>{param.key}</h3>\n      </th>\n      <td>\n        {param.type === 'TEXT' ? (\n          <textarea\n            className=\"width100\"\n            disabled={this.state.submitting}\n            name={param.key}\n            onChange={this.handleParameterChange}\n            placeholder={param.defaultValue}\n            rows={3}\n            value={this.state.params[param.key] || ''}\n          />\n        ) : (\n          <input\n            className=\"input-super-large\"\n            disabled={this.state.submitting}\n            name={param.key}\n            onChange={this.handleParameterChange}\n            placeholder={param.defaultValue}\n            type=\"text\"\n            value={this.state.params[param.key] || ''}\n          />\n        )}\n        <div className=\"note\" dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }} />\n        {param.extra && <div className=\"note\">{param.extra}</div>}\n      </td>\n    </tr>\n  );\n\n  renderSubmitButton = () => {\n    if (this.state.reactivating) {\n      return (\n        <SubmitButton\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-reactivate\">\n          {translate('coding_rules.reactivate')}\n        </SubmitButton>\n      );\n    } else {\n      return (\n        <SubmitButton\n          disabled={this.state.submitting}\n          id=\"coding-rules-custom-rule-creation-create\">\n          {translate(this.props.customRule ? 'save' : 'create')}\n        </SubmitButton>\n      );\n    }\n  };\n\n  render() {\n    const { customRule, templateRule } = this.props;\n    const { reactivating, submitting } = this.state;\n    const { params = [] } = templateRule;\n    const header = translate(\n      customRule ? 'coding_rules.update_custom_rule' : 'coding_rules.create_custom_rule'\n    );\n    return (\n      <Modal contentLabel={header} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{header}</h2>\n          </div>\n\n          <div className=\"modal-body modal-container\">\n            {reactivating && (\n              <div className=\"alert alert-warning\">{translate('coding_rules.reactivate.help')}</div>\n            )}\n            <table>\n              <tbody>\n                {this.renderNameField()}\n                {this.renderKeyField()}\n                {this.renderDescriptionField()}\n                {/* do not allow to change the type of existing rule */}\n                {!customRule && this.renderTypeField()}\n                {this.renderSeverityField()}\n                {this.renderStatusField()}\n                {params.map(this.renderParameterField)}\n              </tbody>\n            </table>\n          </div>\n\n          <div className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            {this.renderSubmitButton()}\n            <ResetButtonLink\n              disabled={submitting}\n              id=\"coding-rules-custom-rule-creation-cancel\"\n              onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </div>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CustomRuleFormModal from './CustomRuleFormModal';\nimport { RuleDetails } from '../../../app/types';\n\ninterface Props {\n  children: (props: { onClick: () => void }) => React.ReactNode;\n  customRule?: RuleDetails;\n  onDone: (newRuleDetails: RuleDetails) => void;\n  organization: string | undefined;\n  templateRule: RuleDetails;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class CustomRuleButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleModalClose = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  handleDone = (newRuleDetails: RuleDetails) => {\n    this.handleModalClose();\n    this.props.onDone(newRuleDetails);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children({ onClick: this.handleClick })}\n        {this.state.modal && (\n          <CustomRuleFormModal\n            customRule={this.props.customRule}\n            onClose={this.handleModalClose}\n            onDone={this.handleDone}\n            organization={this.props.organization}\n            templateRule={this.props.templateRule}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Link } from 'react-router';\nimport { sortBy } from 'lodash';\nimport CustomRuleButton from './CustomRuleButton';\nimport { searchRules, deleteRule } from '../../../api/rules';\nimport { Rule, RuleDetails } from '../../../app/types';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport { getRuleUrl } from '../../../helpers/urls';\n\ninterface Props {\n  canChange?: boolean;\n  organization: string | undefined;\n  ruleDetails: RuleDetails;\n}\n\ninterface State {\n  loading: boolean;\n  rules?: Rule[];\n}\n\nexport default class RuleDetailsCustomRules extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: false };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchRules();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails.key !== this.props.ruleDetails.key) {\n      this.fetchRules();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRules = () => {\n    this.setState({ loading: true });\n    searchRules({\n      f: 'name,severity,params',\n      organization: this.props.organization,\n      /* eslint-disable camelcase */\n      template_key: this.props.ruleDetails.key\n      /* eslint-enable camelcase */\n    }).then(\n      ({ rules }) => {\n        if (this.mounted) {\n          this.setState({ rules, loading: false });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  handleRuleCreate = (newRuleDetails: RuleDetails) => {\n    if (this.mounted) {\n      this.setState(({ rules = [] }: State) => ({\n        rules: [...rules, newRuleDetails]\n      }));\n    }\n  };\n\n  handleRuleDelete = (ruleKey: string) => {\n    return deleteRule({ key: ruleKey, organization: this.props.organization }).then(() => {\n      if (this.mounted) {\n        this.setState(({ rules = [] }) => ({\n          rules: rules.filter(rule => rule.key !== ruleKey)\n        }));\n      }\n    });\n  };\n\n  renderRule = (rule: Rule) => (\n    <tr data-rule={rule.key} key={rule.key}>\n      <td className=\"coding-rules-detail-list-name\">\n        <Link to={getRuleUrl(rule.key, this.props.organization)}>{rule.name}</Link>\n      </td>\n\n      <td className=\"coding-rules-detail-list-severity\">\n        <SeverityHelper severity={rule.severity} />\n      </td>\n\n      <td className=\"coding-rules-detail-list-parameters\">\n        {rule.params &&\n          rule.params.filter(param => param.defaultValue).map(param => (\n            <div className=\"coding-rules-detail-list-parameter\" key={param.key}>\n              <span className=\"key\">{param.key}</span>\n              <span className=\"sep\">:&nbsp;</span>\n              <span className=\"value\" title={param.defaultValue}>\n                {param.defaultValue}\n              </span>\n            </div>\n          ))}\n      </td>\n\n      {this.props.canChange && (\n        <td className=\"coding-rules-detail-list-actions\">\n          <ConfirmButton\n            confirmButtonText={translate('delete')}\n            confirmData={rule.key}\n            isDestructive={true}\n            modalBody={translateWithParameters('coding_rules.delete.custom.confirm', rule.name)}\n            modalHeader={translate('coding_rules.delete_rule')}\n            onConfirm={this.handleRuleDelete}>\n            {({ onClick }) => (\n              <Button className=\"button-red js-delete-custom-rule\" onClick={onClick}>\n                {translate('delete')}\n              </Button>\n            )}\n          </ConfirmButton>\n        </td>\n      )}\n    </tr>\n  );\n\n  render() {\n    const { loading, rules = [] } = this.state;\n\n    return (\n      <div className=\"js-rule-custom-rules coding-rule-section\">\n        <div className=\"coding-rules-detail-custom-rules-section\">\n          <div className=\"coding-rule-section-separator\" />\n\n          <h3 className=\"coding-rules-detail-title\">{translate('coding_rules.custom_rules')}</h3>\n\n          {this.props.canChange && (\n            <CustomRuleButton\n              onDone={this.handleRuleCreate}\n              organization={this.props.organization}\n              templateRule={this.props.ruleDetails}>\n              {({ onClick }) => (\n                <Button className=\"js-create-custom-rule spacer-left\" onClick={onClick}>\n                  {translate('coding_rules.create')}\n                </Button>\n              )}\n            </CustomRuleButton>\n          )}\n\n          <DeferredSpinner loading={loading}>\n            {rules.length > 0 && (\n              <table className=\"coding-rules-detail-list\" id=\"coding-rules-detail-custom-rules\">\n                <tbody>{sortBy(rules, rule => rule.name).map(this.renderRule)}</tbody>\n              </table>\n            )}\n          </DeferredSpinner>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { Link } from 'react-router';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { getFacet } from '../../../api/issues';\nimport { getIssuesUrl } from '../../../helpers/urls';\nimport { formatMeasure } from '../../../helpers/measures';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  organization: string | undefined;\n  ruleKey: string;\n}\n\ninterface Project {\n  count: number;\n  id: string;\n  key: string;\n  name: string;\n}\n\ninterface State {\n  loading: boolean;\n  projects?: Project[];\n  total?: number;\n}\n\nexport default class RuleDetailsIssues extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  static contextTypes = {\n    branchesEnabled: PropTypes.bool\n  };\n\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchIssues();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleKey !== this.props.ruleKey) {\n      this.fetchIssues();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchIssues = () => {\n    this.setState({ loading: true });\n    getFacet(\n      { organization: this.props.organization, rules: this.props.ruleKey, resolved: false },\n      'projectUuids'\n    ).then(\n      ({ facet, response }) => {\n        if (this.mounted) {\n          const { components = [], paging } = response;\n          const projects = [];\n          for (const item of facet) {\n            const project = components.find(component => component.uuid === item.val);\n            if (project) {\n              projects.push({\n                count: item.count,\n                id: item.val,\n                key: project.key,\n                name: project.name\n              });\n            }\n          }\n          this.setState({ projects, loading: false, total: paging.total });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n  };\n\n  renderTotal = () => {\n    const { total } = this.state;\n    if (total === undefined) {\n      return null;\n    }\n    const path = getIssuesUrl(\n      { resolved: 'false', rules: this.props.ruleKey },\n      this.props.organization\n    );\n\n    const totalItem = (\n      <span className=\"little-spacer-left\">\n        {'('}\n        <Link to={path}>{total}</Link>\n        {')'}\n      </span>\n    );\n\n    if (!this.context.branchesEnabled) {\n      return totalItem;\n    }\n\n    return (\n      <Tooltip overlay={translate('coding_rules.issues.only_main_branches')}>{totalItem}</Tooltip>\n    );\n  };\n\n  renderProject = (project: Project) => {\n    const path = getIssuesUrl(\n      { projectUuids: project.id, resolved: 'false', rules: this.props.ruleKey },\n      this.props.organization\n    );\n    return (\n      <tr key={project.key}>\n        <td className=\"coding-rules-detail-list-name\">{project.name}</td>\n        <td className=\"coding-rules-detail-list-parameters\">\n          <Link to={path}>{formatMeasure(project.count, 'INT')}</Link>\n        </td>\n      </tr>\n    );\n  };\n\n  render() {\n    const { loading, projects = [] } = this.state;\n\n    return (\n      <div className=\"js-rule-issues coding-rule-section\">\n        <div className=\"coding-rule-section-separator\" />\n\n        <DeferredSpinner loading={loading}>\n          <h3 className=\"coding-rules-detail-title\">\n            {translate('coding_rules.issues')}\n            {this.renderTotal()}\n          </h3>\n\n          {projects.length > 0 && (\n            <table className=\"coding-rules-detail-list coding-rules-most-violated-projects\">\n              <tbody>\n                <tr>\n                  <td className=\"coding-rules-detail-list-name\" colSpan={2}>\n                    {translate('coding_rules.most_violating_projects')}\n                  </td>\n                </tr>\n                {projects.map(this.renderProject)}\n              </tbody>\n            </table>\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { RuleParameter } from '../../../app/types';\nimport { translate } from '../../../helpers/l10n';\n\ninterface Props {\n  params: RuleParameter[];\n}\n\nexport default class RuleDetailsParameters extends React.PureComponent<Props> {\n  renderParameter = (param: RuleParameter) => (\n    <tr className=\"coding-rules-detail-parameter\" key={param.key}>\n      <td className=\"coding-rules-detail-parameter-name\">{param.key}</td>\n      <td className=\"coding-rules-detail-parameter-description\">\n        <p dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }} />\n        {param.defaultValue !== undefined && (\n          <div className=\"note spacer-top\">\n            {translate('coding_rules.parameters.default_value')}\n            <br />\n            <span className=\"coding-rules-detail-parameter-value\">{param.defaultValue}</span>\n          </div>\n        )}\n      </td>\n    </tr>\n  );\n\n  render() {\n    return (\n      <div className=\"js-rule-parameters\">\n        <h3 className=\"coding-rules-detail-title\">{translate('coding_rules.parameters')}</h3>\n        <table className=\"coding-rules-detail-parameters\">\n          <tbody>{this.props.params.map(this.renderParameter)}</tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Modal from '../../../components/controls/Modal';\nimport Select from '../../../components/controls/Select';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport { activateRule, Profile as BaseProfile } from '../../../api/quality-profiles';\nimport { Rule, RuleDetails, RuleActivation } from '../../../app/types';\nimport { SEVERITIES } from '../../../helpers/constants';\nimport { translate } from '../../../helpers/l10n';\nimport { sortProfiles } from '../../quality-profiles/utils';\nimport { SubmitButton, ResetButtonLink } from '../../../components/ui/buttons';\n\ninterface Props {\n  activation?: RuleActivation;\n  modalHeader: string;\n  onClose: () => void;\n  onDone: (severity: string) => Promise<void>;\n  organization: string | undefined;\n  profiles: BaseProfile[];\n  rule: Rule | RuleDetails;\n  updateMode?: boolean;\n}\n\ninterface State {\n  params: { [p: string]: string };\n  profile: string;\n  severity: string;\n  submitting: boolean;\n}\n\nexport default class ActivationFormModal extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  constructor(props: Props) {\n    super(props);\n    const profilesWithDepth = this.getQualityProfilesWithDepth(props);\n    this.state = {\n      params: this.getParams(props),\n      profile: profilesWithDepth.length > 0 ? profilesWithDepth[0].key : '',\n      severity: props.activation ? props.activation.severity : props.rule.severity,\n      submitting: false\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  getParams = ({ activation, rule } = this.props) => {\n    const params: { [p: string]: string } = {};\n    if (rule && rule.params) {\n      for (const param of rule.params) {\n        params[param.key] = param.defaultValue || '';\n      }\n      if (activation && activation.params) {\n        for (const param of activation.params) {\n          params[param.key] = param.value;\n        }\n      }\n    }\n    return params;\n  };\n\n  // Choose QP which a user can administrate, which are the same language and which are not built-in\n  getQualityProfilesWithDepth = ({ profiles } = this.props) => {\n    return sortProfiles(\n      profiles.filter(\n        profile =>\n          !profile.isBuiltIn &&\n          profile.actions &&\n          profile.actions.edit &&\n          profile.language === this.props.rule.lang\n      )\n    ).map(profile => ({\n      ...profile,\n      // Decrease depth by 1, so the top level starts at 0\n      depth: profile.depth - 1\n    }));\n  };\n\n  handleFormSubmit = (event: React.SyntheticEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    this.setState({ submitting: true });\n    const data = {\n      key: this.state.profile,\n      organization: this.props.organization,\n      params: this.state.params,\n      rule: this.props.rule.key,\n      severity: this.state.severity\n    };\n    activateRule(data)\n      .then(() => this.props.onDone(data.severity))\n      .then(\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n            this.props.onClose();\n          }\n        },\n        () => {\n          if (this.mounted) {\n            this.setState({ submitting: false });\n          }\n        }\n      );\n  };\n\n  handleParameterChange = (event: React.SyntheticEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = event.currentTarget;\n    this.setState((state: State) => ({ params: { ...state.params, [name]: value } }));\n  };\n\n  handleProfileChange = ({ value }: { value: string }) => {\n    this.setState({ profile: value });\n  };\n\n  handleSeverityChange = ({ value }: { value: string }) => {\n    this.setState({ severity: value });\n  };\n\n  renderSeverityOption = ({ value }: { value: string }) => {\n    return <SeverityHelper severity={value} />;\n  };\n\n  render() {\n    const { activation, rule } = this.props;\n    const { profile, severity, submitting } = this.state;\n    const { params = [] } = rule;\n    const profilesWithDepth = this.getQualityProfilesWithDepth();\n    const isCustomRule = !!(rule as RuleDetails).templateKey;\n    const activeInAllProfiles = profilesWithDepth.length <= 0;\n    const isUpdateMode = !!activation;\n\n    return (\n      <Modal contentLabel={this.props.modalHeader} onRequestClose={this.props.onClose}>\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"modal-head\">\n            <h2>{this.props.modalHeader}</h2>\n          </div>\n\n          <div className=\"modal-body\">\n            {!isUpdateMode &&\n              activeInAllProfiles && (\n                <div className=\"alert alert-info\">\n                  {translate('coding_rules.active_in_all_profiles')}\n                </div>\n              )}\n\n            <div className=\"modal-field\">\n              <label>{translate('coding_rules.quality_profile')}</label>\n              <Select\n                className=\"js-profile\"\n                clearable={false}\n                disabled={submitting || profilesWithDepth.length === 1}\n                onChange={this.handleProfileChange}\n                options={profilesWithDepth.map(profile => ({\n                  label: '   '.repeat(profile.depth) + profile.name,\n                  value: profile.key\n                }))}\n                value={profile}\n              />\n            </div>\n            <div className=\"modal-field\">\n              <label>{translate('severity')}</label>\n              <Select\n                className=\"js-severity\"\n                clearable={false}\n                disabled={submitting}\n                onChange={this.handleSeverityChange}\n                optionRenderer={this.renderSeverityOption}\n                options={SEVERITIES.map(severity => ({\n                  label: translate('severity', severity),\n                  value: severity\n                }))}\n                searchable={false}\n                value={severity}\n                valueRenderer={this.renderSeverityOption}\n              />\n            </div>\n            {isCustomRule ? (\n              <div className=\"modal-field\">\n                <p className=\"note\">{translate('coding_rules.custom_rule.activation_notice')}</p>\n              </div>\n            ) : (\n              params.map(param => (\n                <div className=\"modal-field\" key={param.key}>\n                  <label title={param.key}>{param.key}</label>\n                  {param.type === 'TEXT' ? (\n                    <textarea\n                      className=\"width100\"\n                      disabled={submitting}\n                      name={param.key}\n                      onChange={this.handleParameterChange}\n                      placeholder={param.defaultValue}\n                      rows={3}\n                      value={this.state.params[param.key] || ''}\n                    />\n                  ) : (\n                    <input\n                      className=\"input-super-large\"\n                      disabled={submitting}\n                      name={param.key}\n                      onChange={this.handleParameterChange}\n                      placeholder={param.defaultValue}\n                      type=\"text\"\n                      value={this.state.params[param.key] || ''}\n                    />\n                  )}\n                  <div\n                    className=\"note\"\n                    dangerouslySetInnerHTML={{ __html: param.htmlDesc || '' }}\n                  />\n                  {param.extra && <div className=\"note\">{param.extra}</div>}\n                </div>\n              ))\n            )}\n          </div>\n\n          <footer className=\"modal-foot\">\n            {submitting && <i className=\"spinner spacer-right\" />}\n            <SubmitButton disabled={submitting || activeInAllProfiles}>\n              {isUpdateMode ? translate('save') : translate('coding_rules.activate')}\n            </SubmitButton>\n            <ResetButtonLink disabled={submitting} onClick={this.props.onClose}>\n              {translate('cancel')}\n            </ResetButtonLink>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ActivationFormModal from './ActivationFormModal';\nimport { Profile as BaseProfile } from '../../../api/quality-profiles';\nimport { Rule, RuleDetails, RuleActivation } from '../../../app/types';\nimport { Button } from '../../../components/ui/buttons';\n\ninterface Props {\n  activation?: RuleActivation;\n  buttonText: string;\n  className?: string;\n  modalHeader: string;\n  onDone: (severity: string) => Promise<void>;\n  organization: string | undefined;\n  profiles: BaseProfile[];\n  rule: Rule | RuleDetails;\n  updateMode?: boolean;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ActivationButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleButtonClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ modal: false });\n  };\n\n  render() {\n    return (\n      <>\n        <Button\n          className={this.props.className}\n          id=\"coding-rules-quality-profile-activate\"\n          onClick={this.handleButtonClick}>\n          {this.props.buttonText}\n        </Button>\n\n        {this.state.modal && (\n          <ActivationFormModal\n            activation={this.props.activation}\n            modalHeader={this.props.modalHeader}\n            onClose={this.handleCloseModal}\n            onDone={this.props.onDone}\n            organization={this.props.organization}\n            profiles={this.props.profiles}\n            rule={this.props.rule}\n            updateMode={this.props.updateMode}\n          />\n        )}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as theme from '../../../app/theme';\nimport { RuleInheritance } from '../../../app/types';\n\ninterface Props {\n  className?: string;\n  inheritance: RuleInheritance.Inherited | RuleInheritance.Overridden;\n}\n\nexport default function RuleInheritanceIcon({ className, inheritance, ...other }: Props) {\n  const fill = inheritance === RuleInheritance.Overridden ? theme.red : theme.baseFontColor;\n\n  return (\n    <svg\n      className={className}\n      height={16}\n      version=\"1.1\"\n      viewBox=\"0 0 16 16\"\n      width={16}\n      xmlSpace=\"preserve\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n      {...other}>\n      <path\n        d=\"M6.25 12.5a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm0-9a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm5 1a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0zm.75 0a1.5 1.5 0 0 1-.75 1.297c-.023 2.82-2.023 3.445-3.352 3.867-1.242.39-1.648.578-1.648 1.336v.203A1.5 1.5 0 1 1 4 12.5a1.5 1.5 0 0 1 .75-1.297V4.797A1.5 1.5 0 1 1 7 3.5a1.5 1.5 0 0 1-.75 1.297V8.68c.398-.196.82-.328 1.203-.446 1.453-.46 2.281-.804 2.297-2.437A1.5 1.5 0 1 1 12 4.5z\"\n        style={{ fill, fillRule: 'nonzero' }}\n      />\n    </svg>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { filter } from 'lodash';\nimport { Link } from 'react-router';\nimport ActivationButton from './ActivationButton';\nimport RuleInheritanceIcon from './RuleInheritanceIcon';\nimport { Profile, deactivateRule, activateRule } from '../../../api/quality-profiles';\nimport { RuleActivation, RuleDetails, RuleInheritance } from '../../../app/types';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport BuiltInQualityProfileBadge from '../../quality-profiles/components/BuiltInQualityProfileBadge';\nimport InstanceMessage from '../../../components/common/InstanceMessage';\nimport SeverityHelper from '../../../components/shared/SeverityHelper';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport { Button } from '../../../components/ui/buttons';\nimport { getQualityProfileUrl } from '../../../helpers/urls';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  activations: RuleActivation[] | undefined;\n  canWrite: boolean | undefined;\n  onActivate: () => Promise<void>;\n  onDeactivate: () => Promise<void>;\n  organization: string | undefined;\n  referencedProfiles: { [profile: string]: Profile };\n  ruleDetails: RuleDetails;\n}\n\ninterface State {\n  loading: boolean;\n}\n\nexport default class RuleDetailsProfiles extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n    this.fetchProfiles();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleDetails.key !== this.props.ruleDetails.key) {\n      this.fetchProfiles();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchProfiles = () => this.setState({ loading: true });\n\n  handleActivate = () => this.props.onActivate();\n\n  handleDeactivate = (key?: string) => {\n    if (key) {\n      deactivateRule({\n        key,\n        organization: this.props.organization,\n        rule: this.props.ruleDetails.key\n      }).then(this.props.onDeactivate, () => {});\n    }\n  };\n\n  handleRevert = (key?: string) => {\n    if (key) {\n      activateRule({\n        key,\n        organization: this.props.organization,\n        rule: this.props.ruleDetails.key,\n        reset: true\n      }).then(this.props.onActivate, () => {});\n    }\n  };\n\n  renderInheritedProfile = (activation: RuleActivation, profile: Profile) => {\n    if (!profile.parentName) {\n      return null;\n    }\n    const profilePath = getQualityProfileUrl(\n      profile.parentName,\n      profile.language,\n      this.props.organization\n    );\n    return (\n      <div className=\"coding-rules-detail-quality-profile-inheritance\">\n        {(activation.inherit === RuleInheritance.Overridden ||\n          activation.inherit === RuleInheritance.Inherited) && (\n          <>\n            <RuleInheritanceIcon className=\"text-middle\" inheritance={activation.inherit} />\n            <Link className=\"link-base-color little-spacer-left text-middle\" to={profilePath}>\n              {profile.parentName}\n            </Link>\n          </>\n        )}\n      </div>\n    );\n  };\n\n  renderSeverity = (activation: RuleActivation, parentActivation?: RuleActivation) => (\n    <td className=\"coding-rules-detail-quality-profile-severity\">\n      <Tooltip overlay={translate('coding_rules.activation_severity')}>\n        <span>\n          <SeverityHelper severity={activation.severity} />\n        </span>\n      </Tooltip>\n      {parentActivation !== undefined &&\n        activation.severity !== parentActivation.severity && (\n          <div className=\"coding-rules-detail-quality-profile-inheritance\">\n            {translate('coding_rules.original')} {translate('severity', parentActivation.severity)}\n          </div>\n        )}\n    </td>\n  );\n\n  renderParameter = (param: { key: string; value: string }, parentActivation?: RuleActivation) => {\n    const originalParam =\n      parentActivation && parentActivation.params.find(p => p.key === param.key);\n    const originalValue = originalParam && originalParam.value;\n\n    return (\n      <div className=\"coding-rules-detail-quality-profile-parameter\" key={param.key}>\n        <span className=\"key\">{param.key}</span>\n        <span className=\"sep\">{': '}</span>\n        <span className=\"value\" title={param.value}>\n          {param.value}\n        </span>\n        {parentActivation &&\n          param.value !== originalValue && (\n            <div className=\"coding-rules-detail-quality-profile-inheritance\">\n              {translate('coding_rules.original')} <span className=\"value\">{originalValue}</span>\n            </div>\n          )}\n      </div>\n    );\n  };\n\n  renderParameters = (activation: RuleActivation, parentActivation?: RuleActivation) => (\n    <td className=\"coding-rules-detail-quality-profile-parameters\">\n      {activation.params.map(param => this.renderParameter(param, parentActivation))}\n    </td>\n  );\n\n  renderActions = (activation: RuleActivation, profile: Profile) => {\n    const canEdit = profile.actions && profile.actions.edit && !profile.isBuiltIn;\n    const { ruleDetails } = this.props;\n    const hasParent = activation.inherit !== RuleInheritance.NotInherited && profile.parentKey;\n    return (\n      <td className=\"coding-rules-detail-quality-profile-actions\">\n        {canEdit && (\n          <>\n            {!ruleDetails.isTemplate && (\n              <ActivationButton\n                activation={activation}\n                buttonText={translate('change_verb')}\n                className=\"coding-rules-detail-quality-profile-change\"\n                modalHeader={translate('coding_rules.change_details')}\n                onDone={this.handleActivate}\n                organization={this.props.organization}\n                profiles={[profile]}\n                rule={ruleDetails}\n              />\n            )}\n            {hasParent ? (\n              activation.inherit === RuleInheritance.Overridden &&\n              profile.parentName && (\n                <ConfirmButton\n                  confirmButtonText={translate('yes')}\n                  confirmData={profile.key}\n                  modalBody={translateWithParameters(\n                    'coding_rules.revert_to_parent_definition.confirm',\n                    profile.parentName\n                  )}\n                  modalHeader={translate('coding_rules.revert_to_parent_definition')}\n                  onConfirm={this.handleRevert}>\n                  {({ onClick }) => (\n                    <Button\n                      className=\"coding-rules-detail-quality-profile-revert button-red spacer-left\"\n                      onClick={onClick}>\n                      {translate('coding_rules.revert_to_parent_definition')}\n                    </Button>\n                  )}\n                </ConfirmButton>\n              )\n            ) : (\n              <ConfirmButton\n                confirmButtonText={translate('yes')}\n                confirmData={profile.key}\n                modalBody={translate('coding_rules.deactivate.confirm')}\n                modalHeader={translate('coding_rules.deactivate')}\n                onConfirm={this.handleDeactivate}>\n                {({ onClick }) => (\n                  <Button\n                    className=\"coding-rules-detail-quality-profile-deactivate button-red spacer-left\"\n                    onClick={onClick}>\n                    {translate('coding_rules.deactivate')}\n                  </Button>\n                )}\n              </ConfirmButton>\n            )}\n          </>\n        )}\n      </td>\n    );\n  };\n\n  renderActivation = (activation: RuleActivation) => {\n    const { activations = [], ruleDetails } = this.props;\n    const profile = this.props.referencedProfiles[activation.qProfile];\n    if (!profile) {\n      return null;\n    }\n\n    const parentActivation = activations.find(x => x.qProfile === profile.parentKey);\n\n    return (\n      <tr data-profile={profile.key} key={profile.key}>\n        <td className=\"coding-rules-detail-quality-profile-name\">\n          <Link to={getQualityProfileUrl(profile.name, profile.language, this.props.organization)}>\n            {profile.name}\n          </Link>\n          {profile.isBuiltIn && <BuiltInQualityProfileBadge className=\"spacer-left\" />}\n          {this.renderInheritedProfile(activation, profile)}\n        </td>\n\n        {this.renderSeverity(activation, parentActivation)}\n        {!ruleDetails.templateKey && this.renderParameters(activation, parentActivation)}\n        {this.renderActions(activation, profile)}\n      </tr>\n    );\n  };\n\n  render() {\n    const { activations = [], referencedProfiles, ruleDetails } = this.props;\n    const canActivate = Object.values(referencedProfiles).some(profile =>\n      Boolean(profile.actions && profile.actions.edit && profile.language === ruleDetails.lang)\n    );\n\n    return (\n      <div className=\"js-rule-profiles coding-rule-section\">\n        <div className=\"coding-rules-detail-quality-profiles-section\">\n          <div className=\"coding-rule-section-separator\" />\n\n          <h3 className=\"coding-rules-detail-title\">\n            <InstanceMessage message={translate('coding_rules.quality_profiles')} />\n          </h3>\n\n          {canActivate && (\n            <ActivationButton\n              buttonText={translate('coding_rules.activate')}\n              className=\"coding-rules-quality-profile-activate spacer-left\"\n              modalHeader={translate('coding_rules.activate_in_quality_profile')}\n              onDone={this.handleActivate}\n              organization={this.props.organization}\n              profiles={filter(\n                this.props.referencedProfiles,\n                profile => !activations.find(activation => activation.qProfile === profile.key)\n              )}\n              rule={ruleDetails}\n            />\n          )}\n\n          {activations.length > 0 && (\n            <table\n              className=\"coding-rules-detail-quality-profiles width100\"\n              id=\"coding-rules-detail-quality-profiles\">\n              <tbody>{activations.map(this.renderActivation)}</tbody>\n            </table>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport CustomRuleButton from './CustomRuleButton';\nimport RuleDetailsCustomRules from './RuleDetailsCustomRules';\nimport RuleDetailsDescription from './RuleDetailsDescription';\nimport RuleDetailsIssues from './RuleDetailsIssues';\nimport RuleDetailsMeta from './RuleDetailsMeta';\nimport RuleDetailsParameters from './RuleDetailsParameters';\nimport RuleDetailsProfiles from './RuleDetailsProfiles';\nimport { Query, Activation } from '../query';\nimport { Profile } from '../../../api/quality-profiles';\nimport { getRuleDetails, deleteRule, updateRule } from '../../../api/rules';\nimport { RuleActivation, RuleDetails as IRuleDetails } from '../../../app/types';\nimport DeferredSpinner from '../../../components/common/DeferredSpinner';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport DocTooltip from '../../../components/docs/DocTooltip';\nimport { Button } from '../../../components/ui/buttons';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\n\ninterface Props {\n  allowCustomRules?: boolean;\n  canWrite?: boolean;\n  onActivate: (profile: string, rule: string, activation: Activation) => void;\n  onDeactivate: (profile: string, rule: string) => void;\n  onDelete: (rule: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  organization: string | undefined;\n  referencedProfiles: { [profile: string]: Profile };\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  ruleKey: string;\n  selectedProfile?: Profile;\n}\n\ninterface State {\n  actives?: RuleActivation[];\n  loading: boolean;\n  ruleDetails?: IRuleDetails;\n}\n\nexport default class RuleDetails extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: true };\n\n  componentDidMount() {\n    this.mounted = true;\n    this.setState({ loading: true });\n    this.fetchRuleDetails();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (prevProps.ruleKey !== this.props.ruleKey) {\n      this.setState({ loading: true });\n      this.fetchRuleDetails();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  fetchRuleDetails = () =>\n    getRuleDetails({\n      actives: true,\n      key: this.props.ruleKey,\n      organization: this.props.organization\n    }).then(\n      ({ actives, rule }) => {\n        if (this.mounted) {\n          this.setState({ actives, loading: false, ruleDetails: rule });\n        }\n      },\n      () => {\n        if (this.mounted) {\n          this.setState({ loading: false });\n        }\n      }\n    );\n\n  handleRuleChange = (ruleDetails: IRuleDetails) => {\n    if (this.mounted) {\n      this.setState({ ruleDetails });\n    }\n  };\n\n  handleTagsChange = (tags: string[]) => {\n    // optimistic update\n    const oldTags = this.state.ruleDetails && this.state.ruleDetails.tags;\n    this.setState(state => ({ ruleDetails: { ...state.ruleDetails, tags } }));\n    updateRule({\n      key: this.props.ruleKey,\n      organization: this.props.organization,\n      tags: tags.join()\n    }).catch(() => {\n      if (this.mounted) {\n        this.setState(state => ({ ruleDetails: { ...state.ruleDetails, tags: oldTags } }));\n      }\n    });\n  };\n\n  handleActivate = () =>\n    this.fetchRuleDetails().then(() => {\n      const { ruleKey, selectedProfile } = this.props;\n      if (selectedProfile && this.state.actives) {\n        const active = this.state.actives.find(active => active.qProfile === selectedProfile.key);\n        if (active) {\n          this.props.onActivate(selectedProfile.key, ruleKey, active);\n        }\n      }\n    });\n\n  handleDeactivate = () =>\n    this.fetchRuleDetails().then(() => {\n      const { ruleKey, selectedProfile } = this.props;\n      if (selectedProfile && this.state.actives) {\n        if (!this.state.actives.find(active => active.qProfile === selectedProfile.key)) {\n          this.props.onDeactivate(selectedProfile.key, ruleKey);\n        }\n      }\n    });\n\n  handleDelete = () =>\n    deleteRule({ key: this.props.ruleKey, organization: this.props.organization }).then(() =>\n      this.props.onDelete(this.props.ruleKey)\n    );\n\n  render() {\n    const { ruleDetails } = this.state;\n\n    if (!ruleDetails) {\n      return <div className=\"coding-rule-details\" />;\n    }\n\n    const { allowCustomRules, canWrite, organization, referencedProfiles } = this.props;\n    const { params = [] } = ruleDetails;\n\n    const isCustom = !!ruleDetails.templateKey;\n    const isEditable = canWrite && !!this.props.allowCustomRules && isCustom;\n\n    return (\n      <div className=\"coding-rule-details\">\n        <DeferredSpinner loading={this.state.loading}>\n          <RuleDetailsMeta\n            canWrite={canWrite}\n            onFilterChange={this.props.onFilterChange}\n            onTagsChange={this.handleTagsChange}\n            organization={organization}\n            referencedRepositories={this.props.referencedRepositories}\n            ruleDetails={ruleDetails}\n          />\n\n          <RuleDetailsDescription\n            canWrite={canWrite}\n            onChange={this.handleRuleChange}\n            organization={organization}\n            ruleDetails={ruleDetails}\n          />\n\n          {params.length > 0 && <RuleDetailsParameters params={params} />}\n\n          {isEditable && (\n            <div className=\"coding-rules-detail-description display-flex-center\">\n              {/* `templateRule` is used to get rule meta data, `customRule` is used to get parameter values */}\n              {/* it's expected to pass the same rule to both parameters */}\n              <CustomRuleButton\n                customRule={ruleDetails}\n                onDone={this.handleRuleChange}\n                organization={organization}\n                templateRule={ruleDetails}>\n                {({ onClick }) => (\n                  <Button\n                    className=\"js-edit-custom\"\n                    id=\"coding-rules-detail-custom-rule-change\"\n                    onClick={onClick}>\n                    {translate('edit')}\n                  </Button>\n                )}\n              </CustomRuleButton>\n              <ConfirmButton\n                confirmButtonText={translate('delete')}\n                isDestructive={true}\n                modalBody={translateWithParameters(\n                  'coding_rules.delete.custom.confirm',\n                  ruleDetails.name\n                )}\n                modalHeader={translate('coding_rules.delete_rule')}\n                onConfirm={this.handleDelete}>\n                {({ onClick }) => (\n                  <>\n                    <Button\n                      className=\"button-red spacer-left js-delete\"\n                      id=\"coding-rules-detail-rule-delete\"\n                      onClick={onClick}>\n                      {translate('delete')}\n                    </Button>\n                    <DocTooltip className=\"spacer-left\" doc=\"rules/custom-rule-removal\" />\n                  </>\n                )}\n              </ConfirmButton>\n            </div>\n          )}\n\n          {ruleDetails.isTemplate && (\n            <RuleDetailsCustomRules\n              canChange={allowCustomRules && canWrite}\n              organization={organization}\n              ruleDetails={ruleDetails}\n            />\n          )}\n\n          {!ruleDetails.isTemplate && (\n            <RuleDetailsProfiles\n              activations={this.state.actives}\n              canWrite={canWrite}\n              onActivate={this.handleActivate}\n              onDeactivate={this.handleDeactivate}\n              organization={organization}\n              referencedProfiles={referencedProfiles}\n              ruleDetails={ruleDetails}\n            />\n          )}\n\n          {!ruleDetails.isTemplate && (\n            <RuleDetailsIssues organization={organization} ruleKey={ruleDetails.key} />\n          )}\n        </DeferredSpinner>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { Link } from 'react-router';\nimport ActivationButton from './ActivationButton';\nimport RuleInheritanceIcon from './RuleInheritanceIcon';\nimport SimilarRulesFilter from './SimilarRulesFilter';\nimport { Activation, Query } from '../query';\nimport { Profile, deactivateRule } from '../../../api/quality-profiles';\nimport { Rule, RuleInheritance } from '../../../app/types';\nimport ConfirmButton from '../../../components/controls/ConfirmButton';\nimport Tooltip from '../../../components/controls/Tooltip';\nimport SeverityIcon from '../../../components/icons-components/SeverityIcon';\nimport { Button } from '../../../components/ui/buttons';\nimport IssueTypeIcon from '../../../components/ui/IssueTypeIcon';\nimport { translate, translateWithParameters } from '../../../helpers/l10n';\nimport TagsIcon from '../../../components/icons-components/TagsIcon';\n\ninterface Props {\n  activation?: Activation;\n  onActivate: (profile: string, rule: string, activation: Activation) => void;\n  onDeactivate: (profile: string, rule: string) => void;\n  onFilterChange: (changes: Partial<Query>) => void;\n  organization: string | undefined;\n  path: { pathname: string; query: { [x: string]: any } };\n  rule: Rule;\n  selected: boolean;\n  selectedProfile?: Profile;\n}\n\nexport default class RuleListItem extends React.PureComponent<Props> {\n  handleDeactivate = () => {\n    if (this.props.selectedProfile) {\n      const data = {\n        key: this.props.selectedProfile.key,\n        organization: this.props.organization,\n        rule: this.props.rule.key\n      };\n      deactivateRule(data).then(() => this.props.onDeactivate(data.key, data.rule), () => {});\n    }\n  };\n\n  handleActivate = (severity: string) => {\n    if (this.props.selectedProfile) {\n      this.props.onActivate(this.props.selectedProfile.key, this.props.rule.key, {\n        severity,\n        inherit: RuleInheritance.NotInherited\n      });\n    }\n    return Promise.resolve();\n  };\n\n  renderActivation = () => {\n    const { activation, selectedProfile } = this.props;\n    if (!activation) {\n      return null;\n    }\n\n    return (\n      <td className=\"coding-rule-table-meta-cell coding-rule-activation\">\n        <SeverityIcon severity={activation.severity} />\n        {selectedProfile &&\n          selectedProfile.parentName && (\n            <>\n              {activation.inherit === RuleInheritance.Overridden && (\n                <Tooltip\n                  overlay={translateWithParameters(\n                    'coding_rules.overrides',\n                    selectedProfile.name,\n                    selectedProfile.parentName\n                  )}>\n                  <RuleInheritanceIcon\n                    className=\"little-spacer-left\"\n                    inheritance={activation.inherit}\n                  />\n                </Tooltip>\n              )}\n              {activation.inherit === RuleInheritance.Inherited && (\n                <Tooltip\n                  overlay={translateWithParameters(\n                    'coding_rules.inherits',\n                    selectedProfile.name,\n                    selectedProfile.parentName\n                  )}>\n                  <RuleInheritanceIcon\n                    className=\"little-spacer-left\"\n                    inheritance={activation.inherit}\n                  />\n                </Tooltip>\n              )}\n            </>\n          )}\n      </td>\n    );\n  };\n\n  renderActions = () => {\n    const { activation, rule, selectedProfile } = this.props;\n    if (!selectedProfile) {\n      return null;\n    }\n\n    const canEdit = selectedProfile.actions && selectedProfile.actions.edit;\n    if (!canEdit || selectedProfile.isBuiltIn) {\n      return null;\n    }\n\n    return (\n      <td className=\"coding-rule-table-meta-cell coding-rule-activation-actions\">\n        {activation\n          ? this.renderDeactivateButton(activation.inherit)\n          : !rule.isTemplate && (\n              <ActivationButton\n                buttonText={translate('coding_rules.activate')}\n                className=\"coding-rules-detail-quality-profile-activate\"\n                modalHeader={translate('coding_rules.activate_in_quality_profile')}\n                onDone={this.handleActivate}\n                organization={this.props.organization}\n                profiles={[selectedProfile]}\n                rule={rule}\n              />\n            )}\n      </td>\n    );\n  };\n\n  renderDeactivateButton = (inherit: string) => {\n    return inherit === 'NONE' ? (\n      <ConfirmButton\n        confirmButtonText={translate('yes')}\n        modalBody={translate('coding_rules.deactivate.confirm')}\n        modalHeader={translate('coding_rules.deactivate')}\n        onConfirm={this.handleDeactivate}>\n        {({ onClick }) => (\n          <Button\n            className=\"coding-rules-detail-quality-profile-deactivate button-red\"\n            onClick={onClick}>\n            {translate('coding_rules.deactivate')}\n          </Button>\n        )}\n      </ConfirmButton>\n    ) : (\n      <Tooltip overlay={translate('coding_rules.can_not_deactivate')}>\n        <Button className=\"coding-rules-detail-quality-profile-deactivate button-red disabled\">\n          {translate('coding_rules.deactivate')}\n        </Button>\n      </Tooltip>\n    );\n  };\n\n  render() {\n    const { rule, selected } = this.props;\n    const allTags = [...(rule.tags || []), ...(rule.sysTags || [])];\n    return (\n      <div className={classNames('coding-rule', { selected })} data-rule={rule.key}>\n        <table className=\"coding-rule-table\">\n          <tbody>\n            <tr>\n              {this.renderActivation()}\n\n              <td>\n                <div className=\"coding-rule-title\">\n                  <Link className=\"link-no-underline\" to={this.props.path}>\n                    {rule.name}\n                  </Link>\n                  {rule.isTemplate && (\n                    <Tooltip overlay={translate('coding_rules.rule_template.title')}>\n                      <span className=\"outline-badge spacer-left\">\n                        {translate('coding_rules.rule_template')}\n                      </span>\n                    </Tooltip>\n                  )}\n                </div>\n              </td>\n\n              <td className=\"coding-rule-table-meta-cell\">\n                <div className=\"display-flex-center coding-rule-meta\">\n                  {rule.status !== 'READY' && (\n                    <span className=\"spacer-left badge badge-normal-size badge-tiny-height badge-danger-light\">\n                      {translate('rules.status', rule.status)}\n                    </span>\n                  )}\n                  <span className=\"spacer-left note\">{rule.langName}</span>\n                  <Tooltip overlay={translate('coding_rules.type.tooltip', rule.type)}>\n                    <span className=\"display-inline-flex-center spacer-left note\">\n                      <IssueTypeIcon className=\"little-spacer-right\" query={rule.type} />\n                      {translate('issue.type', rule.type)}\n                    </span>\n                  </Tooltip>\n                  {allTags.length > 0 && (\n                    <span className=\"spacer-left note\">\n                      <TagsIcon className=\"little-spacer-right\" />\n                      {allTags.join(', ')}\n                    </span>\n                  )}\n                  <SimilarRulesFilter onFilterChange={this.props.onFilterChange} rule={rule} />\n                </div>\n              </td>\n\n              {this.renderActions()}\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { Helmet } from 'react-helmet';\nimport * as PropTypes from 'prop-types';\nimport { keyBy } from 'lodash';\nimport * as key from 'keymaster';\nimport BulkChange from './BulkChange';\nimport FacetsList from './FacetsList';\nimport PageActions from './PageActions';\nimport RuleDetails from './RuleDetails';\nimport RuleListItem from './RuleListItem';\nimport Suggestions from '../../../app/components/embed-docs-modal/Suggestions';\nimport {\n  Facets,\n  Query,\n  parseQuery,\n  serializeQuery,\n  areQueriesEqual,\n  shouldRequestFacet,\n  FacetKey,\n  OpenFacets,\n  getServerFacet,\n  getAppFacet,\n  Actives,\n  Activation,\n  getOpen\n} from '../query';\nimport { searchRules, getRulesApp } from '../../../api/rules';\nimport { Paging, Rule, RuleActivation } from '../../../app/types';\nimport ScreenPositionHelper from '../../../components/common/ScreenPositionHelper';\nimport { translate } from '../../../helpers/l10n';\nimport { RawQuery } from '../../../helpers/query';\nimport ListFooter from '../../../components/controls/ListFooter';\nimport FiltersHeader from '../../../components/common/FiltersHeader';\nimport SearchBox from '../../../components/controls/SearchBox';\nimport { searchQualityProfiles, Profile } from '../../../api/quality-profiles';\nimport { scrollToElement } from '../../../helpers/scrolling';\nimport '../../../components/search-navigator.css';\nimport '../styles.css';\n\nconst PAGE_SIZE = 100;\nconst LIMIT_BEFORE_LOAD_MORE = 5;\n\ninterface Props {\n  location: { pathname: string; query: RawQuery };\n  organization?: { key: string };\n}\n\ninterface State {\n  actives?: Actives;\n  canWrite?: boolean;\n  facets?: Facets;\n  loading: boolean;\n  openFacets: OpenFacets;\n  openRule?: Rule;\n  paging?: Paging;\n  query: Query;\n  referencedProfiles: { [profile: string]: Profile };\n  referencedRepositories: { [repository: string]: { key: string; language: string; name: string } };\n  rules: Rule[];\n  selected?: string;\n}\n\n// TODO redirect to default organization's rules page\n\nexport default class App extends React.PureComponent<Props, State> {\n  mounted = false;\n\n  static contextTypes = {\n    organizationsEnabled: PropTypes.bool,\n    router: PropTypes.object.isRequired\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      loading: true,\n      openFacets: { languages: true, types: true },\n      query: parseQuery(props.location.query),\n      referencedProfiles: {},\n      referencedRepositories: {},\n      rules: []\n    };\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    // $FlowFixMe\n    document.body.classList.add('white-page');\n    // $FlowFixMe\n    document.documentElement.classList.add('white-page');\n    const footer = document.getElementById('footer');\n    if (footer) {\n      footer.classList.add('page-footer-with-sidebar');\n    }\n    this.attachShortcuts();\n    this.fetchInitialData();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    const openRule = this.getOpenRule(nextProps, this.state.rules);\n    if (openRule && openRule.key !== this.state.selected) {\n      this.setState({ selected: openRule.key });\n    }\n    this.setState({ openRule, query: parseQuery(nextProps.location.query) });\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    if (!areQueriesEqual(prevProps.location.query, this.props.location.query)) {\n      this.fetchFirstRules();\n    }\n    if (\n      !this.state.openRule &&\n      (prevState.selected !== this.state.selected || prevState.openRule)\n    ) {\n      // if user simply selected another issue\n      // or if he went from the source code back to the list of issues\n      this.scrollToSelectedRule();\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n    // $FlowFixMe\n    document.body.classList.remove('white-page');\n    // $FlowFixMe\n    document.documentElement.classList.remove('white-page');\n    const footer = document.getElementById('footer');\n    if (footer) {\n      footer.classList.remove('page-footer-with-sidebar');\n    }\n    this.detachShortcuts();\n  }\n\n  attachShortcuts = () => {\n    key.setScope('coding-rules');\n    key('up', 'coding-rules', () => {\n      this.selectPreviousRule();\n      return false;\n    });\n    key('down', 'coding-rules', () => {\n      this.selectNextRule();\n      return false;\n    });\n    key('right', 'coding-rules', () => {\n      this.openSelectedRule();\n      return false;\n    });\n    key('left', 'coding-rules', () => {\n      this.closeRule();\n      return false;\n    });\n  };\n\n  detachShortcuts = () => key.deleteScope('coding-rules');\n\n  getOpenRule = (props: Props, rules: Rule[]) => {\n    const open = getOpen(props.location.query);\n    return open && rules.find(rule => rule.key === open);\n  };\n\n  getFacetsToFetch = () =>\n    Object.keys(this.state.openFacets)\n      .filter((facet: FacetKey) => this.state.openFacets[facet])\n      .filter((facet: FacetKey) => shouldRequestFacet(facet))\n      .map((facet: FacetKey) => getServerFacet(facet));\n\n  getFieldsToFetch = () => {\n    const fields = [\n      'isTemplate',\n      'name',\n      'lang',\n      'langName',\n      'severity',\n      'status',\n      'sysTags',\n      'tags',\n      'templateKey'\n    ];\n    if (this.state.query.profile) {\n      fields.push('actives', 'params');\n    }\n    return fields;\n  };\n\n  getSearchParameters = () => ({\n    f: this.getFieldsToFetch().join(),\n    facets: this.getFacetsToFetch().join(),\n    organization: this.props.organization && this.props.organization.key,\n    ps: PAGE_SIZE,\n    s: 'name',\n    ...serializeQuery(this.state.query)\n  });\n\n  stopLoading = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  fetchInitialData = () => {\n    this.setState({ loading: true });\n    const organization = this.props.organization && this.props.organization.key;\n    Promise.all([getRulesApp({ organization }), searchQualityProfiles({ organization })]).then(\n      ([{ canWrite, repositories }, { profiles }]) => {\n        this.setState({\n          canWrite,\n          referencedProfiles: keyBy(profiles, 'key'),\n          referencedRepositories: keyBy(repositories, 'key')\n        });\n        this.fetchFirstRules();\n      },\n      this.stopLoading\n    );\n  };\n\n  makeFetchRequest = (query?: RawQuery) =>\n    searchRules({ ...this.getSearchParameters(), ...query }).then(\n      ({ actives: rawActives, facets: rawFacets, p, ps, rules, total }) => {\n        const actives = rawActives && parseActives(rawActives);\n        const facets = rawFacets && parseFacets(rawFacets);\n        const paging = { pageIndex: p, pageSize: ps, total };\n        return { actives, facets, paging, rules };\n      }\n    );\n\n  fetchFirstRules = (query?: RawQuery) => {\n    this.setState({ loading: true });\n    this.makeFetchRequest(query).then(({ actives, facets, paging, rules }) => {\n      if (this.mounted) {\n        const openRule = this.getOpenRule(this.props, rules);\n        const selected = rules.length > 0 ? (openRule && openRule.key) || rules[0].key : undefined;\n        this.setState({ actives, facets, loading: false, openRule, paging, rules, selected });\n      }\n    }, this.stopLoading);\n  };\n\n  fetchMoreRules = () => {\n    const { paging } = this.state;\n    if (paging) {\n      this.setState({ loading: true });\n      const nextPage = paging.pageIndex + 1;\n      this.makeFetchRequest({ p: nextPage, facets: undefined }).then(\n        ({ actives, paging, rules }) => {\n          if (this.mounted) {\n            this.setState((state: State) => ({\n              actives: { ...state.actives, ...actives },\n              loading: false,\n              paging,\n              rules: [...state.rules, ...rules]\n            }));\n          }\n        },\n        this.stopLoading\n      );\n    }\n  };\n\n  fetchFacet = (facet: FacetKey) => {\n    this.setState({ loading: true });\n    this.makeFetchRequest({ ps: 1, facets: getServerFacet(facet) }).then(({ facets }) => {\n      if (this.mounted) {\n        this.setState(state => ({ facets: { ...state.facets, ...facets }, loading: false }));\n      }\n    }, this.stopLoading);\n  };\n\n  getSelectedIndex = ({ selected, rules } = this.state) => {\n    const index = rules.findIndex(rule => rule.key === selected);\n    return index !== -1 ? index : undefined;\n  };\n\n  selectNextRule = () => {\n    const { rules, loading, paging } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (selectedIndex !== undefined) {\n      if (\n        selectedIndex > rules.length - LIMIT_BEFORE_LOAD_MORE &&\n        !loading &&\n        paging &&\n        rules.length < paging.total\n      ) {\n        this.fetchMoreRules();\n      }\n      if (rules && selectedIndex < rules.length - 1) {\n        if (this.state.openRule) {\n          this.openRule(rules[selectedIndex + 1].key);\n        } else {\n          this.setState({ selected: rules[selectedIndex + 1].key });\n        }\n      }\n    }\n  };\n\n  selectPreviousRule = () => {\n    const { rules } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    if (rules && selectedIndex !== undefined && selectedIndex > 0) {\n      if (this.state.openRule) {\n        this.openRule(rules[selectedIndex - 1].key);\n      } else {\n        this.setState({ selected: rules[selectedIndex - 1].key });\n      }\n    }\n  };\n\n  getRulePath = (rule: string) => ({\n    pathname: this.props.location.pathname,\n    query: { ...serializeQuery(this.state.query), open: rule }\n  });\n\n  openRule = (rule: string) => {\n    const path = this.getRulePath(rule);\n    if (this.state.openRule) {\n      this.context.router.replace(path);\n    } else {\n      this.context.router.push(path);\n    }\n  };\n\n  openSelectedRule = () => {\n    const { selected } = this.state;\n    if (selected) {\n      this.openRule(selected);\n    }\n  };\n\n  closeRule = () => {\n    this.context.router.push({\n      pathname: this.props.location.pathname,\n      query: {\n        ...serializeQuery(this.state.query),\n        open: undefined\n      }\n    });\n    this.scrollToSelectedRule(false);\n  };\n\n  scrollToSelectedRule = (smooth = true) => {\n    const { selected } = this.state;\n    if (selected) {\n      const element = document.querySelector(`[data-rule=\"${selected}\"]`);\n      if (element) {\n        scrollToElement(element, { topOffset: 150, bottomOffset: 100, smooth });\n      }\n    }\n  };\n\n  getRuleActivation = (rule: string) => {\n    const { actives, query } = this.state;\n    if (actives && actives[rule] && query.profile) {\n      return actives[rule][query.profile];\n    } else {\n      return undefined;\n    }\n  };\n\n  getSelectedProfile = () => {\n    const { query, referencedProfiles } = this.state;\n    if (query.profile) {\n      return referencedProfiles[query.profile];\n    } else {\n      return undefined;\n    }\n  };\n\n  closeFacet = (facet: string) =>\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [facet]: false }\n    }));\n\n  handleBack = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.closeRule();\n  };\n\n  handleFilterChange = (changes: Partial<Query>) =>\n    this.context.router.push({\n      pathname: this.props.location.pathname,\n      query: serializeQuery({ ...this.state.query, ...changes })\n    });\n\n  handleFacetToggle = (facet: keyof Query) => {\n    this.setState(state => ({\n      openFacets: { ...state.openFacets, [facet]: !state.openFacets[facet] }\n    }));\n    if (shouldRequestFacet(facet) && (!this.state.facets || !this.state.facets[facet])) {\n      this.fetchFacet(facet);\n    }\n  };\n\n  handleReload = () => this.fetchFirstRules();\n\n  handleReset = () => this.context.router.push({ pathname: this.props.location.pathname });\n\n  /** Tries to take rule by index, or takes the last one  */\n  pickRuleAround = (rules: Rule[], selectedIndex: number | undefined) => {\n    if (selectedIndex === undefined || rules.length === 0) {\n      return undefined;\n    }\n    if (selectedIndex >= 0 && selectedIndex < rules.length) {\n      return rules[selectedIndex].key;\n    }\n    return rules[rules.length - 1].key;\n  };\n\n  handleRuleDelete = (ruleKey: string) => {\n    if (this.state.query.ruleKey === ruleKey) {\n      this.handleReset();\n    } else {\n      this.setState(state => {\n        const rules = state.rules.filter(rule => rule.key !== ruleKey);\n        const selectedIndex = this.getSelectedIndex(state);\n        const selected = this.pickRuleAround(rules, selectedIndex);\n        return { rules, selected };\n      });\n      this.closeRule();\n    }\n  };\n\n  handleRuleActivate = (profile: string, rule: string, activation: Activation) =>\n    this.setState((state: State) => {\n      const { actives = {} } = state;\n      if (!actives[rule]) {\n        return { actives: { ...actives, [rule]: { [profile]: activation } } };\n      }\n\n      return { actives: { ...actives, [rule]: { ...actives[rule], [profile]: activation } } };\n    });\n\n  handleRuleDeactivate = (profile: string, rule: string) =>\n    this.setState((state: State) => {\n      const { actives } = state;\n      if (actives && actives[rule]) {\n        return { actives: { ...actives, [rule]: { ...actives[rule], [profile]: undefined } } };\n      }\n      return {};\n    });\n\n  handleSearch = (searchQuery: string) => this.handleFilterChange({ searchQuery });\n\n  isFiltered = () => Object.keys(serializeQuery(this.state.query)).length > 0;\n\n  render() {\n    const { paging, rules } = this.state;\n    const selectedIndex = this.getSelectedIndex();\n    const organization = this.props.organization && this.props.organization.key;\n\n    return (\n      <>\n        <Suggestions suggestions=\"coding_rules\" />\n        <Helmet title={translate('coding_rules.page')}>\n          <meta content=\"noindex\" name=\"robots\" />\n        </Helmet>\n        <div className=\"layout-page\" id=\"coding-rules-page\">\n          <ScreenPositionHelper className=\"layout-page-side-outer\">\n            {({ top }) => (\n              <div className=\"layout-page-side\" style={{ top }}>\n                <div className=\"layout-page-side-inner\">\n                  <div className=\"layout-page-filters\">\n                    <FiltersHeader displayReset={this.isFiltered()} onReset={this.handleReset} />\n                    <SearchBox\n                      className=\"spacer-bottom\"\n                      id=\"coding-rules-search\"\n                      minLength={2}\n                      onChange={this.handleSearch}\n                      placeholder={translate('search.search_for_rules')}\n                      value={this.state.query.searchQuery || ''}\n                    />\n                    <FacetsList\n                      facets={this.state.facets}\n                      onFacetToggle={this.handleFacetToggle}\n                      onFilterChange={this.handleFilterChange}\n                      openFacets={this.state.openFacets}\n                      organization={organization}\n                      organizationsEnabled={this.context.organizationsEnabled}\n                      query={this.state.query}\n                      referencedProfiles={this.state.referencedProfiles}\n                      referencedRepositories={this.state.referencedRepositories}\n                      selectedProfile={this.getSelectedProfile()}\n                    />\n                  </div>\n                </div>\n              </div>\n            )}\n          </ScreenPositionHelper>\n\n          <div className=\"layout-page-main\">\n            <div className=\"layout-page-header-panel layout-page-main-header\">\n              <div className=\"layout-page-header-panel-inner layout-page-main-header-inner\">\n                <div className=\"layout-page-main-inner\">\n                  {this.state.openRule ? (\n                    <a href=\"#\" className=\"js-back\" onClick={this.handleBack}>\n                      {translate('coding_rules.return_to_list')}\n                    </a>\n                  ) : (\n                    this.state.paging && (\n                      <BulkChange\n                        organization={organization}\n                        query={this.state.query}\n                        referencedProfiles={this.state.referencedProfiles}\n                        total={this.state.paging.total}\n                      />\n                    )\n                  )}\n                  <PageActions\n                    loading={this.state.loading}\n                    onReload={this.handleReload}\n                    paging={paging}\n                    selectedIndex={selectedIndex}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"layout-page-main-inner\">\n              {this.state.openRule ? (\n                <RuleDetails\n                  allowCustomRules={!this.context.organizationsEnabled}\n                  canWrite={this.state.canWrite}\n                  onActivate={this.handleRuleActivate}\n                  onDeactivate={this.handleRuleDeactivate}\n                  onDelete={this.handleRuleDelete}\n                  onFilterChange={this.handleFilterChange}\n                  organization={organization}\n                  referencedProfiles={this.state.referencedProfiles}\n                  referencedRepositories={this.state.referencedRepositories}\n                  ruleKey={this.state.openRule.key}\n                  selectedProfile={this.getSelectedProfile()}\n                />\n              ) : (\n                <>\n                  {rules.map(rule => (\n                    <RuleListItem\n                      activation={this.getRuleActivation(rule.key)}\n                      key={rule.key}\n                      onActivate={this.handleRuleActivate}\n                      onDeactivate={this.handleRuleDeactivate}\n                      onFilterChange={this.handleFilterChange}\n                      organization={organization}\n                      path={this.getRulePath(rule.key)}\n                      rule={rule}\n                      selected={rule.key === this.state.selected}\n                      selectedProfile={this.getSelectedProfile()}\n                    />\n                  ))}\n                  {paging !== undefined && (\n                    <ListFooter\n                      count={rules.length}\n                      loadMore={this.fetchMoreRules}\n                      ready={!this.state.loading}\n                      total={paging.total}\n                    />\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nfunction parseActives(rawActives: { [rule: string]: RuleActivation[] }) {\n  const actives: Actives = {};\n  for (const [rule, activations] of Object.entries(rawActives)) {\n    actives[rule] = {};\n    for (const { inherit, qProfile, severity } of activations) {\n      actives[rule][qProfile] = { inherit, severity };\n    }\n  }\n  return actives;\n}\n\nfunction parseFacets(rawFacets: { property: string; values: { count: number; val: string }[] }[]) {\n  const facets: Facets = {};\n  for (const rawFacet of rawFacets) {\n    const values: { [value: string]: number } = {};\n    for (const rawValue of rawFacet.values) {\n      values[rawValue.val] = rawValue.count;\n    }\n    facets[getAppFacet(rawFacet.property)] = values;\n  }\n  return facets;\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { map } from 'lodash';\nimport { csvEscape } from '../helpers/csv';\nimport {\n  request,\n  checkStatus,\n  parseJSON,\n  getJSON,\n  post,\n  postJSON,\n  RequestData\n} from '../helpers/request';\nimport { Paging } from '../app/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\n\nexport interface ProfileActions {\n  associateProjects?: boolean;\n  copy?: boolean;\n  delete?: boolean;\n  edit?: boolean;\n  setAsDefault?: boolean;\n}\n\nexport interface Actions {\n  create?: boolean;\n}\n\nexport interface Profile {\n  actions?: ProfileActions;\n  key: string;\n  name: string;\n  language: string;\n  languageName: string;\n  isInherited?: boolean;\n  parentKey?: string;\n  parentName?: string;\n  isDefault?: boolean;\n  activeRuleCount: number;\n  activeDeprecatedRuleCount: number;\n  rulesUpdatedAt?: string;\n  lastUsed?: string;\n  userUpdatedAt?: string;\n  organization: string;\n  isBuiltIn?: boolean;\n  projectCount?: number;\n}\n\nexport interface SearchQualityProfilesParameters {\n  defaults?: boolean;\n  language?: string;\n  organization?: string;\n  project?: string;\n  qualityProfile?: string;\n}\n\nexport interface SearchQualityProfilesResponse {\n  actions?: Actions;\n  profiles: Profile[];\n}\n\nexport function searchQualityProfiles(\n  parameters: SearchQualityProfilesParameters\n): Promise<SearchQualityProfilesResponse> {\n  return getJSON('/api/qualityprofiles/search', parameters).catch(throwGlobalError);\n}\n\nexport function getQualityProfile(data: {\n  compareToSonarWay?: boolean;\n  profile: string;\n}): Promise<any> {\n  return getJSON('/api/qualityprofiles/show', data);\n}\n\nexport function createQualityProfile(data: RequestData): Promise<any> {\n  return request('/api/qualityprofiles/create')\n    .setMethod('post')\n    .setData(data)\n    .submit()\n    .then(checkStatus)\n    .then(parseJSON);\n}\n\nexport function restoreQualityProfile(data: RequestData): Promise<any> {\n  return request('/api/qualityprofiles/restore')\n    .setMethod('post')\n    .setData(data)\n    .submit()\n    .then(checkStatus)\n    .then(parseJSON);\n}\n\nexport interface ProfileProject {\n  id: number;\n  key: string;\n  name: string;\n  selected: boolean;\n}\n\nexport function getProfileProjects(\n  data: RequestData\n): Promise<{ more: boolean; results: ProfileProject[] }> {\n  return getJSON('/api/qualityprofiles/projects', data).catch(throwGlobalError);\n}\n\nexport function getProfileInheritance(profileKey: string): Promise<any> {\n  return getJSON('/api/qualityprofiles/inheritance', { profileKey }).catch(throwGlobalError);\n}\n\nexport function setDefaultProfile(profileKey: string): Promise<void> {\n  return post('/api/qualityprofiles/set_default', { profileKey });\n}\n\nexport function renameProfile(key: string, name: string): Promise<void> {\n  return post('/api/qualityprofiles/rename', { key, name });\n}\n\nexport function copyProfile(fromKey: string, toName: string): Promise<any> {\n  return postJSON('/api/qualityprofiles/copy', { fromKey, toName });\n}\n\nexport function deleteProfile(profileKey: string): Promise<void> {\n  return post('/api/qualityprofiles/delete', { profileKey });\n}\n\nexport function changeProfileParent(profileKey: string, parentKey: string): Promise<void> {\n  return post('/api/qualityprofiles/change_parent', { profileKey, parentKey });\n}\n\nexport function getImporters(): Promise<\n  Array<{ key: string; languages: Array<string>; name: string }>\n> {\n  return getJSON('/api/qualityprofiles/importers').then(r => r.importers, throwGlobalError);\n}\n\nexport function getExporters(): Promise<any> {\n  return getJSON('/api/qualityprofiles/exporters').then(r => r.exporters);\n}\n\nexport function getProfileChangelog(data: RequestData): Promise<any> {\n  return getJSON('/api/qualityprofiles/changelog', data);\n}\n\nexport function compareProfiles(leftKey: string, rightKey: string): Promise<any> {\n  return getJSON('/api/qualityprofiles/compare', { leftKey, rightKey });\n}\n\nexport function associateProject(profileKey: string, projectKey: string) {\n  return post('/api/qualityprofiles/add_project', { profileKey, projectKey }).catch(\n    throwGlobalError\n  );\n}\n\nexport function dissociateProject(profileKey: string, projectKey: string) {\n  return post('/api/qualityprofiles/remove_project', { profileKey, projectKey }).catch(\n    throwGlobalError\n  );\n}\n\nexport interface SearchUsersGroupsParameters {\n  language: string;\n  organization?: string;\n  qualityProfile: string;\n  q?: string;\n  selected?: 'all' | 'selected' | 'deselected';\n}\n\nexport interface SearchUsersResponse {\n  users: Array<{\n    avatar?: string;\n    login: string;\n    name: string;\n    selected?: boolean;\n  }>;\n  paging: Paging;\n}\n\nexport function searchUsers(parameters: SearchUsersGroupsParameters): Promise<SearchUsersResponse> {\n  return getJSON('/api/qualityprofiles/search_users', parameters).catch(throwGlobalError);\n}\n\nexport interface SearchGroupsResponse {\n  groups: Array<{ name: string }>;\n  paging: Paging;\n}\n\nexport function searchGroups(\n  parameters: SearchUsersGroupsParameters\n): Promise<SearchGroupsResponse> {\n  return getJSON('/api/qualityprofiles/search_groups', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveUserParameters {\n  language: string;\n  login: string;\n  organization?: string;\n  qualityProfile: string;\n}\n\nexport function addUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_user', parameters).catch(throwGlobalError);\n}\n\nexport function removeUser(parameters: AddRemoveUserParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_user', parameters).catch(throwGlobalError);\n}\n\nexport interface AddRemoveGroupParameters {\n  group: string;\n  language: string;\n  organization?: string;\n  qualityProfile: string;\n}\n\nexport function addGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/add_group', parameters).catch(throwGlobalError);\n}\n\nexport function removeGroup(parameters: AddRemoveGroupParameters): Promise<void | Response> {\n  return post('/api/qualityprofiles/remove_group', parameters).catch(throwGlobalError);\n}\n\nexport interface BulkActivateParameters {\n  /* eslint-disable camelcase */\n  activation?: boolean;\n  active_severities?: string;\n  asc?: boolean;\n  available_since?: string;\n  compareToProfile?: string;\n  inheritance?: string;\n  is_template?: string;\n  languages?: string;\n  organization: string | undefined;\n  q?: string;\n  qprofile?: string;\n  repositories?: string;\n  rule_key?: string;\n  s?: string;\n  severities?: string;\n  statuses?: string;\n  tags?: string;\n  targetKey: string;\n  targetSeverity?: string;\n  template_key?: string;\n  types?: string;\n  /* eslint-enable camelcase */\n}\n\nexport function bulkActivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/activate_rules', data);\n}\n\nexport function bulkDeactivateRules(data: BulkActivateParameters) {\n  return postJSON('/api/qualityprofiles/deactivate_rules', data);\n}\n\nexport function activateRule(data: {\n  key: string;\n  organization: string | undefined;\n  params?: { [key: string]: string };\n  reset?: boolean;\n  rule: string;\n  severity?: string;\n}) {\n  const params =\n    data.params && map(data.params, (value, key) => `${key}=${csvEscape(value)}`).join(';');\n  return post('/api/qualityprofiles/activate_rule', { ...data, params }).catch(throwGlobalError);\n}\n\nexport function deactivateRule(data: {\n  key: string;\n  organization: string | undefined;\n  rule: string;\n}) {\n  return post('/api/qualityprofiles/deactivate_rule', data).catch(throwGlobalError);\n}\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\n\nexport interface ChildrenProps {\n  onClick: () => void;\n  onFormSubmit: (event: React.FormEvent<HTMLFormElement>) => void;\n}\n\nexport interface ModalProps {\n  onClose: () => void;\n}\n\nexport interface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  modal: (props: ModalProps) => React.ReactNode;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ModalButton extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { modal: false };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleButtonClick = () => {\n    this.setState({ modal: true });\n  };\n\n  handleFormSubmit = (event?: React.FormEvent<HTMLFormElement>) => {\n    if (event) {\n      event.preventDefault();\n    }\n    this.setState({ modal: true });\n  };\n\n  handleCloseModal = () => {\n    if (this.mounted) {\n      this.setState({ modal: false });\n    }\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.children({\n          onClick: this.handleButtonClick,\n          onFormSubmit: this.handleFormSubmit\n        })}\n        {this.state.modal && this.props.modal({ onClose: this.handleCloseModal })}\n      </>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport SimpleModal, { ChildrenProps } from './SimpleModal';\nimport DeferredSpinner from '../common/DeferredSpinner';\nimport { translate } from '../../helpers/l10n';\nimport { SubmitButton, ResetButtonLink } from '../ui/buttons';\n\ninterface Props<T> {\n  children: React.ReactNode;\n  confirmButtonText: string;\n  confirmData?: T;\n  confirmDisable?: boolean;\n  header: string;\n  isDestructive?: boolean;\n  onClose: () => void;\n  onConfirm: (data?: T) => void | Promise<void>;\n}\n\nexport default class ConfirmModal<T = string> extends React.PureComponent<Props<T>> {\n  mounted = false;\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  handleSubmit = () => {\n    const result = this.props.onConfirm(this.props.confirmData);\n    if (result) {\n      return result.then(this.props.onClose, () => {});\n    } else {\n      this.props.onClose();\n      return undefined;\n    }\n  };\n\n  renderModalContent = ({ onCloseClick, onFormSubmit, submitting }: ChildrenProps) => {\n    const { children, confirmButtonText, confirmDisable, header, isDestructive } = this.props;\n    return (\n      <form onSubmit={onFormSubmit}>\n        <header className=\"modal-head\">\n          <h2>{header}</h2>\n        </header>\n        <div className=\"modal-body\">{children}</div>\n        <footer className=\"modal-foot\">\n          <DeferredSpinner className=\"spacer-right\" loading={submitting} />\n          <SubmitButton\n            autoFocus={true}\n            className={isDestructive ? 'button-red' : undefined}\n            disabled={submitting || confirmDisable}>\n            {confirmButtonText}\n          </SubmitButton>\n          <ResetButtonLink disabled={submitting} onClick={onCloseClick}>\n            {translate('cancel')}\n          </ResetButtonLink>\n        </footer>\n      </form>\n    );\n  };\n\n  render() {\n    const { header } = this.props;\n    return (\n      <SimpleModal header={header} onClose={this.props.onClose} onSubmit={this.handleSubmit}>\n        {this.renderModalContent}\n      </SimpleModal>\n    );\n  }\n}\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronRightIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M11.596 8.28l-4.604 4.602a.382.382 0 0 1-.279.118.382.382 0 0 1-.279-.118l-1.03-1.03a.382.382 0 0 1-.117-.278c0-.108.04-.201.117-.28L8.7 8 5.404 4.706a.382.382 0 0 1-.117-.28c0-.108.04-.2.117-.279l1.03-1.03A.382.382 0 0 1 6.714 3c.107 0 .2.04.278.118l4.604 4.603a.382.382 0 0 1 .117.279c0 .108-.04.201-.117.28z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nexport function csvEscape(value: string): string {\n  const escaped = value.replace(/\"/g, '\\\\\"');\n  return `\"${escaped}\"`;\n}\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport ModalButton, { ChildrenProps, ModalProps } from './ModalButton';\nimport ConfirmModal from './ConfirmModal';\n\nexport { ChildrenProps } from './ModalButton';\n\ninterface Props {\n  children: (props: ChildrenProps) => React.ReactNode;\n  confirmButtonText: string;\n  confirmData?: string;\n  confirmDisable?: boolean;\n  isDestructive?: boolean;\n  modalBody: React.ReactNode;\n  modalHeader: string;\n  onConfirm: (data?: string) => void | Promise<void>;\n}\n\ninterface State {\n  modal: boolean;\n}\n\nexport default class ConfirmButton extends React.PureComponent<Props, State> {\n  renderConfirmModal = ({ onClose }: ModalProps) => {\n    return (\n      <ConfirmModal\n        confirmButtonText={this.props.confirmButtonText}\n        confirmData={this.props.confirmData}\n        confirmDisable={this.props.confirmDisable}\n        header={this.props.modalHeader}\n        isDestructive={this.props.isDestructive}\n        onClose={onClose}\n        onConfirm={this.props.onConfirm}>\n        {this.props.modalBody}\n      </ConfirmModal>\n    );\n  };\n\n  render() {\n    return <ModalButton modal={this.renderConfirmModal}>{this.props.children}</ModalButton>;\n  }\n}\n","var parse = require('../parse/index.js')\n\n/**\n * @category Month Helpers\n * @summary Get the number of days in a month of the given date.\n *\n * @description\n * Get the number of days in a month of the given date.\n *\n * @param {Date|String|Number} date - the given date\n * @returns {Number} the number of days in a month\n *\n * @example\n * // How many days are in February 2000?\n * var result = getDaysInMonth(new Date(2000, 1))\n * //=> 29\n */\nfunction getDaysInMonth (dirtyDate) {\n  var date = parse(dirtyDate)\n  var year = date.getFullYear()\n  var monthIndex = date.getMonth()\n  var lastDayOfMonth = new Date(0)\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0)\n  lastDayOfMonth.setHours(0, 0, 0, 0)\n  return lastDayOfMonth.getDate()\n}\n\nmodule.exports = getDaysInMonth\n","var parse = require('../parse/index.js')\nvar getDaysInMonth = require('../get_days_in_month/index.js')\n\n/**\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @param {Date|String|Number} date - the date to be changed\n * @param {Number} amount - the amount of months to be added\n * @returns {Date} the new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * var result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n */\nfunction addMonths (dirtyDate, dirtyAmount) {\n  var date = parse(dirtyDate)\n  var amount = Number(dirtyAmount)\n  var desiredMonth = date.getMonth() + amount\n  var dateWithDesiredMonth = new Date(0)\n  dateWithDesiredMonth.setFullYear(date.getFullYear(), desiredMonth, 1)\n  dateWithDesiredMonth.setHours(0, 0, 0, 0)\n  var daysInMonth = getDaysInMonth(dateWithDesiredMonth)\n  // Set the last day of the new month\n  // if the original date was the last day of the longer month\n  date.setMonth(desiredMonth, Math.min(daysInMonth, date.getDate()))\n  return date\n}\n\nmodule.exports = addMonths\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".date-input-control{position:relative;display:inline-block;cursor:pointer}.date-input-control-input{width:130px;padding-left:24px!important;cursor:pointer}.date-input-control-input.is-filled{padding-right:16px!important}.date-input-control-icon{position:absolute;top:4px;left:4px}.date-input-control-icon path{fill:#cdcdcd;transition:fill .3s ease}.date-input-control-input:focus+.date-input-control-icon path{fill:#4b9fd5}.date-input-control-reset{position:absolute;top:4px;right:4px;border:none}.date-input-calendar{position:absolute;z-index:7500;top:100%;left:0;border:1px solid #e6e6e6;background-color:#fff;box-shadow:0 6px 12px rgba(0,0,0,.175)}.date-input-calendar-nav{display:flex;justify-content:space-between;align-items:center;padding-top:8px;padding-left:8px;padding-right:8px}.date-input-calender-month-select{width:70px}.button.boolean-toggle{display:inline-block;vertical-align:middle;width:48px;height:24px;padding:1px;border:1px solid #cdcdcd;border-radius:24px;box-sizing:border-box;background-color:#fff;cursor:pointer;transition:all .3s ease}.button.boolean-toggle:hover{background-color:#fff}.button.boolean-toggle:focus{border-color:#4b9fd5;background-color:#f6f6f6}.boolean-toggle-handle{width:20px;height:20px;border:1px solid #cdcdcd;border-radius:22px;box-sizing:border-box;background-color:#f6f6f6;transition:transform .3s cubic-bezier(.87,-.41,.19,1.44),border .3s ease}.button.boolean-toggle-on{border-color:#236a97;background-color:#236a97}.button.boolean-toggle-on:focus,.button.boolean-toggle-on:hover{background-color:#236a97}.button.boolean-toggle-on .boolean-toggle-handle{border-color:#f6f6f6;transform:translateX(24px)}\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function CalendarIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M2 14h2.25v-2.25H2V14zm2.75 0h2.5v-2.25h-2.5V14zM2 11.25h2.25v-2.5H2v2.5zm2.75 0h2.5v-2.5h-2.5v2.5zM2 8.25h2.25V6H2v2.25zM7.75 14h2.5v-2.25h-2.5V14zm-3-5.75h2.5V6h-2.5v2.25zm6 5.75H13v-2.25h-2.25V14zm-3-2.75h2.5v-2.5h-2.5v2.5zM5 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 4.75 2h-.5a.24.24 0 0 0-.176.074A.24.24 0 0 0 4 2.25V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 5 4.5zm5.75 6.75H13v-2.5h-2.25v2.5zm-3-3h2.5V6h-2.5v2.25zm3 0H13V6h-2.25v2.25zM11 4.5V2.25a.24.24 0 0 0-.074-.176A.24.24 0 0 0 10.75 2h-.5a.24.24 0 0 0-.176.074.24.24 0 0 0-.074.176V4.5a.24.24 0 0 0 .074.176.24.24 0 0 0 .176.074h.5a.24.24 0 0 0 .176-.074A.24.24 0 0 0 11 4.5zm3-.5v10c0 .27-.099.505-.297.703A.961.961 0 0 1 13 15H2a.961.961 0 0 1-.703-.297A.961.961 0 0 1 1 14V4c0-.27.099-.505.297-.703A.961.961 0 0 1 2 3h1v-.75c0-.344.122-.638.367-.883S3.907 1 4.25 1h.5c.344 0 .638.122.883.367S6 1.907 6 2.25V3h3v-.75c0-.344.122-.638.367-.883S9.907 1 10.25 1h.5c.344 0 .638.122.883.367s.367.54.367.883V3h1c.27 0 .505.099.703.297A.961.961 0 0 1 14 4z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\n\nexport default function ChevronLeftIcon({ className, fill = 'currentColor', size }: IconProps) {\n  return (\n    <Icon className={className} size={size}>\n      <path\n        d=\"M4.404 8.28l4.604 4.602a.382.382 0 0 0 .279.118c.108 0 .2-.04.279-.118l1.03-1.03a.382.382 0 0 0 .117-.278.382.382 0 0 0-.117-.28L7.3 8l3.295-3.294a.382.382 0 0 0 .117-.28.382.382 0 0 0-.117-.279l-1.03-1.03A.382.382 0 0 0 9.286 3a.382.382 0 0 0-.278.118L4.404 7.72A.382.382 0 0 0 4.287 8c0 .108.04.201.117.28z\"\n        style={{ fill }}\n      />\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport * as classNames from 'classnames';\nimport { DayModifiers, Modifier, Modifiers } from 'react-day-picker';\nimport { intlShape, InjectedIntlProps } from 'react-intl';\nimport { range } from 'lodash';\nimport * as addMonths from 'date-fns/add_months';\nimport * as setMonth from 'date-fns/set_month';\nimport * as setYear from 'date-fns/set_year';\nimport * as subMonths from 'date-fns/sub_months';\nimport OutsideClickHandler from './OutsideClickHandler';\nimport Select from './Select';\nimport { lazyLoad } from '../lazyLoad';\nimport * as theme from '../../app/theme';\nimport CalendarIcon from '../icons-components/CalendarIcon';\nimport ChevronLeftIcon from '../icons-components/ChevronLeftIcon';\nimport ChevronRightIcon from '../icons-components/ChevronRightcon';\nimport ClearIcon from '../icons-components/ClearIcon';\nimport { ButtonIcon } from '../ui/buttons';\nimport { getShortMonthName, getWeekDayName, getShortWeekDayName } from '../../helpers/l10n';\nimport './DayPicker.css';\nimport './styles.css';\n\nconst DayPicker = lazyLoad(() => import('react-day-picker'));\n\nexport interface Props {\n  className?: string;\n  currentMonth?: Date;\n  highlightFrom?: Date;\n  highlightTo?: Date;\n  inputClassName?: string;\n  maxDate?: Date;\n  minDate?: Date;\n  name?: string;\n  onChange: (date: Date | undefined) => void;\n  placeholder: string;\n  value?: Date;\n}\n\ninterface State {\n  currentMonth: Date;\n  open: boolean;\n  lastHovered?: Date;\n}\n\ntype Week = [string, string, string, string, string, string, string];\n\nexport default class DateInput extends React.PureComponent<Props, State> {\n  context!: InjectedIntlProps;\n  input?: HTMLInputElement | null;\n\n  static contextTypes = {\n    intl: intlShape\n  };\n\n  constructor(props: Props) {\n    super(props);\n    this.state = { currentMonth: props.value || props.currentMonth || new Date(), open: false };\n  }\n\n  focus = () => {\n    if (this.input) {\n      this.input.focus();\n    }\n    this.openCalendar();\n  };\n\n  handleResetClick = () => {\n    this.closeCalendar();\n    this.props.onChange(undefined);\n  };\n\n  openCalendar = () => {\n    this.setState({\n      currentMonth: this.props.value || this.props.currentMonth || new Date(),\n      lastHovered: undefined,\n      open: true\n    });\n  };\n\n  closeCalendar = () => {\n    this.setState({ open: false });\n  };\n\n  handleDayClick = (day: Date, modifiers: DayModifiers) => {\n    if (!modifiers.disabled) {\n      this.closeCalendar();\n      this.props.onChange(day);\n    }\n  };\n\n  handleDayMouseEnter = (day: Date, modifiers: DayModifiers) => {\n    this.setState({ lastHovered: modifiers.disabled ? undefined : day });\n  };\n\n  handleCurrentMonthChange = ({ value }: { value: number }) => {\n    this.setState((state: State) => ({ currentMonth: setMonth(state.currentMonth, value) }));\n  };\n\n  handleCurrentYearChange = ({ value }: { value: number }) => {\n    this.setState(state => ({ currentMonth: setYear(state.currentMonth, value) }));\n  };\n\n  handlePreviousMonthClick = () => {\n    this.setState(state => ({ currentMonth: subMonths(state.currentMonth, 1) }));\n  };\n\n  handleNextMonthClick = () => {\n    this.setState(state => ({ currentMonth: addMonths(state.currentMonth, 1) }));\n  };\n\n  render() {\n    const { highlightFrom, highlightTo, minDate, value } = this.props;\n    const { formatDate } = this.context.intl;\n    const { lastHovered } = this.state;\n    const formattedValue =\n      value && formatDate(value, { year: 'numeric', month: 'short', day: 'numeric' });\n\n    const after = this.props.maxDate || new Date();\n\n    const months = range(12);\n    const years = range(new Date().getFullYear() - 10, new Date().getFullYear() + 1);\n\n    const selectedDays: Modifier[] = value ? [value] : [];\n    let modifiers: Partial<Modifiers> | undefined;\n    const lastHoveredOrValue = lastHovered || value;\n\n    if (highlightFrom && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: highlightFrom, to: lastHoveredOrValue } };\n      selectedDays.push(highlightFrom);\n    }\n    if (highlightTo && lastHoveredOrValue) {\n      modifiers = { highlighted: { from: lastHoveredOrValue, to: highlightTo } };\n      selectedDays.push(highlightTo);\n    }\n\n    const weekdaysLong = range(7).map(getWeekDayName) as Week;\n    const weekdaysShort = range(7).map(getShortWeekDayName) as Week;\n\n    return (\n      <OutsideClickHandler onClickOutside={this.closeCalendar}>\n        <span className={classNames('date-input-control', this.props.className)}>\n          <input\n            className={classNames('date-input-control-input', this.props.inputClassName, {\n              'is-filled': this.props.value !== undefined\n            })}\n            name={this.props.name}\n            onFocus={this.openCalendar}\n            placeholder={this.props.placeholder}\n            readOnly={true}\n            ref={node => (this.input = node)}\n            type=\"text\"\n            value={formattedValue || ''}\n          />\n          <CalendarIcon className=\"date-input-control-icon\" fill=\"\" />\n          {this.props.value !== undefined && (\n            <ButtonIcon\n              className=\"button-tiny date-input-control-reset\"\n              color={theme.gray60}\n              onClick={this.handleResetClick}>\n              <ClearIcon size={12} />\n            </ButtonIcon>\n          )}\n          {this.state.open && (\n            <div className=\"date-input-calendar\">\n              <nav className=\"date-input-calendar-nav\">\n                <ButtonIcon className=\"button-small\" onClick={this.handlePreviousMonthClick}>\n                  <ChevronLeftIcon />\n                </ButtonIcon>\n                <div className=\"date-input-calender-month\">\n                  <Select\n                    className=\"date-input-calender-month-select\"\n                    onChange={this.handleCurrentMonthChange}\n                    options={months.map(month => ({\n                      label: getShortMonthName(month),\n                      value: month\n                    }))}\n                    value={this.state.currentMonth.getMonth()}\n                  />\n                  <Select\n                    className=\"date-input-calender-month-select spacer-left\"\n                    onChange={this.handleCurrentYearChange}\n                    options={years.map(year => ({ label: String(year), value: year }))}\n                    value={this.state.currentMonth.getFullYear()}\n                  />\n                </div>\n                <ButtonIcon className=\"button-small\" onClick={this.handleNextMonthClick}>\n                  <ChevronRightIcon />\n                </ButtonIcon>\n              </nav>\n              <DayPicker\n                captionElement={<NullComponent />}\n                disabledDays={{ after, before: minDate }}\n                firstDayOfWeek={1}\n                modifiers={modifiers}\n                month={this.state.currentMonth}\n                navbarElement={<NullComponent />}\n                onDayClick={this.handleDayClick}\n                onDayMouseEnter={this.handleDayMouseEnter}\n                selectedDays={selectedDays}\n                weekdaysLong={weekdaysLong}\n                weekdaysShort={weekdaysShort}\n              />\n            </div>\n          )}\n        </span>\n      </OutsideClickHandler>\n    );\n  }\n}\n\nfunction NullComponent() {\n  return null;\n}\n"],"sourceRoot":""}