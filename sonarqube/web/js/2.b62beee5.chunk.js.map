{"version":3,"sources":["webpack:///./src/main/js/components/icons-components/GroupIcon.tsx","webpack:///./src/main/js/apps/permissions/shared/components/UserHolder.tsx","webpack:///./src/main/js/apps/permissions/shared/components/GroupHolder.tsx","webpack:///./src/main/js/apps/permissions/shared/components/PermissionHeader.tsx","webpack:///./src/main/js/apps/permissions/shared/components/HoldersList.tsx","webpack:///./src/main/js/apps/permissions/styles.css?6510","webpack:///./src/main/js/apps/permissions/shared/components/SearchForm.tsx","webpack:///./src/main/js/apps/permissions/styles.css","webpack:///./src/main/js/api/permissions.ts"],"names":["GroupIcon","_a","className","_b","fill","_app_theme__WEBPACK_IMPORTED_MODULE_2__","_c","size","react__WEBPACK_IMPORTED_MODULE_0__","_Icon__WEBPACK_IMPORTED_MODULE_1__","viewBox","transform","d","style","_super","UserHolder","_this","apply","this","arguments","mounted","state","loading","stopLoading","permission","setState","without_default","handleCheck","_checked","undefined","concat","props","onToggle","user","then","__extends","prototype","componentDidMount","componentWillUnmount","render","selectedPermission","permissionCells","permissionsOrder","map","index_js_exposed","key","backgroundColor","Checkbox","checked","permissions","includes","disabled","id","onCheck","login","name","whiteSpace","Object","l10n","Avatar","hash","avatar","email","GroupHolder","group","GroupHolder_extends","description","PermissionHeader","handlePermissionClick","event","preventDefault","currentTarget","blur","onSelectPermission","renderTooltip","showPublicProjectsWarning","InstanceMessage","message","PermissionHeader_extends","Tooltip","overlay","href","onClick","HelpTooltip","HoldersList_HoldersList","HoldersList","HoldersList_extends","renderTableHeader","cells","p","components_PermissionHeader","children","renderEmpty","columns","length","colSpan","users","components_UserHolder","onToggleUser","groups","components_GroupHolder","onToggleGroup","content","__webpack_require__","module","i","options","hmr","insertInto","locals","exports","SearchForm","filterOptions","value","label","_helpers_l10n__WEBPACK_IMPORTED_MODULE_3__","_components_controls_RadioToggle__WEBPACK_IMPORTED_MODULE_1__","onFilter","filter","_components_controls_SearchBox__WEBPACK_IMPORTED_MODULE_2__","minLength","onChange","onSearch","placeholder","query","push","PAGE_SIZE","grantPermissionToUser","projectKey","organization","data","_helpers_request__WEBPACK_IMPORTED_MODULE_1__","revokePermissionFromUser","grantPermissionToGroup","groupName","revokePermissionFromGroup","getPermissionTemplates","url","createPermissionTemplate","updatePermissionTemplate","deletePermissionTemplate","catch","_app_utils_throwGlobalError__WEBPACK_IMPORTED_MODULE_0__","setDefaultPermissionTemplate","templateId","qualifier","applyTemplateToProject","bulkApplyTemplate","grantTemplatePermissionToUser","revokeTemplatePermissionFromUser","grantTemplatePermissionToGroup","revokeTemplatePermissionFromGroup","addProjectCreatorToTemplate","removeProjectCreatorFromTemplate","getPermissionsUsersForComponent","ps","q","r","getPermissionsGroupsForComponent","getGlobalPermissionsUsers","getGlobalPermissionsGroups","getPermissionTemplateUsers","assign","getPermissionTemplateGroups","changeProjectVisibility","project","visibility"],"mappings":"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","file":"js/2.b62beee5.chunk.js","sourcesContent":["/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport Icon, { IconProps } from './Icon';\nimport * as theme from '../../app/theme';\n\nexport default function GroupIcon({ className, fill = theme.gray67, size = 36 }: IconProps) {\n  return (\n    <Icon className={className} size={size} viewBox=\"0 0 36 36\">\n      <g transform=\"matrix(0.0625,0,0,0.0625,3,4)\">\n        <path\n          d=\"M148.25,224C121.25,224.833 99.167,235.5 82,256L48.5,256C34.833,256 23.333,252.625 14,245.875C4.667,239.125 0,229.25 0,216.25C0,157.417 10.333,128 31,128C32,128 35.625,129.75 41.875,133.25C48.125,136.75 56.25,140.292 66.25,143.875C76.25,147.458 86.167,149.25 96,149.25C107.167,149.25 118.25,147.333 129.25,143.5C128.417,149.667 128,155.167 128,160C128,183.167 134.75,204.5 148.25,224ZM416,383.25C416,403.25 409.917,419.042 397.75,430.625C385.583,442.208 369.417,448 349.25,448L130.75,448C110.583,448 94.417,442.208 82.25,430.625C70.083,419.042 64,403.25 64,383.25C64,374.417 64.292,365.792 64.875,357.375C65.458,348.958 66.625,339.875 68.375,330.125C70.125,320.375 72.333,311.333 75,303C77.667,294.667 81.25,286.542 85.75,278.625C90.25,270.708 95.417,263.958 101.25,258.375C107.083,252.792 114.208,248.333 122.625,245C131.042,241.667 140.333,240 150.5,240C152.167,240 155.75,241.792 161.25,245.375C166.75,248.958 172.833,252.958 179.5,257.375C186.167,261.792 195.083,265.792 206.25,269.375C217.417,272.958 228.667,274.75 240,274.75C251.333,274.75 262.583,272.958 273.75,269.375C284.917,265.792 293.833,261.792 300.5,257.375C307.167,252.958 313.25,248.958 318.75,245.375C324.25,241.792 327.833,240 329.5,240C339.667,240 348.958,241.667 357.375,245C365.792,248.333 372.917,252.792 378.75,258.375C384.583,263.958 389.75,270.708 394.25,278.625C398.75,286.542 402.333,294.667 405,303C407.667,311.333 409.875,320.375 411.625,330.125C413.375,339.875 414.542,348.958 415.125,357.375C415.708,365.792 416,374.417 416,383.25ZM160,64C160,81.667 153.75,96.75 141.25,109.25C128.75,121.75 113.667,128 96,128C78.333,128 63.25,121.75 50.75,109.25C38.25,96.75 32,81.667 32,64C32,46.333 38.25,31.25 50.75,18.75C63.25,6.25 78.333,0 96,0C113.667,0 128.75,6.25 141.25,18.75C153.75,31.25 160,46.333 160,64ZM336,160C336,186.5 326.625,209.125 307.875,227.875C289.125,246.625 266.5,256 240,256C213.5,256 190.875,246.625 172.125,227.875C153.375,209.125 144,186.5 144,160C144,133.5 153.375,110.875 172.125,92.125C190.875,73.375 213.5,64 240,64C266.5,64 289.125,73.375 307.875,92.125C326.625,110.875 336,133.5 336,160ZM480,216.25C480,229.25 475.333,239.125 466,245.875C456.667,252.625 445.167,256 431.5,256L398,256C380.833,235.5 358.75,224.833 331.75,224C345.25,204.5 352,183.167 352,160C352,155.167 351.583,149.667 350.75,143.5C361.75,147.333 372.833,149.25 384,149.25C393.833,149.25 403.75,147.458 413.75,143.875C423.75,140.292 431.875,136.75 438.125,133.25C444.375,129.75 448,128 449,128C469.667,128 480,157.417 480,216.25ZM448,64C448,81.667 441.75,96.75 429.25,109.25C416.75,121.75 401.667,128 384,128C366.333,128 351.25,121.75 338.75,109.25C326.25,96.75 320,81.667 320,64C320,46.333 326.25,31.25 338.75,18.75C351.25,6.25 366.333,0 384,0C401.667,0 416.75,6.25 429.25,18.75C441.75,31.25 448,46.333 448,64Z\"\n          style={{ fill }}\n        />\n      </g>\n    </Icon>\n  );\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { without } from 'lodash';\nimport Avatar from '../../../../components/ui/Avatar';\nimport Checkbox from '../../../../components/controls/Checkbox';\nimport { PermissionUser } from '../../../../api/permissions';\nimport { translate } from '../../../../helpers/l10n';\n\ninterface Props {\n  user: PermissionUser;\n  permissions: string[];\n  selectedPermission?: string;\n  permissionsOrder: string[];\n  onToggle: (user: PermissionUser, permission: string) => Promise<void>;\n}\n\ninterface State {\n  loading: string[];\n}\n\nexport default class UserHolder extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = (permission: string) => {\n    if (this.mounted) {\n      this.setState(state => ({ loading: without(state.loading, permission) }));\n    }\n  };\n\n  handleCheck = (_checked: boolean, permission?: string) => {\n    if (permission !== undefined) {\n      this.setState(state => ({ loading: [...state.loading, permission] }));\n      this.props\n        .onToggle(this.props.user, permission)\n        .then(() => this.stopLoading(permission), () => this.stopLoading(permission));\n    }\n  };\n\n  render() {\n    const { selectedPermission } = this.props;\n    const permissionCells = this.props.permissionsOrder.map(permission => (\n      <td\n        className=\"text-center text-middle\"\n        key={permission}\n        style={{ backgroundColor: permission === selectedPermission ? '#d9edf7' : 'transparent' }}>\n        <Checkbox\n          checked={this.props.permissions.includes(permission)}\n          disabled={this.state.loading.includes(permission)}\n          id={permission}\n          onCheck={this.handleCheck}\n        />\n      </td>\n    ));\n\n    const { user } = this.props;\n    if (user.login === '<creator>') {\n      return (\n        <tr>\n          <td className=\"nowrap\">\n            <div className=\"display-inline-block text-middle\">\n              <div>\n                <strong>{user.name}</strong>\n              </div>\n              <div className=\"little-spacer-top\" style={{ whiteSpace: 'normal' }}>\n                {translate('permission_templates.project_creators.explanation')}\n              </div>\n            </div>\n          </td>\n          {permissionCells}\n        </tr>\n      );\n    }\n\n    return (\n      <tr>\n        <td className=\"nowrap\">\n          <Avatar\n            className=\"text-middle big-spacer-right\"\n            hash={user.avatar}\n            name={user.name}\n            size={36}\n          />\n          <div className=\"display-inline-block text-middle\">\n            <div>\n              <strong>{user.name}</strong>\n              <span className=\"note spacer-left\">{user.login}</span>\n            </div>\n            <div className=\"little-spacer-top\">{user.email}</div>\n          </div>\n        </td>\n        {permissionCells}\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport { without } from 'lodash';\nimport Checkbox from '../../../../components/controls/Checkbox';\nimport GroupIcon from '../../../../components/icons-components/GroupIcon';\nimport { PermissionGroup } from '../../../../api/permissions';\n\ninterface Props {\n  group: PermissionGroup;\n  permissions: string[];\n  selectedPermission?: string;\n  permissionsOrder: string[];\n  onToggle: (group: PermissionGroup, permission: string) => Promise<void>;\n}\n\ninterface State {\n  loading: string[];\n}\n\nexport default class GroupHolder extends React.PureComponent<Props, State> {\n  mounted = false;\n  state: State = { loading: [] };\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  stopLoading = (permission: string) => {\n    if (this.mounted) {\n      this.setState(state => ({ loading: without(state.loading, permission) }));\n    }\n  };\n\n  handleCheck = (_checked: boolean, permission?: string) => {\n    if (permission !== undefined) {\n      this.setState(state => ({ loading: [...state.loading, permission] }));\n      this.props\n        .onToggle(this.props.group, permission)\n        .then(() => this.stopLoading(permission), () => this.stopLoading(permission));\n    }\n  };\n\n  render() {\n    const { selectedPermission } = this.props;\n    const permissionCells = this.props.permissionsOrder.map(permission => (\n      <td\n        className=\"text-center text-middle\"\n        key={permission}\n        style={{ backgroundColor: permission === selectedPermission ? '#d9edf7' : 'transparent' }}>\n        <Checkbox\n          checked={this.props.permissions.includes(permission)}\n          disabled={this.state.loading.includes(permission)}\n          id={permission}\n          onCheck={this.handleCheck}\n        />\n      </td>\n    ));\n\n    const { group } = this.props;\n\n    return (\n      <tr>\n        <td className=\"nowrap\">\n          <div className=\"display-inline-block text-middle big-spacer-right\">\n            <GroupIcon />\n          </div>\n          <div className=\"display-inline-block text-middle\">\n            <div>\n              <strong>{group.name}</strong>\n            </div>\n            <div className=\"little-spacer-top\" style={{ whiteSpace: 'normal' }}>\n              {group.description}\n            </div>\n          </div>\n        </td>\n        {permissionCells}\n      </tr>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport HelpTooltip from '../../../../components/controls/HelpTooltip';\nimport InstanceMessage from '../../../../components/common/InstanceMessage';\nimport Tooltip from '../../../../components/controls/Tooltip';\nimport { translate, translateWithParameters } from '../../../../helpers/l10n';\n\nexport interface Permission {\n  key: string;\n  name: string;\n  description: string;\n}\n\ninterface Props {\n  onSelectPermission: (permission: string) => void;\n  permission: Permission;\n  selectedPermission?: string;\n  showPublicProjectsWarning?: boolean;\n}\n\nexport default class PermissionHeader extends React.PureComponent<Props> {\n  handlePermissionClick = (event: React.SyntheticEvent<HTMLAnchorElement>) => {\n    event.preventDefault();\n    event.currentTarget.blur();\n    this.props.onSelectPermission(this.props.permission.key);\n  };\n\n  renderTooltip = (permission: Permission) => {\n    if (this.props.showPublicProjectsWarning && ['user', 'codeviewer'].includes(permission.key)) {\n      return (\n        <div>\n          <InstanceMessage message={permission.description} />\n          <div className=\"alert alert-warning spacer-top\">\n            {translate('projects_role.public_projects_warning')}\n          </div>\n        </div>\n      );\n    }\n    return <InstanceMessage message={permission.description} />;\n  };\n\n  render() {\n    const { permission, selectedPermission } = this.props;\n    return (\n      <th\n        className=\"permission-column text-center\"\n        style={{\n          backgroundColor: permission.key === selectedPermission ? '#d9edf7' : 'transparent'\n        }}>\n        <div className=\"permission-column-inner\">\n          <Tooltip\n            overlay={translateWithParameters(\n              'global_permissions.filter_by_x_permission',\n              permission.name\n            )}>\n            <a className=\"text-middle\" href=\"#\" onClick={this.handlePermissionClick}>\n              {permission.name}\n            </a>\n          </Tooltip>\n          <HelpTooltip className=\"spacer-left\" overlay={this.renderTooltip(permission)} />\n        </div>\n      </th>\n    );\n  }\n}\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport UserHolder from './UserHolder';\nimport GroupHolder from './GroupHolder';\nimport PermissionHeader, { Permission } from './PermissionHeader';\nimport { PermissionUser, PermissionGroup } from '../../../../api/permissions';\nimport { translate } from '../../../../helpers/l10n';\n\ninterface Props {\n  permissions: Permission[];\n  users: PermissionUser[];\n  groups: PermissionGroup[];\n  selectedPermission?: string;\n  showPublicProjectsWarning?: boolean;\n  onSelectPermission: (permission: string) => void;\n  onToggleUser: (user: PermissionUser, permission: string) => Promise<void>;\n  onToggleGroup: (group: PermissionGroup, permission: string) => Promise<void>;\n}\n\nexport default class HoldersList extends React.PureComponent<Props> {\n  renderTableHeader() {\n    const { onSelectPermission, selectedPermission, showPublicProjectsWarning } = this.props;\n    const cells = this.props.permissions.map(p => (\n      <PermissionHeader\n        key={p.key}\n        onSelectPermission={onSelectPermission}\n        permission={p}\n        selectedPermission={selectedPermission}\n        showPublicProjectsWarning={showPublicProjectsWarning}\n      />\n    ));\n    return (\n      <thead>\n        <tr>\n          <td className=\"nowrap bordered-bottom\">{this.props.children}</td>\n          {cells}\n        </tr>\n      </thead>\n    );\n  }\n\n  renderEmpty() {\n    const columns = this.props.permissions.length + 1;\n    return (\n      <tr>\n        <td colSpan={columns}>{translate('no_results_search')}</td>\n      </tr>\n    );\n  }\n\n  render() {\n    const permissionsOrder = this.props.permissions.map(p => p.key);\n\n    const users = this.props.users.map(user => (\n      <UserHolder\n        key={'user-' + user.login}\n        onToggle={this.props.onToggleUser}\n        permissions={user.permissions}\n        permissionsOrder={permissionsOrder}\n        selectedPermission={this.props.selectedPermission}\n        user={user}\n      />\n    ));\n\n    const groups = this.props.groups.map(group => (\n      <GroupHolder\n        group={group}\n        key={'group-' + group.id}\n        onToggle={this.props.onToggleGroup}\n        permissions={group.permissions}\n        permissionsOrder={permissionsOrder}\n        selectedPermission={this.props.selectedPermission}\n      />\n    ));\n\n    return (\n      <div className=\"boxed-group boxed-group-inner\">\n        <table className=\"data zebra permissions-table\">\n          {this.renderTableHeader()}\n          <tbody>\n            {users.length === 0 && groups.length === 0 && this.renderEmpty()}\n            {users}\n            {groups}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--6-1!../../../../../node_modules/postcss-loader/lib/index.js??postcss!./styles.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport * as React from 'react';\nimport RadioToggle from '../../../../components/controls/RadioToggle';\nimport SearchBox from '../../../../components/controls/SearchBox';\nimport { translate } from '../../../../helpers/l10n';\n\ninterface Props {\n  filter: string;\n  onFilter: (value: string) => void;\n  onSearch: (value: string) => void;\n  query: string;\n}\n\nexport default function SearchForm(props: Props) {\n  const filterOptions = [\n    { value: 'all', label: translate('all') },\n    { value: 'users', label: translate('users.page') },\n    { value: 'groups', label: translate('user_groups.page') }\n  ];\n\n  return (\n    <div className=\"display-flex-row\">\n      <RadioToggle\n        name=\"users-or-groups\"\n        onCheck={props.onFilter}\n        options={filterOptions}\n        value={props.filter}\n      />\n\n      <div className=\"flex-1 spacer-left\">\n        <SearchBox\n          minLength={3}\n          onChange={props.onSearch}\n          placeholder={translate('search.search_for_users_or_groups')}\n          value={props.query}\n        />\n      </div>\n    </div>\n  );\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".permissions-table>tbody>tr>td{border-bottom:10px solid #fff!important}.permissions-table .permission-column{width:1px}.permissions-table .permission-column-inner{width:100px}\", \"\"]);\n\n// exports\n","/*\n * SonarQube\n * Copyright (C) 2009-2018 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\nimport { BaseSearchProjectsParameters } from './components';\nimport { PermissionTemplate } from '../app/types';\nimport throwGlobalError from '../app/utils/throwGlobalError';\nimport { getJSON, post, postJSON, RequestData } from '../helpers/request';\n\nconst PAGE_SIZE = 100;\n\nexport function grantPermissionToUser(\n  projectKey: string | null,\n  login: string,\n  permission: string,\n  organization?: string\n): Promise<void> {\n  const data: RequestData = { login, permission };\n  if (projectKey) {\n    data.projectKey = projectKey;\n  }\n  if (organization && !projectKey) {\n    data.organization = organization;\n  }\n  return post('/api/permissions/add_user', data);\n}\n\nexport function revokePermissionFromUser(\n  projectKey: string | null,\n  login: string,\n  permission: string,\n  organization?: string\n): Promise<void> {\n  const data: RequestData = { login, permission };\n  if (projectKey) {\n    data.projectKey = projectKey;\n  }\n  if (organization && !projectKey) {\n    data.organization = organization;\n  }\n  return post('/api/permissions/remove_user', data);\n}\n\nexport function grantPermissionToGroup(\n  projectKey: string | null,\n  groupName: string,\n  permission: string,\n  organization?: string\n): Promise<void> {\n  const data: RequestData = { groupName, permission };\n  if (projectKey) {\n    data.projectKey = projectKey;\n  }\n  if (organization) {\n    data.organization = organization;\n  }\n  return post('/api/permissions/add_group', data);\n}\n\nexport function revokePermissionFromGroup(\n  projectKey: string | null,\n  groupName: string,\n  permission: string,\n  organization?: string\n): Promise<void> {\n  const data: RequestData = { groupName, permission };\n  if (projectKey) {\n    data.projectKey = projectKey;\n  }\n  if (organization) {\n    data.organization = organization;\n  }\n  return post('/api/permissions/remove_group', data);\n}\n\ninterface GetPermissionTemplatesResponse {\n  permissionTemplates: PermissionTemplate[];\n  defaultTemplates: Array<{ templateId: string; qualifier: string }>;\n  permissions: Array<{ key: string; name: string; description: string }>;\n}\n\nexport function getPermissionTemplates(\n  organization?: string\n): Promise<GetPermissionTemplatesResponse> {\n  const url = '/api/permissions/search_templates';\n  return organization ? getJSON(url, { organization }) : getJSON(url);\n}\n\nexport function createPermissionTemplate(data: RequestData) {\n  return postJSON('/api/permissions/create_template', data);\n}\n\nexport function updatePermissionTemplate(data: RequestData): Promise<void> {\n  return post('/api/permissions/update_template', data);\n}\n\nexport function deletePermissionTemplate(data: RequestData) {\n  return post('/api/permissions/delete_template', data).catch(throwGlobalError);\n}\n\n/**\n * Set default permission template for a given qualifier\n */\nexport function setDefaultPermissionTemplate(templateId: string, qualifier: string): Promise<void> {\n  return post('/api/permissions/set_default_template', { templateId, qualifier });\n}\n\nexport function applyTemplateToProject(data: RequestData) {\n  return post('/api/permissions/apply_template', data).catch(throwGlobalError);\n}\n\nexport function bulkApplyTemplate(data: BaseSearchProjectsParameters): Promise<void> {\n  return post('/api/permissions/bulk_apply_template', data);\n}\n\nexport function grantTemplatePermissionToUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/add_user_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromUser(data: {\n  templateId: string;\n  login: string;\n  permission: string;\n  organization?: string;\n}): Promise<void> {\n  return post('/api/permissions/remove_user_from_template', data);\n}\n\nexport function grantTemplatePermissionToGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/add_group_to_template', data);\n}\n\nexport function revokeTemplatePermissionFromGroup(data: RequestData): Promise<void> {\n  return post('/api/permissions/remove_group_from_template', data);\n}\n\nexport function addProjectCreatorToTemplate(templateId: string, permission: string): Promise<void> {\n  return post('/api/permissions/add_project_creator_to_template', { templateId, permission });\n}\n\nexport function removeProjectCreatorFromTemplate(\n  templateId: string,\n  permission: string\n): Promise<void> {\n  return post('/api/permissions/remove_project_creator_from_template', { templateId, permission });\n}\n\nexport interface PermissionUser {\n  login: string;\n  name: string;\n  email?: string;\n  permissions: string[];\n  avatar?: string;\n}\n\nexport function getPermissionsUsersForComponent(\n  projectKey: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<PermissionUser[]> {\n  const data: RequestData = { projectKey, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    data.organization = organization;\n  }\n  return getJSON('/api/permissions/users', data).then(r => r.users);\n}\n\nexport interface PermissionGroup {\n  id: string;\n  name: string;\n  description?: string;\n  permissions: string[];\n}\n\nexport function getPermissionsGroupsForComponent(\n  projectKey: string,\n  query: string = '',\n  permission?: string,\n  organization?: string\n): Promise<PermissionGroup[]> {\n  const data: RequestData = { projectKey, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    data.organization = organization;\n  }\n  return getJSON('/api/permissions/groups', data).then(r => r.groups);\n}\n\nexport function getGlobalPermissionsUsers(\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<PermissionUser[]> {\n  const data: RequestData = { ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    data.organization = organization;\n  }\n  return getJSON('/api/permissions/users', data).then(r => r.users);\n}\n\nexport function getGlobalPermissionsGroups(\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<PermissionGroup[]> {\n  const data: RequestData = { ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    data.organization = organization;\n  }\n  return getJSON('/api/permissions/groups', data).then(r => r.groups);\n}\n\nexport function getPermissionTemplateUsers(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_users', data).then(r => r.users);\n}\n\nexport function getPermissionTemplateGroups(\n  templateId: string,\n  query?: string,\n  permission?: string,\n  organization?: string\n): Promise<any> {\n  const data: RequestData = { templateId, ps: PAGE_SIZE };\n  if (query) {\n    data.q = query;\n  }\n  if (permission) {\n    data.permission = permission;\n  }\n  if (organization) {\n    Object.assign(data, { organization });\n  }\n  return getJSON('/api/permissions/template_groups', data).then(r => r.groups);\n}\n\nexport function changeProjectVisibility(project: string, visibility: string): Promise<void> {\n  return post('/api/projects/update_visibility', { project, visibility });\n}\n"],"sourceRoot":""}