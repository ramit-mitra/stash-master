(window.webpackJsonp=window.webpackJsonp||[]).push([[256],{1000:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),a=n(11);function o(e){var t=e.className,n=e.fill,o=void 0===n?"currentColor":n,i=e.size;return r.createElement(a.a,{className:t,size:i},r.createElement("path",{d:"M14.325 7.143v1.714q0 0.357-0.25 0.607t-0.607 0.25h-10.857q-0.357 0-0.607-0.25t-0.25-0.607v-1.714q0-0.357 0.25-0.607t0.607-0.25h10.857q0.357 0 0.607 0.25t0.25 0.607z",style:{fill:o}}))}},1001:function(e,t,n){var r=n(1059);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(27)(r,a);r.locals&&(e.exports=r.locals)},1050:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(5),a=n(10),o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e};function i(e,t){return function(e){return Object(r.getJSON)("/api/measures/search_history",e).catch(a.a)}(o({},e,{ps:1e3})).then(function(n){var r=t?{measures:t.measures.map(function(e,t){return o({},e,{history:e.history.concat(n.measures[t].history)})}),paging:n.paging}:n;return r.paging.pageIndex*r.paging.pageSize>=r.paging.total?r:i(o({},e,{p:r.paging.pageIndex+1}),r)})}},1053:function(e,t,n){(e.exports=n(28)(!1)).push([e.i,".line-tooltip{fill:none;stroke:#777;stroke-width:1px;shape-rendering:crispEdges}.chart-mouse-events-overlay{fill:none;stroke:none;pointer-events:all}.chart-zoomed .leak-chart-rect,.chart-zoomed .line-chart-area,.chart-zoomed .line-chart-path{-webkit-clip-path:url(#chart-clip);clip-path:url(#chart-clip)}.line-chart-dot{fill:#4b9fd5}.line-chart-dot.line-chart-dot-1{fill:#236a97}.line-chart-dot.line-chart-dot-2{fill:#24c6e0}.line-chart-event{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-event.VERSION{stroke:#4b9fd5}.line-chart-event.QUALITY_GATE{stroke:#0a0}.line-chart-event.QUALITY_PROFILE{stroke:#ed7d20}.line-chart-event.OTHER{stroke:#9139d4}",""])},1054:function(e,t,n){var r=n(1053);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(27)(r,a);r.locals&&(e.exports=r.locals)},1055:function(e,t,n){"use strict";var r,a=n(33),o=n.n(a),i=n(91),c=n.n(i),s=n(32),l=n.n(s),u=n(232),d=n.n(u),p=n(166),h=n.n(p),f=n(0),m=n.n(f),g=n(7),v=n.n(g),y=n(909),x=n(957),O=n(1023),b=n(9),S=(n(1001),n(1054),r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},D=function(e){function t(t){var n=e.call(this,t)||this;n.getRatingScale=function(e){return Object(x.d)().domain([5,4,3,2,1]).range([e,0])},n.getLevelScale=function(e){return Object(x.d)().domain(["ERROR","WARN","OK"]).range([e,0])},n.getYScale=function(e,t,r){return"RATING"===e.metricType?n.getRatingScale(t):"LEVEL"===e.metricType?n.getLevelScale(t):Object(x.b)().range([t,0]).domain([0,Object(y.e)(r,function(e){return e.y})||1]).nice()},n.getXScale=function(e,t,n){var r=e.startDate,a=e.endDate,o=Object(y.d)(n,function(e){return e.x}),i=r&&r>o[0]?r:o[0],c=a&&a<o[1]?a:o[1],s=Object(x.e)().domain(l()([i,c])).range([0,t]).clamp(!1);return{xScale:s,maxXRange:o.map(s)}},n.getScales=function(e){var t=e.width-e.padding[1]-e.padding[3],r=e.height-e.padding[0]-e.padding[2],a=h()(e.series.map(function(e){return e.data}));return k({},n.getXScale(e,t,a),{yScale:n.getYScale(e,r,a)})},n.getSelectedDatePos=function(e,t){var r=n.props.series[0];if(t&&r){var a=r.data.findIndex(function(e){return e.x.valueOf()===t.valueOf()}),o=e.range().sort(),i=e(t);if(a>=0&&i>=o[0]&&i<=o[1])return{selectedDate:t,selectedDateXPos:e(t),selectedDateIdx:a}}return{selectedDate:null,selectedDateXPos:null,selectedDateIdx:null}},n.getEventMarker=function(e){var t=e/2;return"M"+t+" 0 L"+e+" "+t+" L "+t+" "+e+" L0 "+t+" L"+t+" 0 L"+e+" "+t},n.getMouseOverlayPos=function(e){if(n.state.mouseOverlayPos)return n.state.mouseOverlayPos;var t=e.getBoundingClientRect();return n.setState({mouseOverlayPos:t}),t},n.handleWheel=function(e){e.preventDefault();var t=n.state,r=t.maxXRange,a=t.xScale,o=n.getMouseOverlayPos(e.target),i=(e.pageX-o.left)/o.width,c=a.range(),s=e.deltaMode?25/e.deltaMode*n.props.zoomSpeed:n.props.zoomSpeed,l=c[0]-Math.round(s*e.deltaY*i),u=c[1]+Math.round(s*e.deltaY*(1-i)),d=l>r[0]?a.invert(l):null,p=u<r[1]?a.invert(u):null;n.handleZoomUpdate(d,p)},n.handleZoomUpdate=function(e,t){n.props.updateZoom&&n.props.updateZoom(e,t)},n.handleMouseMove=function(e){var t=n.getMouseOverlayPos(e.target);n.updateTooltipPos(e.pageX-t.left)},n.handleMouseEnter=function(){return n.setState({mouseOver:!0})},n.handleMouseOut=function(e){var t=n.props.updateTooltip;t&&(n.setState({mouseOver:!1,selectedDate:null,selectedDateXPos:null,selectedDateIdx:null}),t(null,null,null))},n.handleClick=function(){var e=n.props.updateSelectedDate;e&&e(n.state.selectedDate)},n.updateTooltipPos=function(e){var t=n.props.series[0];if(n.state.mouseOver&&t){var r=n.props.updateTooltip,a=n.state.xScale.invert(e),o=(0,Object(y.c)(function(e){return e.x}).right)(t.data,a);if(o>=0){var i=t.data[o-1],c=t.data[o];(!c||i&&a-i.x<=c.x-a)&&o--;var s=t.data[o].x,l=n.state.xScale(s);n.setState({selectedDate:s,selectedDateXPos:l,selectedDateIdx:o}),r&&r(s,l,o)}}},n.renderHorizontalGrid=function(){var e=n.props.formatYTick,t=n.state,r=t.xScale,a=t.yScale,i="function"==typeof a.ticks?a.ticks(n.props.maxYTicksCount):a.domain();if(i.length||i.push(a.domain()[1]),e){var c=i.map(function(t){return e(t)});i.length>o()(c).length&&(i=a.domain())}return m.a.createElement("g",null,i.map(function(t){return m.a.createElement("g",{key:t},null!=e&&m.a.createElement("text",{className:"line-chart-tick line-chart-tick-x",dx:"-1em",dy:"0.3em",textAnchor:"end",x:r.range()[0],y:a(t)},e(t)),m.a.createElement("line",{className:"line-chart-grid",x1:r.range()[0],x2:r.range()[1],y1:a(t),y2:a(t)}))}))},n.renderXAxisTicks=function(){var e=n.state,t=e.xScale,r=e.yScale,a=t.tickFormat(7),o=t.ticks(7),i=r.range()[0];return m.a.createElement("g",null,o.slice(0,-1).map(function(e,n){var r=n+1<o.length?o[n+1]:t.domain()[1],c=(t(e)+t(r))/2;return m.a.createElement("text",{key:n,className:"line-chart-tick",x:c,y:i,dy:"1.5em"},a(e))}))},n.renderLeak=function(){var e=n.state.yScale.range(),t=n.state.xScale.range(),r=t[t.length-1]-n.state.xScale(n.props.leakPeriodDate);return r<0?null:m.a.createElement("rect",{className:"leak-chart-rect",x:n.state.xScale(n.props.leakPeriodDate),y:e[e.length-1],width:r,height:e[0]-e[e.length-1],fill:b.leakColor})},n.renderLines=function(){var e=Object(O.d)().defined(function(e){return e.y||0===e.y}).x(function(e){return n.state.xScale(e.x)}).y(function(e){return n.state.yScale(e.y)});return n.props.basisCurve&&e.curve(O.c),m.a.createElement("g",null,n.props.series.map(function(t,n){return m.a.createElement("path",{key:t.name,className:v()("line-chart-path","line-chart-path-"+n),d:e(t.data)})}))},n.renderAreas=function(){var e=Object(O.b)().defined(function(e){return e.y||0===e.y}).x(function(e){return n.state.xScale(e.x)}).y1(function(e){return n.state.yScale(e.y)}).y0(n.state.yScale(0));return n.props.basisCurve&&e.curve(O.c),m.a.createElement("g",null,n.props.series.map(function(t,n){return m.a.createElement("path",{key:t.name,className:v()("line-chart-area","line-chart-area-"+n),d:e(t.data)})}))},n.renderEvents=function(){var e=n.props,t=e.events,r=e.eventSize;if(!t||!r)return null;var a=n.state,o=a.xScale,i=a.yScale,c=t.filter(function(e){return e.date>=o.domain()[0]&&e.date<=o.domain()[1]}),s=r/2;return m.a.createElement("g",null,c.map(function(e,t){return m.a.createElement("path",{d:n.getEventMarker(r),className:v()("line-chart-event",e.className),key:t+"-"+e.date.getTime(),transform:"translate("+(o(e.date)-s)+", "+(i.range()[0]+s)+")"})}))},n.renderSelectedDate=function(){var e=n.state,t=e.selectedDateIdx,r=e.selectedDateXPos,a=e.yScale,o=n.props.series[0];return null!=t&&null!=r&&o?m.a.createElement("g",null,m.a.createElement("line",{className:"line-tooltip",x1:r,x2:r,y1:a.range()[0],y2:a.range()[1]}),n.props.series.map(function(e,n){var o=e.data[t];return!o||!o.y&&0!==o.y?null:m.a.createElement("circle",{key:e.name,cx:r,cy:a(o.y),r:"4",className:v()("line-chart-dot","line-chart-dot-"+n)})})):null},n.renderClipPath=function(){return m.a.createElement("defs",null,m.a.createElement("clipPath",{id:"chart-clip"},m.a.createElement("rect",{width:n.state.xScale.range()[1],height:n.state.yScale.range()[0]+10,transform:"translate(0,-5)"})))},n.renderMouseEventsOverlay=function(e){var t={};return e&&(t.onWheel=n.handleWheel),n.props.updateTooltip&&(t.onMouseEnter=n.handleMouseEnter,t.onMouseMove=n.handleMouseMove,t.onMouseOut=n.handleMouseOut),n.props.updateSelectedDate&&(t.onClick=n.handleClick),m.a.createElement("rect",k({className:"chart-mouse-events-overlay",width:n.state.xScale.range()[1],height:n.state.yScale.range()[0]},t))};var r=n.getScales(t),a=n.getSelectedDatePos(r.xScale,t.selectedDate);return n.state=k({},r,a),n.updateTooltipPos=c()(n.updateTooltipPos,40),n.handleZoomUpdate=c()(n.handleZoomUpdate,40),n}return S(t,e),t.prototype.componentWillReceiveProps=function(e){var t,n;if(e.metricType===this.props.metricType&&e.startDate===this.props.startDate&&e.endDate===this.props.endDate&&e.width===this.props.width&&e.padding===this.props.padding&&e.height===this.props.height&&e.series===this.props.series||(t=this.getScales(e),null!=this.state.selectedDate&&(n=this.getSelectedDatePos(t.xScale,this.state.selectedDate))),!d()(e.selectedDate,this.props.selectedDate)){var r=t?t.xScale:this.state.xScale;n=this.getSelectedDatePos(r,e.selectedDate)}(t||n)&&(this.setState(k({},t||{},n||{})),n&&e.updateTooltip&&e.updateTooltip(n.selectedDate,n.selectedDateXPos,n.selectedDateIdx))},t.prototype.render=function(){if(!this.props.width||!this.props.height)return m.a.createElement("div",null);var e=!this.props.disableZoom&&null!=this.props.updateZoom,t=this.props.startDate||this.props.endDate;return m.a.createElement("svg",{className:v()("line-chart",{"chart-zoomed":t}),width:this.props.width,height:this.props.height},e&&this.renderClipPath(),m.a.createElement("g",{transform:"translate("+this.props.padding[3]+", "+this.props.padding[0]+")"},null!=this.props.leakPeriodDate&&this.renderLeak(),!this.props.hideGrid&&this.renderHorizontalGrid(),!this.props.hideXAxis&&this.renderXAxisTicks(),this.props.showAreas&&this.renderAreas(),this.renderLines(),this.props.showEventMarkers&&this.renderEvents(),this.renderSelectedDate(),this.renderMouseEventsOverlay(e)))},t.defaultProps={eventSize:8,maxYTicksCount:4,padding:[10,10,30,60],zoomSpeed:1},t}(m.a.PureComponent);t.a=D},1059:function(e,t,n){(e.exports=n(28)(!1)).push([e.i,".line-chart-path{fill:none;stroke:#4b9fd5;stroke-width:2px}.line-chart-path.line-chart-path-1{stroke:#236a97}.line-chart-path.line-chart-path-2{stroke:#24c6e0}.line-chart-area{fill:rgba(75,159,213,.3);stroke-width:0}.line-chart-area.line-chart-area-1{fill:rgba(35,106,151,.3)}.line-chart-area.line-chart-area-2{fill:rgba(36,198,224,.3)}.line-chart-point{fill:#fff;stroke:#4b9fd5;stroke-width:2px}.line-chart-tick{fill:#777;font-size:12px;text-anchor:middle}.line-chart-tick-x{text-anchor:end}.line-chart-tick-x-right{text-anchor:start}.line-chart-grid{shape-rendering:crispedges;stroke:#eee}",""])},948:function(e,t,n){"use strict";n.d(t,"c",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"b",function(){return y}),n.d(t,"d",function(){return x}),n.d(t,"e",function(){return S}),n.d(t,"f",function(){return k}),n.d(t,"i",function(){return D}),n.d(t,"g",function(){return j}),n.d(t,"h",function(){return E}),n.d(t,"o",function(){return _}),n.d(t,"p",function(){return P}),n.d(t,"q",function(){return T}),n.d(t,"r",function(){return M}),n.d(t,"s",function(){return w}),n.d(t,"u",function(){return N}),n.d(t,"j",function(){return L}),n.d(t,"x",function(){return A}),n.d(t,"n",function(){return R}),n.d(t,"k",function(){return z}),n.d(t,"l",function(){return X}),n.d(t,"m",function(){return C}),n.d(t,"t",function(){return q}),n.d(t,"v",function(){return Z}),n.d(t,"w",function(){return G});var r=n(32),a=n.n(r),o=n(232),i=n.n(o),c=n(901),s=n.n(c),l=n(1002),u=n.n(l),d=n(1052),p=n.n(d),h=n(6),f=n(25),m=n(1),g=["VERSION","QUALITY_GATE","QUALITY_PROFILE","OTHER"],v=["QUALITY_GATE","OTHER"],y="issues",x=["issues","coverage","duplications","custom"],O={issues:["bugs","code_smells","vulnerabilities"],coverage:["lines_to_cover","uncovered_lines"],duplications:["ncloc","duplicated_lines"]},b={issues:O.issues.concat(["reliability_rating","security_rating","sqale_rating"]),coverage:O.coverage.concat(["coverage"]),duplications:O.duplications.concat(["duplicated_lines_density"])},S="sonarqube.project_activity.graph",k="sonarqube.project_activity.graph.custom",D=function(e,t){return!i()(e.from,t.from)||!i()(e.to,t.to)},j=function(e,t){return e.category!==t.category||D(e,t)},E=function(e,t){return!i()(e.customMetrics,t.customMetrics)},_=function(e){return e.data.some(function(e){return e.y||0===e.y})},P=function(e){return e.some(function(e){return e.data&&e.data.length>1})},T=function(e){return e.some(function(e){return e.data&&e.data.length>1&&_(e)})};function M(e,t){return e.graph!==t.graph}var w=function(e){return"custom"===e},N=function(e,t){return!i()(e.selectedDate,t.selectedDate)},I=function(e,t){var n=t.find(function(e){return"lines_to_cover"===e.metric});return{data:n?e.history.map(function(e,t){return{x:e.date,y:Number(n.history[t].value)-Number(e.value)}}):[],name:"covered_lines",translatedName:Object(m.l)("project_activity.custom_metric.covered_lines"),type:"INT"}};function L(e,t,n,r){return r.length<=0||void 0===e?[]:a()(e.filter(function(e){return r.indexOf(e.metric)>=0}).map(function(r){if("uncovered_lines"===r.metric&&!w(t))return I(r,e);var a=function(e,t){return Array.isArray(t)?t.find(function(t){return t.key===e}):t[e]}(r.metric,n);return{data:r.history.map(function(e){return{x:e.date,y:a&&"LEVEL"===a.type?e.value:Number(e.value)}}),name:r.metric,translatedName:a?Object(m.e)(a):r.metric,type:a?a.type:"INT"}}),function(e){return r.indexOf("covered_lines"===e.name?"uncovered_lines":e.name)})}var A=function(e,t,n){return u()(s()(e,function(e){return e.type}),function(e){return p()(e,n)}).slice(0,t)},R=function(e){return e.length>0?e[0].type:"INT"};function z(e,t){return e.reduce(function(e,n){var r=e[e.length-1],a=n.events.find(function(e){return"VERSION"===e.category});if(a){var o={version:a.name,key:a.key,byDay:{}};!r||Object.keys(r.byDay).length>0?e.push(o):e[e.length-1]=o,r=o}else r||(r={version:null,key:null,byDay:{}},e.push(r));var i=Object(f.f)(Object(f.e)(n.date)).getTime().toString(),c=!0;if(t.category||t.from||t.to){var s=!t.from||n.date>=t.from,l=!t.to||n.date<=t.to,u=!t.category||null!=n.events.find(function(e){return e.category===t.category});c=s&&l&&u}return c&&(r.byDay[i]||(r.byDay[i]=[]),r.byDay[i].push(n)),e},[])}var X=function(e,t){return w(e)?t:O[e]},C=function(e,t){return w(e)?t:b[e]},Y=function(e){var t=Object(h.h)(e);return x.includes(t)?t:y},U=function(e){return e===y?void 0:e};function q(e){return{category:Object(h.h)(e.category),customMetrics:Object(h.b)(e.custom_metrics,h.h),from:Object(h.d)(e.from),graph:Y(e.graph),project:Object(h.h)(e.id),to:Object(h.d)(e.to),selectedDate:Object(h.d)(e.selected_date)}}function Z(e){return Object(h.a)({category:Object(h.m)(e.category),from:Object(h.j)(e.from),project:Object(h.m)(e.project),to:Object(h.j)(e.to)})}function G(e){return Object(h.a)({category:Object(h.m)(e.category),custom_metrics:Object(h.n)(e.customMetrics),from:Object(h.j)(e.from),graph:U(e.graph),id:Object(h.m)(e.project),to:Object(h.j)(e.to),selected_date:Object(h.j)(e.selectedDate)})}}}]);
//# sourceMappingURL=256.69b45bc5.chunk.js.map